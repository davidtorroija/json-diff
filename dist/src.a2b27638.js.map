{"version":3,"sources":["src/json-ht.js","src/base.js","src/formatter.js","src/text-formatter.js","src/console.js","src/console copy.js","node_modules/jsondiffpatch/dist/jsondiffpatch.umd.js","src/jsons.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["left","data","stringYaEstaba","right","unStringAdded","unObjectAdded","objectPepe","hola","isArray","Array","a","getObjectKeys","Object","keys","obj","names","property","prototype","hasOwnProperty","call","push","trimUnderscore","str","substr","slice","arrayKeyToSortNumber","key","parseInt","arrayKeyComparer","key1","key2","BaseFormatter","delta","context","prepareContext","recurse","finalize","buffer","out","deltaType","Error","err","toString","join","leftKey","movedFrom","isLast","useMoveOriginHere","leftValue","value","undefined","type","getDeltaType","nodeType","_t","nodeBegin","rootBegin","typeFormattter","typeFormattterNotFound","typeFormattterErrorFormatter","console","error","stack","nodeEnd","rootEnd","self","forEachDeltaKey","fn","arrayKeys","moveDestinations","name","includeMoveDestinations","sort","index","length","output","lines","split","i","l","line","lineOutput","pieces","location","exec","chr","pieceIndex","piecesLength","piece","pieceOutput","text","OPERATIONS","add","remove","replace","move","JSONFormatter","result","path","pushCurrentOp","op","val","currentPath","pushMoveOp","to","from","toPath","pop","formatDeltaChildren","last","arr","sortBy","pred","compareByIndexDesc","indexA","indexB","lastA","lastB","isNaN","opsByDescendingOrder","removeOps","b","splitA","splitB","partitionOps","fns","initArr","fill","map","item","position","indexOf","reduce","acc","isMoveOp","isRemoveOp","reorderOps","diff","moveOps","removedOps","restOps","removeOpsReverse","defaultInstance","format","log","escapeHtml","unsafe","pushAddOp","actions","added","deleted","movedestination","moved","unchanged","textDiffLine","parseInteger","NaN","number","Number","isInteger","ConsoleFormatter","parent","objResult","parentProperty","setIndex","setParent","parseTextDiff","formatValue","action","modifiedObj","old","new","formatTextDiffString","indent","levels","indentLevel","indentPad","outLine","args","JSON","stringify","global","factory","exports","module","require","define","amd","jsondiffpatch","chalk","_typeof","Symbol","iterator","constructor","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","get","object","receiver","Function","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","inherits","subClass","superClass","create","setPrototypeOf","__proto__","possibleConstructorReturn","ReferenceError","slicedToArray","sliceIterator","_arr","_n","_d","_e","_i","_s","next","done","toConsumableArray","arr2","Processor","options","selfOptions","pipes","_options","pipe","pipeArg","processor","process","input","nextPipe","lastPipe","lastContext","nextAfterChildren","hasResult","Pipe","filters","debug","filter","filterName","exiting","resultCheck","msg","append","_filters","apply","arguments","prepend","_filters2","unshift","list","f","after","params","splice","before","clear","shouldHaveResult","should","noResult","Context","setResult","exit","switchTo","child","childName","root","children","cloneRegExp","re","regexMatch","RegExp","clone","arg","Date","getTime","cloned","DiffContext","_Context","_this","cloneDiffValues","clone$$1","PatchContext","ReverseContext","isArray$1","diffFilter","trivialMatchesDiffFilter","leftType","rightType","leftIsArray","rightIsArray","patchFilter","trivialMatchesPatchFilter","nested","regexArgs","reverseFilter","trivialReferseFilter","collectChildrenDiffFilter","objectsDiffFilter","propertyFilter","patchFilter$1","nestedPatchFilter","collectChildrenPatchFilter","reverseFilter$1","nestedReverseFilter","collectChildrenReverseFilter","defaultMatch","array1","array2","index1","index2","lengthMatrix","match","len1","len2","x","y","matrix","Math","max","backtrack","sequence","indices1","indices2","subsequence","get$1","innerContext","lcs","ARRAY_MOVE","isArray$2","arrayIndexOf","array","arraysHaveMatchByRef","val1","val2","matchItems","value1","value2","objectHash","matchByPosition","hash1","hash2","hashCache1","hashCache2","diffFilter$1","arraysDiffFilter","matchContext","commonHead","commonTail","trimmed1","trimmed2","seq","removedItems","detectMove","arrays","includeValueOnMove","removedItemsLength","indexOnArray2","isMove","removeItemIndex1","compare","numerically","numericallyBy","patchFilter$2","toRemove","toInsert","toModify","indexDiff","removedValue","toInsertLength","insertion","toModifyLength","modification","collectChildrenPatchFilter$1","reverseFilter$2","arraysReverseFilter","newName","reverseArrayDeltaIndex","itemDelta","reverseIndex","deltaIndex","deltaItem","moveFromIndex","moveToIndex","deleteIndex","collectChildrenReverseFilter$1","diffFilter$2","datesDiffFilter","createCommonjsModule","diffMatchPatch","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","opt_checklines","opt_deadline","MAX_VALUE","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","concat","diff_lineMode_","diff_bisect_","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","j","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","d","k1","k1_offset","x1","y1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","chars","lineStart","lineEnd","lineArrayLength","String","fromCharCode","charCodeAt","pointermin","pointermax","min","pointermid","pointerstart","floor","pointerend","diff_commonOverlap_","text_length","best","pattern","found","dmp","diff_halfMatchI_","seed","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastequality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","tokens","param","decodeURI","ex","n","match_main","match_bitap_","s","match_alphabet_","match_bitapScore_","e","accuracy","proximity","abs","score_threshold","best_loc","lastIndexOf","matchmask","bin_min","bin_mid","bin_max","last_rd","start","finish","rd","charMatch","patch_addContext_","patch","start2","length1","padding","prefix","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","expected_loc","start_loc","end_loc","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","shift","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","m","sign","coords1","coords2","TEXT_DIFF","DEFAULT_MIN_LENGTH","cachedDiffPatch","getDiffMatchPatch","required","diff_match_patch_not_found","txt1","txt2","_patch","_error","textPatchFailed","diffFilter$3","textsDiffFilter","minLength","textDiff","diffMatchPatch$$1","patchFilter$3","textsPatchFilter","textDeltaReverse","lineTmp","header","headerRegex","lineHeader","reverseFilter$3","textsReverseFilter","DiffPatcher","_processor","reverse","unpatch","isArray$3","_buffer","_ref","base","freeze","default","HtmlFormatter","_BaseFormatter","htmlEscape","nodeClass","hasArrows","adjustArrows","format_unchanged","format_movedestination","format_node","format_added","format_modified","format_deleted","format_moved","format_textdiff","replacements","jsondiffpatchHtmlFormatterAdjustArrows","nodeArg","node","document","getElementText","textContent","innerText","eachByQuery","el","query","elems","querySelectorAll","eachChildren","_ref2","_ref3","parentNode","style","arrowParent","svg","display","destination","querySelector","container","destinationElem","getAttribute","distance","offsetTop","setAttribute","top","curve","round","showUnchanged","show","delay","body","classes","showing","hiding","visible","hidden","classList","setTimeout","intervalId","setInterval","clearInterval","hideUnchanged","AnnotatedFormatter","row","json","htmlNote","wrapPropertyName","deltaAnnotations","formatLegend","modified","textdiff","formatAnyChange","annotator","defaultInstance$1","format$1","annotated","_ref4","_partitionOps","_partitionOps2","defaultInstance$2","format$2","jsonpatch","chalkColor","_len","_key","colors","_len2","_key2","color","pushColor","popColor","defaultInstance$3","format$3","log$1","console$1","dateReviver","parts","UTC","defaultInstance$4","clone$1","formatters","left2","linkedMedia","intro","outro","customData","background","sizes","width","height","datatype","id","url","provider","a11y","imageSize","poster","realDuration","thumbnail","items","label","description","uuid","uploadedMedia","feedbackCorrect","feedbackHint","feedbackIncorrect","settings","defaultValue","title","information","values","dropdown","content","hideTitle","right2","getElementById","innerHTML","window","includes","delta2","formatter","pepeFormatter","jsonFormatter","resultArr","textFormatter","select","li","createElement","span","appendChild","createTextNode","insertBefore","childNodes","bundleURL","getBundleURLCached","getBundleURL","matches","getBaseURL","bundle","updateLink","link","newLink","cloneNode","onload","href","now","nextSibling","cssTimeout","reloadCSS","links"],"mappings":"ASAA,ACAA,IDAIq1B,ACAAK,MAAM,GDAG,ACAAjqB,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCS6pB,ACCAK,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDCR,MCCM,GDDX,ACCcO,EDDE,ECCE,CAACE,SAAL,EAAd;AJHD,AGGGT,ADDJ,ICCIA,OHHOhqB,EGGE,GAAGkqB,CHHf,EAAkBjqB,OAAlB,EAA2B,AGGA,EAAxB;AHFH,AGGE,ACADuqB,EAAAA,OAAO,CJHDtqB,AIGEwqB,MAAR,CJHD,EIGkB,YAAY,4BJHvBxqB,OAAP,OAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,GAA+DF,OAAO,CAACC,OAAD,EAAUE,OAAO,CAAC,SAAD,CAAjB,CAAtE,GACA,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAAvC,GAA6CD,MAAM,CAAC,CAAC,SAAD,EAAY,SAAZ,CAAD,EAAyBJ,OAAzB,CAAnD,GACCA,OAAO,CAAED,MAAM,CAACO,aAAP,GAAuB,EAAzB,EAA6BP,MAAM,CAACQ,KAApC,CAFR;AAGA,AICG+pB,AFFJ,ARHA,AOAA,CDAC,EAIC,CICEA,AVLE51B,AOAAgyB,GDAL,CIKO,AVLE,CMID,AICAnsB,AHLE,EPAE,COAC,GGKV,IJDe0F,OAAV,EAAkBM,KAAlB,EAAyB;AAAE,AGElC,ACAC,ARNH,AFCE5L,AOAAA,AJDF,EHCEA,AOAAA,CGGA,GVHI,AOAA,EPAE,AOAA,CEKCo1B,SAAP;AACD,AJPD,ADAA,AIIA,ARFIn1B,AOAA+xB,IPAA/xB,AOAA+xB,WAAW,EAAE,CPAC,CODV,CPCY;AMIpBpmB,AICEgqB,AVNM,AOEJ3D,EDGJrmB,AICEgqB,EHJE3D,GDGC,EICI,AHJA,CDGDrmB,AICEmqB,CHJC,GGIT,CJDW,EICIJ,EJDA/pB,EICI,CAACmqB,EJDA,CAAC90B,CICN,CAAU2D,KAAV,CAAgB,GAAhB,EAAqB,CJDrB,AICA,CJDqB,GICK,GAA1B,GJDA,AICgCsN,CJDzC,GAA2CtG,AICE,CAACoqB,GAAL,CJDO,CAAC,AICvD,SJDsD,CAAhD,GAA8DpqB,KAAtE;AGGA,ACDE+pB,AFHF,ARLa,AOGAjH,CPHb,CUQEiH,IAAI,AHLOjH,CGKNjB,EDCE6H,CFNQ,EAAE,KGKjB,CAAgBJ,GDClB,GAAwB,MCDtB,CAA6BU,OAA7B,EAAsCD,IAAI,CAACM,WAA3C;AJAF,AGEE,ACDD,AHNU,KAFH,CDOJpqB,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,MAAM,CAACC,QAAd,MAA2B,QAA3D,GAAsE,UAAUlL,GAAV,EAAe;AACjG,AGEA,ADLF,ARAA,AOFIqxB,IPEEhyB,AOFFgyB,EEOE,GTLK,AOFF,EAAE,CPEG,COLN,ODQQrxB,GAAd;AACD,AGEG,ACDJ,AVJEb,AOFEmyB,EPEFnyB,CMCY,CIGVk2B,AHNA/D,EDKA,ANHE,EAAE,ESKE,IAAI5vB,ACDA,AHNA,EDKA1B,ACLE,CGMC,EJDb,AGEM,EHFS,AGEf,ACDJ;AJAE,AGEC,ADsBD,AR3BEV,AOFEiyB,GEKJ,CAEE,ATLAjyB,EOFEiyB,KDKGvxB,AGEE2B,GHFC,AGER,EAAY,AFPA,CPEC,CMGD,ACLE,CPEC,MMGIsJ,MAAP,INJR,CMI0B,UAAzB,IAAuCjL,GAAG,CAACmL,WAAJ,KAAoBF,MAA3D,IAAqEjL,GAAG,KAAKiL,MAAM,CAAC9K,SAApF,GAAgG,QAAhG,YAAkHH,GAAlH,CAAP;AACD,AGEG,ACFJ,ATZA,ADSIT,AOFIiyB,GDCR,CLRM9xB,ADSFH,ISKIm1B,AFPAlD,CGKC8D,ETZI,EMOA,CNNX,CQaa,AFPA,EPEE,CSKC,ACFlB,CDEmB,ATLA,EUGE,ATXZ31B,GQaegC,ERbV,CQaa,ARbZjC,CQaasD,KAAV,CRbhB,CQaiC2Q,IRbR,CQaT,CAAuB,QRbvC,GAAsChU,KAAK,CAACD,OAA5C,GAAsD,UAAAE,CAAC,yBQavC,CAAd;ACDF,ATZuD,ADQrCJ,AOFHiyB,MGMX4D,AVJc71B,GCRyCI,CAAC,AMM7C6xB,KAAK,CGMpB,AVJ4B,COFN,CGMN,AVJc,ICR0C9xB,EMM3D,GNN0C;AKuBzD,AGTI,ACDA,ATbqD,ADQxBF,AOFAiyB,CNPjC,KKwBItmB,EGTIspB,ATNyBj1B,EOFAiyB,EPEI,EAAE,CSMnC,CFRmC,CEQtB,CFRwB,EDiBvB,GAAG,UAAUrmB,QAAV,EAAoBC,WAApB,EAAiC;AACpD,AGTI,ACDH,ATZH,AOFA,ARQgC,AOFjB,INJTzL,IKsBA,CCnBY,CDmBVwL,GGTKspB,IRbM,CKsBH,ELrBd,GQYqB,CAACD,GRZf50B,GKqBmBwL,CGTG,CAAC,CAAD,ARZhB,CQYQ,ARZPvL,CQYV,GRZJ,GKqBI,CAAJ,CLrBuB,CKqBiB,SLrBxC,GACI,UAAAC,GAAG;AKqBL,AGTC,ARZI,AOET,AREmB,AODX2xB,ICDJ7mB,CRAI,GOCA6mB,CNHK7xB,GKqBH,GLrBS,CKqBLyL,ALrBMxL,AMGJ,CCDC,CDCC,ENHL,AOEO4K,CPFK3K,GAAZ,CKqBH,ALrBD,AMCS,CDoBM,CEnBG,CAAC,eAAD,CAA3B,iBFmBU,CAAN;AACD,AGTA,ACDDq1B,ATZO,ADKLj2B,AODIwyB,CNLN,CSaAyD,ETXI,ADIFj2B,IODIwyB,EAAE,EGQE,AHRA,ENHN5xB,CSWSsuB,ETXN,CDIS,CCJL,CDIO,KUOK,CAAC,YAAY,AHXpB;ADsBjB,AIVG,ATXI,AOERtC,ARFQ,AOGA6F,GDcR,GLjBc5xB,ESWNs1B,AFTA,ADCA1D,CCDCwB,EPFU,AMGR,EGQE,AHRA,CNHS,ESWNrH,ATXR,OOER,CESwB,AFTA,CESCQ,IFTzB,EAA+B8G,SAA/B,CESgB,CAA0B,wBAA1B,CAAZ,CHZc;AEchB,ADJFC,ARVc,AOKN/vB,CPLR,KQUM,CAACqrB,CDLCrrB,CESC,EDJT,CCIE,AFTU,ECKEtE,ADLA,YCKd,KDVkB;ADwBlB,AGTC,ACFG,ATXI,AOSR,ADLQ4yB,ICKF5wB,EFaFsK,CLtBS,CMILsmB,CGOC,AFFE,EPTM5xB,COSH4K,CEED9G,CAAC,EHPE,CDkBD,AIXE,CAAb,AHPc,CNJV,CKsBU,AIXEA,CAAC,ETXQhE,CSWLu1B,CFFG,CPTnB,AOULzoB,EPV+B,AMFhB,CGaW,CAAClJ,EJWA,AEbhB,CACJ,GECN,EAAkCI,CAAC,EAAnC,EAAuC;AJYzC,AIXI,ATXI,AOUNqS,ADNIhU,ECMJgU,MPVUvW,AOUJ,ADNFuC,EGOEuyB,AFDE,EDNA,CDkBDnpB,CLtBS,AMIN,CNJOtL,CSWL,CAACw0B,OTXH,CAAiBv0B,CMHb,CGcR,CAAkBm1B,CJW1B,CAA0B7pB,GIXK,CAAC1H,CAAD,CJW/B,AIX0B,CAASkxB,CJWDvpB,CLtBtB,CAAgCtL,CSWpC,EJWR,CLtBY,CKsB6B,ALtBQL,ESWJ40B,CTXjC,EAA0C10B,GSWH,CAACu0B,ITXxC,CAAJ,EAAyD,KSWpB,EAAzC,EAAgE;AJYlE,AGTJ,ACFQI,ATXI50B,AOUN,ADNE8xB,MNJI9xB,ESWJ40B,AHPA9C,CESC4C,EHSA,ALtBQ,CAACr0B,AMIN,EAAE,CDkBD0D,CAAC,ALtBF,AMJM,CNIK9D,CSWL,CJWD,AGTjB,ACFmBq1B,CJWf,AGTgB1D,EHSA7tB,CAAC,AGTrB,CCFwB,CDEC,ACFAA,ATXb,CKsBY2H,AIXA,CAAN,CAAV,GJWqB,CAAC/H,MAA1B,EAAkCI,CAAC,EAAnC,EAAuC;AACrC,AGTJ,ACFK,ATXI,AOULoS,ADNE+a,ICMF/a,IDNE+a,CESC,CAAC,EHSAvlB,EEZM,CCGDimB,CDHG,ECGT,CFTU,CESC7sB,CDLR,ADJS,CDkBD,AClBE,GDkBC2G,EGTd,CAAmB,EHSA,CAAC3H,CAAD,CAAtB,eClBe,CATH,iDEkBT,EAA2F,IAA3F,IAAmG,GAA1G;AHUI4H,AGTL,ACFI,ATXI,AOUH,ADNEomB,QDkBFpmB,AClBEomB,SAAS,CDkBD,CAACnmB,AClBE,UDkBb,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AACAD,AEZA0K,ADPemb,ICOfnb,IFYA1K,ECnBe6lB,KAAK,EAAE,CDmBZ,CAAC3lB,ECnBE,CCOK,EAAE,OFYpB,GAA0B,IAA1B;AACA,AGTNrB,ACFI4qB,ATZI,AOMI,ADHsB3D,GCExB,CEON2D,GDEG,CAACZ,CRdOx0B,CMGmByxB,EDoBxB,EIXI,ATZN,EMGgC,CGSvB,CHTyB,EEW1C,CCFI,EJWiB9lB,AGTE4oB,UHSjB,EAA2B5oB,MGTjC,IHS2C,CAACG,QAAX,GAAsB,IAAtB;AAC3BjM,AGTN2K,ACFG,ATZI,AOWHqI,ADTe,CNbnB,COsBIA,CERqB,EASpB,EDEE,ACXkB,CJoBnBhT,AGTE60B,ACXN,CHXgB,KD+BN,CAAC3oB,CEZK,ECGlB,ADHoB,GCGC2oB,QHSf,CAAsBjpB,CGT5B,KHSM,EAA8BE,IEZPpI,IAAT,EFY0B,AEZXrC,CFYYP,GAAzC,EAA8CgL,CEZhC,EAAwB,OFYtC;AACD,AIXJ,AFDK,ADTEqmB,QAAAA,MAAM,EAAE,EAXE;ADiCf,ALvBH,AMEQC,INFF3xB,IMEE2xB,UNFY,EMEA,CNFG,CMED,KAZJ,GNUZ3xB,cAAiB,CAAAC,GAAG,EAAI;ASa9BkK,ATZE,AMEMynB,MGUF,ATZA3xB,CSYCiK,CHVC0nB,CNFC,CAAC1xB,ISYV,ETZM,CSYW60B,ATZA,AMEA,CNFX,CMEa,CNFC,CAAd,KSYN,CTZ2B,GAAzB,EAA8B;AKwB9B,ALvBE,AIhBJ,ADAA,AGIkB,IFJdhtB,ADAAA,OEuCK,ALvBE9H,AIhBA,ADAA,GHgBG,AIhBA,ADAA,CHgBCE,KAAJ,CKuBQ4K,ALvBE,CAAV,CAAP,SKuBK,EAAuBW,UAAvB,EAAmCC,WAAnC,EAAgD;AACrD,ALvBD,AIhBD3D,ADAAA,AGEc,EFFdA,ADAAA,GGFM,EFED,ADAA,ECAE,ADAA,CEuCD0D,MDxCM,ADAA,IEwCV,EAAgBR,gBAAgB,CAACH,WAAW,CAACnL,SAAb,EAAwB8L,UAAxB,CAAhB;AAChB,ADvCFzD,ADAAA,AI2BI,ADTF4pB,EFlBF5pB,ADAAA,EGkBE4pB,KFlBK,ADAA,AGkBA,CDqBDlmB,CDvCG,ADAA,AI2BE,ADTF,CCSG,ADRR,CCQS,OH7BD,ADAA,CEyCV,EAAiBT,GEZP,EAAgB,WFYO,AEZvB,CFYwBH,CEZK,OAA7B,EAAsCkoB,CFYf,EAActnB,KEZrC,CAA+C1I,IAA/C,CFYuB,AEZ/B,CFYe;AACjB,ALxBF,AIfAiF,ADAAA,AI2BG,ADRG4pB,EFnBN5pB,ADAAA,IGmBM4pB,GNJC7xB,EMII,CNJX,CKwBS8K,ACpBI,IFnBE,ADAA,ECAE,ADAA,GGkBb,EDqBF,MD1CU,ADAA;AE2CX,ALxBF,AIfC5C,ADAAA,AIYQ,ADOF4pB,CNTR,AOCc,CHXZ5pB,ADAAA,CI4BCf,EFOD,CChBM2qB,CFnBD,ADAA,AIWO,CAiBNpzB,CH5BC,ADAA,OCJK,ADAA,CGuBK,EAAE,ECSRC,IAjBC,EAiBKE,IDXb,UCWmBF,IAjBX,CAAd;AF6BC,ADvCCwJ,ADAAA,AI8BA,ADXMwoB,EFnBNxoB,ADAAA,CEuBgB,CEOV8qB,CFPR,CCJQtC,ICWM,CH9BH,ADAA,ECAE,ADAA,AI8BIrmB,IDXE,EAAE,EAHf,GFrBQ,ADAA,EImCgB,CAC3BgC,MADc,CACP;APfV,AIfE/J,ADAAA,AI+BEsT,ADZIkc,EFnBNxvB,ADAAA,AI+BEsT,EPhBE1V,EMIE4xB,CFnBD,ADAA,CI+BG,CH/BD,ADAA,CI+BG,ADZA,EAAE,IFzBA,ADAA,AGqBR,QNAoB,GAAG,SAAvB5xB,oBAAuB,CAAAC,GAAG,EAAI;AK+BpC,AL9BE,AIfAgI,ADAAA,AI+BI,ADZEkL,EFnBNlL,ADAAA,IE6CEuD,AL9BEvL,AMIEkT,CAAC,ED0BF,AL9BE,AMIE,GD0BD,EL9BI,AIfA,ADAA,ECAE,ADAA,EHed,EAAkB,CK8BD3H,GAAT,CAAaC,EC/BjB,ID+BI,EAAqBlM,QAArB,EAA+BmM,QAA/B,EAAyC;AACjD,AL9BE,AIvBU,ADAA,AIuCR+J,ADZErC,CF3BR,ADAA,GIuCMqC,EDZErC,CAAC,CD0BH3H,CC1BK,ENJA,CAAC,CAAR,CK8BQ,AEdI,EAAE,GFcD,EEhBL,EFgBV,EAAqBA,CChCjB,KDgCuB,GAAGE,QAAQ,CAACnM,SAAlB;AACrB,AL9BC,AOgBG,ADZEqyB,GNNN,GMMMA,ED0BFjmB,CL9BG,GK8BC,GAAGzM,IC1BQ,ED0BF,AC1BI,CD0BH0M,wBAAP,CAAgCJ,MAAhC,EAAwClM,QAAxC,CAAX;AL7BE,AIfJ,ADAA,AI+BMoW,ADZIxC,ICYJwC,IPhBE1V,AMIEkT,CFnBDjL,ADAAA,AGmBE,ENJA,AMIE,CNJDpI,CMGW,KNHf,CAAW,CAAX,CIfR,ADAA,CHesB,AIfA0B,ADAAA,AI+BE,CPhBhB,COgBkB,GH/B1B,ADAA,EHe6B,AIfA,ADAA,GHezB,EAA8B;AK+BhC,AL9BI,AIfJ,ADAA,AI0BU,ADPF4R,GCMA,GHzBJ5R,ADAAA,EE6CAoK,AC1BIwH,CAAC,EFnBA,ADAA,AGmBE,CD0BH,CL9BGlT,AMEU,GFjBP,ADAA,CE6CDuB,CD7Cb,ADAA,ECAkB,ADAA,CHeC,CAACxB,GAAG,CK8BvB,AL9BwBF,CIfCoI,ADAAA,CE6CD,ED7CN,ADAA,CHeE,CAAU,CAAV,CAAD,EAAe,EAAf,CAAf;AK+BF,AL9BC,AIfH,ADAA,AI+BEgK,ADZMuf,ECYNvf,GPlBA,CIbI/J,ADAAA,EGmBEspB,ED0BFlpB,CL9BG,CIfG,ADAA,CGmBC,EFnBEH,ADAAA,AGmBA,CD0BH,AEdI,CDfK,CCeH,CFcHlJ,ED7CM,ADAA,CCACqC,ADAAA,GE6CD,CAACsK,CD7CD,ADAA,CCArB,ADAA,YE6Ce,CAAsBL,CEdV5I,IAAT,CFcH,CAAb,AEd+BrC,OAAf,EAAwB;APftC,AIfJ,ADAA,AI+BI,ADZImxB,QAAAA,CFnBDtpB,ADAAA,IHeInI,EIfE,ADAA,CCACoI,ADAAA,GGmBK,ENJA,AMIE,CNJDrI,CMAC,ENAF,AIfZ,ADAA,CCAiBmI,ADAAA,CHeC,EAAN,CAAR,EIfJ,ADAA,CHewB,GAA3B,AIf8BA,ADAAA,MCA3B,ADAA,GCAoCD,ADAAA,GCA3C,ADAA;AE8CE,AL9BC,AIfJ,ADAA,AGmBS2pB,QAAAA,ED0BFtpB,MAAM,KAAK,EC1BM,ED0BrB,AC1BuB,ED0BF,AC/BF;ADgCjB,AL9BH,AC9BH,AKkCUupB,AJlCV,IDAM7tB,ACAAA,IIkCI6tB,MLlCM,ACAA,CG4DHtwB,EJ5DM,ACAA,GIkCG,EAAE,ED0BlB,AChCiB;ADiClB,AL9BJ,AIhBD,ADAA,AFdE0C,AKkCQ6tB,AJlCR7tB,CFoBF,CCpBEA,ACAAA,GDAG,ACAA,EG0DD,AJ1DG,ACAA,CIkCG6tB,CFpBD1pB,ADAAA,GFfU,CI6DR,CH7DQ,IEenB,ADAA,CCAmB9G,ADAAA,KCAnB,ADAA,CGoB2B,CFpBD,ADAA,CGoBG;AD2BvB,AD9CJ,ADAA,AFdA4C,AK0BqB,AJ1BrBA,EDAAA,ACAAA,IEcMI,ADAAA,EFdA,ACAA,EDAE,ACAA,EEcI,ADAA,GE8CDgH,AD9CItD,ADAAA,GE8CD,AJ9DG,CI8DFM,AH9DE,MG8DH,EAASjJ,AD9CI,ADAA,CCACiC,ADAAA,KCAD,ADAA,CCA3B,ADAA,CE8Cc,EAAmBkK,QAAnB,CAAV;AACD,AL9BL,AIhBE,ADAA,AFdArH,AM8CI,AD5BA,AJlBJA,EDAAA,ACAAA,EF8BIlE,CMbK,IFHF,ADAA,AFdA,ACAA,CEcC0F,ADAAA,CFdC,AM8CE,AL9CF,CK8CG,CAAC,EHhCA,ADAA,CCACrB,ADAAA,IHgBM,ACjCH,CCAA,CEiBJ,ADAA,CHgBU,AIhBvB,ADAA,GIgCY,EAAgB,IPhBxBrE,OOgBQ,EAA6B,OPhBlB,AOgBX,CPhBYC,COgB0ByyB,GPhB3B,EAAOxyB,GOgBlB,CPhBW,AOgBoCwC,IAA/C,CAAR;AFeH,AL/BsB,AIfxB,ADAA,AFdCyB,AM8CG,ADnDG,AJKNA,EDAAA,ACAAA,CINY,ED0DZ,CJpDI,ACAA,EDAE,ACAA,CF8BNtE,EK8BO,IAAI,WAAW4L,GL9BF,CK8Bb,AL9BcxL,EK8BO,EL9BR,CAApB,GAA6BJ,oBAAoB,CAACK,IAAD,CAD1B;AKgCrB,ALhCqB,ACjCN,AMoCT,ADIR4xB,AJxCiB,CFiCnB,ACjCA,AMmCiB,ALnCjB,CIwCEA,CCYCjrB,IAjBc,CAiBTupB,EDZE,EAAE,CDyBD3kB,ACxBP,IDwBW,CAACpK,EE9BC,EAiBFixB,CFaX,YE9Ba,CAAf;AF+BC,AEbHG,ADXMV,IFtBA3pB,ADAAA,AGsBA2pB,CDsBG,CEXH,CAAC/iB,CAAP,GFaS,AEbE4jB,KDXO,EAAE,WCWpB,EAEA,EDdI;AD0BA,AEXJ,ADbMZ,AJpCN,IF6BM7xB,AC7BAiE,AKoCA4tB,KAAK,AJpCF3qB,CG4DDuE,CCxBK,KDwBC,GAAGH,AH5DjB,CAAoBnE,GG4DC,CAAC+D,AC1BlB,EJlCJ,CG4DI,CH5DwB;AKkD5B,ADbM9J,AJpCJ,IIoCIA,IAAI,CJpCD+F,CIoCG,KJpCG,CACVpD,CIgCD,MJjCK,CACI,IADJ,EACU,OADV,EAEJA,OAFI,CAEI,IAFJ,EAEU,MAFV,EAGJA,OAHI,CAGI,IAHJ,EAGU,MAHV,EAIJA,OAJI,CAII,IAJJ,EAIU,QAJV,EAKJA,OALI,CAKI,IALJ,EAKU,QALV,CAAP;AG6DE,AEXJ,ADbM+tB,AJ/BL,II+BKA,MDwBErmB,KCxBS,CDwBH,CCvBN,IDuBWtK,SAAf,EAA0B,2FC5B1B;AD6BE,ACvBA4wB,IAAAA,MAAM,EAAE,CAAC,EDuBF5wB,SAAP;AACD,ADlDH,ADAA,AIsCFU,ADZiBuvB,IJ/BXntB,EI+BWmtB,CCYV,CAACnqB,GAAR,ADZsB,CCYV,CDZY,MCYxB,EAAqBhH,KAArB,EAA4B,EHtCZ,ADAA,EIsCgByyB,oBAAJ,GAAoB1rB,MAApB,CAA2BwrB,MAA3B,CAA5B,GACA;AHvCgB,ADAA,AFbd,AMqDF,ADde,KAAD,EAA6B,oBLvC3B;AIiEZ,AJjEY,AKuC6BpB,MAAAA,KAAK,ED0BvC3lB,AC1ByC,MD0BnC,CAACrM,IAAP,CAAYgM,QAAZ,CAAP;AACD,ADrDa,ADAA,AIyChBvJ,ADf2C,KAA7B,ECeP,CAACoF,GAAR,CAAY,IAAZ,EAAkB,IAAI0rB,gBAAJ,GAAoB3rB,MAApB,CAA2B/G,KAA3B,CAAlB;AFaC,AJnEe,AMuDhB,ADtBI,GDWJ,ACZY,CCuBN2yB,CDdF,QCcW,GAAG,IAAIC,sBAAJ,CAAkB5yB,KAAlB,EAAyB+G,MAAzB,CAAgC/G,KAAhC,CAAlB;AHzCI,ADAA,AI0CJ,ADdM2xB,AJjCJ,IK+CIkB,ADdAlB,MCcM,GAAG7G,GDdG,EAAE,GCcG,CAACqH,KP3BfnyB,AMYL,AJhCY,OFoBAhC,EO2BD,CAAwB,GP3BjB,GO2BP,CAAf;AFaA,ALvCI,AIfA,ADAA,AFdA,AK0CE4zB,AJlCU,IIkCVA,ED0BFnmB,GC1BO,CNbDxL,AIfDsC,ADAAA,CG4BI,GD0BD,GAAG,ALvCE,GAAG,EAAhB,KKuCqBmJ,MDtDrB,ADAA,AG0BA,ED4BW,CDtDoB,ADAA,CEsDAC,IDtD/B,ADAA,MEsDW,EAAgC;AAC7C,ALvCE,AIlBY,ADAA,AFXZ,AMwDJ,ADdMxK,IAAAA,CCcD,GFYC,AC1BI,CCcD2B,CNxDAP,AMwDC,ADdE,CNbHrC,EO2BI,CAAb,CFYayL,CEZG7I,CAAC,ADjBb,GCiBgB6vB,KFYd,ALvCF,CAAoB1yB,GO2BK,CFYD,AEZEyC,GP3B1B,AC7BA,GAA+B,AMwDnC,EAAsCI,CAAC,CFYjC,AJpEF,CMwDJ,EAA2C,CFYD6I,UAAU,KAAK,IAAvD,EAA6D;AAC3D,ALvCA,AIhBD,ADAA,AFhBa,AM2Dd,ADdIkmB,AJpCU,IIoCVA,ECcAiB,EAAE,GP3BC3yB,AO2BE2qB,CFYD,GC1BO,CD0BHzgB,CCzBN,CNdJ,CAAapK,AO2BE,CAAC8yB,KFYV,CAAc,ALvCpB,EAAsB/yB,KAAtB,AO2BO,CAAuB,CP3BDhC,GO2BtB,CP3BP,AO2BF,yDFY0F2N,SC9BxF,CD8BoB,CAAd,CAAN;AACD,ALvCC,AC9BD,AMyDD,ADbImmB,IAAAA,ECaAkB,IAAI,ADbE,EAAE,CNdH,AO2BElI,ADZL,KNfQ1qB,GO2BK,CAAC2yB,IP3BX,CAAc9yB,OAAd,CAAP,AO2BS,CAAuB,MAAvB,CAAX;AP1BC,AO2BD+yB,ADbQ7B,AJtCN,EKmDF6B,IAAI,ADbI7B,CCaH8B,IDbQ,EAAE,KCaf,CAAiBnI,QAAQ,CAACoI,cAAT,CAAwBpwB,CAAxB,CAAjB;AFaA4I,AEZAonB,ADdM,AJrCJ,EKmDFA,EFYApnB,AEZE,CAACunB,ADfS,EAEN,GJtCC1wB,EG+DC,CAACtD,GEZT,CAAe+zB,IAAf,CFYA,GAAqBp0B,MAAM,CAACgN,CH/D1B,GAA+B,EG+DZ,CAAcD,CH/DjC,SG+D2C,IAAIA,UAAU,CAAC1M,SAAvC,EAAkD;AACrEgL,AEZF,ADbQknB,AJzCM,MGkEZlnB,AEZEvG,ADbIytB,ICaA,CDbK,ECaFrG,ADbI,IDyBF,EAAE,AC1BT,ECca,CAACoI,aH7CLjzB,ADAAA,CI6CJ,CAAwB0yB,OH7CX,ADAA,EI6CoB,CAAC7vB,CAAD,CAAjC,CAAX;AFaI7B,ADzDF,ADAA,AI6CF6xB,ADbQf,AJvCP,EKoDDe,EAAE,CAACG,CDbKlB,EDyBJ9wB,KAAK,CCzBO,CDyBLyK,CEZX,ADbkB,CCaHhI,IAAf,EFWe,YLvCAzD,AC/BAA,SD+BS,AC/BA,+CGcDA,ADAAA,OCArB,ADAA;AE0DE0K,ALxCF1K,AC/BA,AM2DF4yB,ADbU5xB,ECaV4xB,IP5BE5yB,EKwCE0K,AEZE,ADbI1J,CCaHkyB,IP5BE,AMeM,CNfL9yB,CMeO,GDyBH,EAAE,ALxCd,CO4BF,ADdkB,CCcEyyB,CP5BD,CO4BnB,CFUe,ALtCb,CO4BsBD,MAAM,CAACO,UAAP,CAAkBtwB,CAAlB,CAAxB,0CN3DuB7C,OAArB;AIwEE4K,AD1DF5K,ADAAA,AI8CH,ADbWkB,MFjCRlB,ADAAA,EE0DE4K,ACzBM1J,IAAI,CFjCL,ADAA,CCACsB,ADAAA,AGiCM,EDyBJ,EAAE,CD1DZ,ADAA,CG+BgB,EDwBH,ADvDG,ADAA,ECAhB,EDAA;AE2DEmI,ALzCF3K,AGjBAA,AFdAA,AK+CQ+xB,MNhBR/xB,AGjBAA,AFdAA,EIwEE2K,ACzBMonB,KNhBD,AGjBA,AFdA,CD+BC1xB,AGjBA2H,AFdAhE,CK+CO,ENhBf,AMgBiB,GDyBH,ALzCA,AGjBd,AFdA,EIwEgB,CF1DC,AFdA,EAAjB,EEcA,GG8BgB,ENbgB;AKqCnB,ALrCmB,AIjBhChE,ADCAA,AFdAA,AK+CQ6xB,MFlCR7xB,ADCAA,AFdAA,EK+CQ6xB,KFlCD,ADCA,AFdA,CGaCjpB,ADCAX,AFdAhE,AK+CM,EAAE,CACN,CLhDV,EGaA,CHbe,EGaE,ADCjB,AFdA,GEcoB,IAApB,GCD0B4E,EFPb7I,IEOI,EAAiB,GFPZ;AG4D+C,ADpDnE,ADCFA,AGiCYgB,AJzCZ,KG2DmB,CAArB,AFnDEhB,IGiCYgB,GFlCL8H,ADCA,CAACZ,CGiCS,EAAE,MAAT,CFlCR,GACE,CAAC,ADAL,GAAyB,ECAfY,EDAV,SCAK,IAAoB,CAArB,KAA2B,OAAOD,MAAP,KAAkB,WAAlB,GAAgC,CAAhC,CFRV7I,EEQ8C6I,KFRnE,CEQI,CADF;AC4DJ,AL3CI,AIfA,AHfF7I,AK+C2BkB,ML/C3BlB,EIyEE0L,EC1ByBxK,GFhCpB6H,AHfA,CAAC7E,AK+CuB,EAAE,ED0BnC,EAAgBvF,ED1DZ,AEgCQ,GFhCS,CC0DC,CAACiN,AJzErB,ED8BOxL,AIfgB5B,CHfC,IGeL,CJejB,AIf2B,EJefW,GIfoB2J,AHfDjK,CIyEnB,AL3CZ,EC9BsB,CIyEcF,CJzEA,KIyEM,CAACiN,AD1DhB,GAAmB,CAA7B,EAAgClL,IAAhC,CAAqC,GC0DlB,CAAsB+K,AD1DzC,CAAjB,OC0DoC,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACI,SAAT,GAAqBH,UAA3F;AACjB,AL3CI,AIfC,ADDF1L,AFfsC,AK+CG+xB,AJxCzC/xB,GGqDJ,GF7CIA,ADRAA,CFsBA,GMkByC+xB,EL9C/B5tB,CGeH6E,ADDA,ADRA,CCQCb,AFf8B,ACO9BnE,GDNgBnF,AK8CwB,EAAE,CF/BhD,AHhBoC,ACOtC,CDNUsF,CEcV,CFfsC,ACOrB,ECQE,ADRnB,UCQ4B3B,KAAT,EAAgB;AHiBpC,AIfE,ADDC,AFhBoC,AK+C5B,AJvCVxC,MAAAA,CEIA,EEkCgB,EAEN,CL/CIgB,CEePwB,ADRA,CAACyB,GDR8B,CEgBpC,ADRF,EDPwBpF,CEeT2D,ADRA,EDRuB,ACQtC,CDPcxB,EEeZ,GFhBoC;AIsF1C,AFrEK,AFfC,AK+CUA,MDqCZ8K,CFvEA,GGkCY9K,EL/CJoD,GAAG,AK+CM,EAAE,CL/CL,UK8CJ,GDsCe,GAAG,UAAUpC,IAAV,EAAgB9C,IAAhB,EAAsB;AACpD,ADrEEc,AHfImE,AK+CQjD,AJzCZlB,MESAA,AFTAA,EG8EE,CAACgC,CJpFCmC,AK+CQjD,EL/CN,CIoFR,ADrES,AFTA,CESC8H,AHfJ7E,AK+CY,AJzCRD,CG8EC,CJrFK,AKgDI,KFhClB,CE8BU,EF9BQ,GFTlB,GAAwB,MESK,IFTIrF,GAAT,EAAc;AG+EtC,ADrEE,ADDFmB,AFdIiE,AK+CQ8tB,AJ1C0B,MCStC/xB,IFdIiE,AK+CQ8tB,EDqCN,AH9EI5tB,CESH/D,ADDA,CAACgI,AFdA,ACK8B,EG+E5B2D,AJpFA,CK+CS,AJzCKlN,EEStB,AEgCmB,CFhCPM,AFVwB,CDLvBkF,ACMLF,ECQV,ADTsC,CEUpC,EDDkB,IEsEd,CAAmB,CJpFf,IEcmB6D,CCCL,KAAKe,ADDT,CHgBC/I,CGhBgB,OCCb,CJeMM,GIfY,EAAxC,MJeuC,2BKsDnC,CAAN;AACD,ALtDC,AIfC,ADDC,AFjBY,AK8CJ,AJvC4B,OEStC,EHhBE,AK4Cc,EAON,CNlBJ,AEzBQU,CCSPgH,GHgBGzH,CE1B4B,ECUpC,CDTsB1B,CFyBlB,CGhBUmJ,CDVsB,CACxBhH,ICSZ,CDVoC,6BF0BOV,SAAvC,EAAN;AACD,AGhBE,AGiCWU,AJ1CV,OCOF,GGmCYA,EJ1CJoD,GI0CS,AJ1CN,EI0CQ,CJ1CL,KI0CJ;ADsCZ,ADtEEpE,ADCD,AFhBG,AK+CyBkB,AJzCvBiD,MESJnE,IEgC2BkB,AJzCvBiD,CG+ECjF,CJrFC,ACMA,CESC,CAACmB,AEgCuB,AJzC3B8D,CG+EK,CCtCwB,AJ1CnB,CEUd,EHfanD,CIqFC,ADtEA,EEgCJ,EL/CJ,KIqFe9B,AJrFE,GGeS,CCsElB,MAAgB,CJrF5B,EAAkC,KIqFtB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0E8C,IAAjF;AACD,ADvEmC,AHd5BoC,AK8CqC2tB,AJxCrC9tB,GGyER,OJ/EQG,AK8CqC2tB,AJxCrC9tB,GDNG,CAACjD,ACMA,EAAE,CIwCsC,EL9C5C,AK8C8C,EJxCnCqD,CDNCrD,KAAZ,KCMM,UEQgBiI,IAAM;AAANA,AHbvB,AK6CO,AJ1CI,SImCE,AJnCd,CEUwBA,CEiChB,GFjCsB,mCJiBLjJ,SAASQ,KAAK;AK4D7C,AL3DI,AIlBgC,AEiCpBQ,MD4CZgL,IC5CYhL,GNfLR,EMeU,CNfP,CAACC,AMeQ,ED4CN,GAAG,GL3DT,EAAP,AMeU,OD4CkB,eF1EDT,SAASQ,KAAK,CACzC;AE0EF,AL3DC,AGdA,AFjBG,AK6C6BU,AJvC7B,UIuC6BA,EJvCzB,CGoFC+K,AJ1FAjI,CK6C4B,EAAE,GL7CnC,ACMWhD,CDNC7B,EK6CJ,EL7CR,ACMI,CDNaiF,CI0FrB,CAAuBS,CJ1FnB,CCMqB,CGoFzB,EAA4BhC,CAA5B,EAA+B,KHpF3B,EAAkC;AGqFpC,AD9EE,AHZD,AK4C4CkvB,AJtCzC3tB,ODhBJ,GIoGI8H,AC9CyC6lB,AJtCzC3tB,GEMG,AFNA,CGoFC,AHpFApD,GGoFG,AD9EA6B,AEgCyC,CFhCxC,CC8EZ,AC9CsD,AJtClD,EEMW,CAAR,AFNS7B,EEME8B,CAAC,EFNf,CEMkBmG,IAAI,CAACxG,MAAzB,EAAiCI,CAAC,GAAGC,CAArC,EAAwCD,CAAC,EAAzC,EAA6C;AC+E/C,AD9EI,AE+BM,AJrCP,SI6Ba,AJrCsB,CG4FlCsJ,AHnFF,CIqCQ,CD8CJ,ED9EExJ,CC8EC,IAAT,AD9Ea,GAAGsG,IAAI,CAACpG,CAAD,CAAJ,CAAQD,KAAR,CAAc,IAAd,CAAZ;AC+EJ,AD9EI,AHZJ5C,AK4CYgB,ML5CZhB,II0FIoM,AC9CQpL,ED8CN,CJ1FC,CGYCyC,AHZAa,CI0FC,AC9CQ,EAAE,CFhCP,EC8EZ,CD9Ee3B,GHZf,EGYoB,CAACjC,AHZA,IGYN,CDILV,AG2BA,GNbS,EC9BWuE,EAAT,EEgBFvD,AFhBe,GGYH,IDIL,CCJU+H,ADKpC,SCL+B,IAAkB,EAAlC,EAAX;AC+EJ,AL7DmB,AIjBf,ADKL,AFjBG,AK4CU7H,UD8CRmL,AL7DKjM,AMeGc,ED8CN,AJ1FEsD,EK4CQ,CD8CPvD,AD9EAb,CJiBU,AC7BP,AK4CM,GL5CH,EGYX,CAAYjB,AE8BN,EDgDV,AL7DSiB,AC7BWiE,EGYhB,CAAiBZ,GJiBF,CIjBf,IHZW,EAAb;AGaC,AHZD,AK4CUsuB,AJvCV,UIuCUA,GL5CL/tB,ACKAA,IIuCY,EL5CjB,AK4CmB,AJvCnB,CDLY7E,ACKAA,IDLZ,ACKA,CDLiB,gBCMN,KAAK8E,IAAL,CAAU,CAAV,CADX,uBACmC,KAAKA,IAAL,CAAU,CAAV,CADnC,gBACoDE,EADpD,qBACgEnD,KADhE;AGsFF,AL9DA,AIhBC,AHZGmD,AKwCM,AJjCT,OEDD,AFZA,EIqCgB,CD2DZ,AL9DA5F,AC5BA4F,CK6CM,CL7CJ,EAAET,GD4BG,CAACtD,MAAD,AC5BO,CD4BlB,AC5BmB0D,ED4BE,EC7BF;AI4FjB,AL9DA,AC5BEU,AK4CQxD,UL5CRwD,AK4CQxD,GD8CL,CJ1FC,CD4BCZ,AMgBQ,CL5CPoE,CI0FC8H,AC9CQ,ED8CN,CJ5FM,CD8BJ,CK8DCzH,AL9DAnE,GK8DG,CAACoJ,AL9DX,CAAY,CMgBX,CNhBD,CAAP,EK8DwB,CAACC,QAAR,AF1EA/J,CE0EH,EAAT,EAAiCuM,EAAtC,EAA0C,AF1EhBvL,EE0EkBmL,EAAE,GAAG,AF1EhB,CE0EiBI,EAAE,GAAGD,EAAE,CAACE,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyEN,EAAE,GAAG,IAA9E,EAAoF;AAClFD,AL9DH,AIjBDlM,ADKA,AFhBIiE,AK2C4B/C,AJpChClB,MEIAA,AFJAA,IGmFIkM,AF1EAvJ,AFhBAsB,AK2C4B/C,GFhCzB,AFJA,CGmFC,AD/EAiH,AHXA,AK2C4B,AJpC5BjB,CGmFC/H,AF1EA,CFhBC,AK2C4B,EH3B1B,CE0ER,CAAUoN,CJ1FC9H,CI0FC,AD/EhB,AEgCU,CD+COzD,AF1EAqH,ADTjB,EEImB,CFJC,CDPV,CI0FN,AJ1FkB9D,EAAZ,KGWkB/B,CDKhB,ADTiB3D,CCSEmC,EDTX,CEID,CFJe,CEIC,ADKvB,CAAZ,CADmC,CAEnC;AHYD,AIjBG,AHfiB,AK8C2B+wB,AJpCZ,SDVhC,CK8C4CA,EJnCpC5tB,CEIH3B,CFL2B,GIoCmB,AJnC7B3D,CEItB,CE+BqD,CJpCrB,CEKnB2D,AFJL2B,EADwB,GEKhC;ACgFE,AD/EH,ADKD,AFhBC,AKyCS,AJpCwB,OEIlC,AHhBA,EKkCgB,EHXX,AG0BK,CJpCInD,EGoFN6B,CAAC,AF1EAA,CAAC,CDXwB,EGqFrBqJ,AF1EA,CAAR,ADVmBrN,ECURiE,CE0EC,AF1EA,ADXiB,CGqFhBL,AHpFJzB,ECUM2B,GDXc,CGqFrB,CF1EY,CAACF,GE0EGI,CAAzB,EAA4B,AF1EhC,EAAkCA,CAAC,GAAGC,CAAtC,EAAyCD,CAAC,EAA1C,EAA8C;AE2E3C,AD/EJ,ADKG,AGyBU7B,AJnCV,UImCUA,EHzBN+B,ADVEqB,GImCS,AJnCN,CCUD,CGyBS,CJnCL,CCUDzB,KAAK,CAACE,AGyBT,CHzBQ,CAAhB,CAD4C,CAE5C;AE0ED,AJ1FD7C,AKwC6BkB,AJlCzBiD,MDNJnE,CIoFA,CAME,EClD2BkB,AJlCzBiD,EAAE,CDNC,CAACE,AKwCyB,AJlC7BF,CGoFK3D,CClD0B,AJnCrB,EGqFZ,EAAY,EClDJ,GLxCV,GD2BMR,AC3BgB,SD2BPD,GC3BkB,ID2BXhC,MAAM0B,KAAKkB,SAASC,WAAWC,QAAQ;AKgE3DuL,AL/DF,AGXE,AFhBA,AKuCyC2lB,AJjCvC9tB,QGoFFmI,EAAE,AL/DEtL,AMYqCixB,AJjCvC9tB,ECUEhB,CE0EC,CHpFC,EAAE,CGoFR,ACnDgD,CHvBtC,CGuBwC,EHvBrCF,ADVAsB,ICUI,CAACpB,AFhBP,CD2BU,GAAGlD,CC3BRkE,CEgBhB,ADVQ,GFqBqB,AC3BlB,CAAUvD,GD2BYE,CC3BtB,CAAe,GAAf,CAAX,GD2BF;AKgEEyL,AL/DF,AC3BC,AKsCS,AJnCI,ODLd,CI4FEA,CCnEc,AJpBd,CGuFE,AL/DEtL,CMYI,EDmDHP,GAAL,GL/Da,GAAGM,iBAAiB,GAAGF,OIjBXZ,EJiBoB,CAACgB,KAAb,CIjBCR,EJiBoBzC,GIjBf,CJiBzC;AKgEC,ADhFD,ADKE,AGuBUiD,OD2CZ,GC3CYA,GHtBR,EGsBa,CDoDP,CF1EFqC,AGsBW,QAAT,EHtBQ,GAAG,CAAjB,EAAoBC,YAAY,GAAGL,MAAM,CAACR,MAD5C,EAEEY,UAAU,GAAGC,YAFf,EAGED,UAAU,EAHZ,EAIE;AEwEF,AL/DF,AIjBArD,ADSI,AFnBJA,AKqC6BkB,AJhC3B,MEKFlB,AHVAA,ID2BI,AMUyBkB,EDqDvB,AHrFA,CEKC,AHVA,CGUCb,ADSAkD,AFnBAkB,AKqCyB,EAAE,CNVxB1E,AIjBX,EDSa,ADdAiB,CDLb,ED2BI,AGRYiC,AGkBN,CLrCO,CCKX,GFsBe,CGRC,CAACI,ADdA,IDLGoB,EGUJjE,GJiBlB,AIjBJ,CDSsB,AFnBL,CEmBb,ADdF,CEGuC,ADUrC,AFlB8B,CD2BE,AIhBpC,ADSI,ADfgC,OFsBOf,GAAP,KAAe,WAAnD,EAAgE;AKgE5D,AL/DF,AIhBH,ADSI,AFpBD,AKoCyCsyB,AJ/BvC3tB,UI+BuC2tB,AJ/BvC3tB,EDLIG,CCKD,CGqFC,AJ1FE,ACKFvD,CGqFCmL,AL/DAlL,EK+DD,AJ1FK,AKoCqC,EAAE,AJ/BhD,EGqFWqL,CJ1FGrI,ACKFjD,CGqFC,CAAC,AL/DhB,EC3BW,CAAUzB,ACKnB,KGqFa,AJ1FJ,CI0FT,CJ1FF,CI0F2B+M,EAAE,CAAC,QAAD,CAAF;AAC1B,AL/DF,AGPA,AFpBC/H,AKmCQ,AJ9BP,QDLDA,CIwFA,ACrEc,AJtBkB,CDG9B,ACMF,CDNGA,EAAE,CAAC9B,II0FI,EJ1FP,GAAY,CAAb,CAAF,GAAoBgC,MAApB;AI2FE,AFtEL,AFpBG,AKcc,cD4ER2H,EAAJ,EAAQ,MAAMC,EAAN,AJ1FC9H,EAAE,CAAC7D,IAAH,CAAQ,GAAR,CAAX;AI2FC,AL/DH,AC3BC,AKWG,KAFM,ELbV,AKyCI,GNVEQ,IAAI,GAAG,KAAKC,UIjBRnB,EJiBG,CAAkBD,KAAlB,CIjBMiB,CJiBmBJ,MIjBZ,GJiBb,CAAb;AKgEC,AL/DD,AIjBAZ,AHVD,AKqCOkxB,AJjCJ,MEMFlxB,AE2BMkxB,INVA9vB,CMUK,EF3BJ,AE2BM,AJjCN4C,CEMC3D,GAAR,CJiBc,AIjBF6I,CFNV,CAAY/J,CFwBZ+B,CIlBc,AE0BZ,CF1BaiI,CFNf,CFwBI,KAAK,EIlBC,CAAenI,GJkBzB,EIlBU,CJkBSjB,CIlBa,CFNN,GFwBF,AIlBd,CJkBesB,CIlBa,AFNP4C,CFwBZ,AIlBT,CAAZ,EFN4B,CAAU,CFwBJ,AExBN,CAA1B,EFwBmB,GAAmB,OAAnB,GAA6B,QAAhD,GAA4D,EAD9D;AIhBD,AE2BO6tB,AJjCL,MIiCKA,CJ5CN,OI4Cc,EAAE,cHlBR9xB,SAASkB,MAAME,UAAU;AEwEjC,AL9DA,AGTA,AGkBQJ,QAAAA,ENTJ,GK8DGkL,ACrDM,EAAE,EDqDf,AL9DWzM,GAAP,IMQY,CNRG,WAAnB,EAAgC;AK+DjC,AL9DG,AGTF,AGkBQyB,AJjCRlB,MAAAA,EIiCQkB,EHlBJA,EGkBQ,CNTLI,AExBA,CCeC,AGkBM,AJjCNgD,KCeK,CGgBG,ENPd,CAAetE,CExBjB,CCeA,EAAqB,ADfA,GFwBnB,EAAwBP,GAAxB,EAA6BkB,AExBD4D,EAAT,EAAa,GFwBhC,EAAsCrD,GC7BblB,CD6BzB,EAA4CoB,MC7BVZ,ED6BlC,EAAsDK,CC7Bf,KD6BvC;AACD,AGTCb,AFpBFA,AKsCQ+xB,AJjCN,MDLF/xB,CD2BA,CGPEA,AGkBM+xB,IJjCAvtB,CFwBD,AC7BA,CAACnE,CEoBC,AGkBM,CHlBL4H,ADfE,CDLZ,AKsCiB,EJjCF,KAAK5D,CCelB,CGec,EHfMjD,ODfP,CCee,AFpBPZ,CCKrB,EDLF,EGUmBR,ADUgB,OAAb,ECVMgB,CDUiB,EAAvB,GAA4B,CCVf,CDUjC;AEwEJ,AL9DI,AInBF,ADUEhB,AFpBH,AKsCS6xB,AJjCN,QCeA7xB,AGkBM6xB,EF5BJlvB,CCiFC,EL9DEpB,AExBAyC,CIiCO,CF5BL,ADUA,CAACoE,AGkBM,CACN,CF7BE,CFLV,CAAYjJ,CGsFC0F,CL9Db,CAAe7E,AInBAqI,CCiFZ,AHtFH,CCeA,ADfiB,CGsFCxF,AFvEA7C,CEuEf,EAAkB,CL9DrB,EAAwBkB,CGTC,CAAC+G,EHS1B,AInBU,CAAmBjH,CJmBCI,IInBpB,CAAZ,ADUE,CCXiC,CAEnC,ADOqB,CHWnB,AGRA;AEuEF,AL9DC,AGRA,AGiBWJ,AJjCRmD,UGsFA3F,ACrDQwC,AJjCRmD,EAAE,EAAET,CGsFC,ACrDQ,CDqDPnF,CCrDS,MDqDf,CAAcsG,AHtFA,CAACf,CIiCT,CDqDN,CAAJ,CHvFmB,CGuFK;AACtB,ADjFF9D,ADWD,AGgB+BkB,AJhC1BsD,MEKJxE,IE2B8BkB,AJhC1BsD,GEKG,CAACoE,AE2B0B,AJhC1B,CGsFC/D,CCtD2B,AJhC1BL,EGsFR,EDjFF,AFPmB,EIkCT;ADuDT,AL9DD,AMO4CutB,AJ/BxC9tB,OGoFJ,GL5DIzC,AMOwCuwB,AJ/BxC9tB,GGsFG,CHtFC,EAAE,CGsFC6F,ACvDwC,EAAE,EJ/BtCrF,EGsFE,CAACsF,AL9DlB,GExBU,CAAYxF,EAAZ,EGsFC,AJ5FD,CAAE,GI4FkB5F,MAAM,CAACkG,GAAD,CAA7B,EAAoC;AACzC,ADlFF,AE0BU,AJlCS,SIiCH,AJjCd,EEQG,AE2BK,IDuDDoH,ADlFApJ,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGH,ECkFE,CAACkC,EDlFE,CCkFH,ADlFIpC,ECkFEI,CAAN,CAApB,EDlFF,EAAkCA,CAAC,GAAGC,CAAtC,EAAyCD,CAAC,EAA1C,EAA8C;ACmF7C,AL/DD,AInBE,AE2BU7B,AJ/BX,OGoFM,AH3FP,GF8BI,AMQQA,EF3BN+B,CCkFC,ECvDU,CF3BP,CE2BS,EF3BNJ,KAAK,CAACE,CAAD,CAAhB,CAD4C,ADYxC7C,CCVJ,QDUakB,GGeL,GHfWE,UAAU;AEwE7B,AL/DAI,AGRF,AGgBYN,QNRVM,EGREN,AGgBQA,IDuDJ,AFvEA,AGgBQ,EAAE,EDuDNkJ,CFvEC,GHQG,AMMN,GNLN,AGTJ,EEuEQ,AFvEa,CEuEC,AFtEpB,EFxBM,CAAE,gBDgCSlJ,IAAf,MAA0B,KAAKO,oBK8D3B,CAAN,CL9D4B,CAA4BzB,OAA5B,EAAqCkB,IAArC,CAD5B;AKgED,AL9DCM,AIpBAxB,ADYD,AGeW+xB,AJ/BZ/xB,MAAAA,EFwBEwB,AIpBAxB,EE2BU+xB,GJ/BL,CAAC1tB,CEIC,CAAChE,CE2BS,EF3BjB,AE2BmB,GNPL,CAACnB,EExBjB,EFwBE,CACE,AEzBkB,EEIL6D,EJoBf,EAEE/C,AItBiB,CAACkD,KFJW,CFwB/B,EAGEnD,AIvBa,CAAcgD,IJoB7B,AIpBA,EJwBEhC,SAJF,EAKEtB,CIzBmCsD,EJoBrC,EAMEpC,AI1BuC,CAACuC,MJoB1C,EAOEtC,AI3BmC,CAAcwC,GAAnD,KJoBA,GIvB4C,CAI5C;ACkFH,ALtDE,AGhBF,AGWW,AJ3BR,KG8EJ,EL1DE,CAYE,CMPc,EAON,INAD5C,GAAP,EAAY,MEhCD,KAAKyD,IAAL,CAAUvD,IAAV,CAAe,GAAf,CAAX;AGuFL,ALtDK,AI5BA,AE4BUM,AJhCX,GGkDe,EAApB,EHpDI,GIkCYA,EF5BNiC,CJ4BCvB,EMAU,EAAE,CF5BP,GAAGqB,IAAI,CAACE,MAAlB,IHbgBxD,KDyChB,ACzCqBkB,AKwCb,CNENX,OADF,CCzC8B,CD2C5BQ,GAFF,EAGET,KAHF,EAIEgB,SAJF,EAKEtB,GALF,EAMEkB,OANF,EAOEC,SAPF;ACzC8B,AK0CpBM,UL1CF+C,AK0CE/C,IL1CoB,AK0ChB,EAAE,ML1CR+C,AKwCA,ILxCsB;AI6GpC,AL3DM,AIpCA,AHbFA,AK0CY8tB,AJhCZ/xB,MGkGA0M,AJ5GAzI,ACUAjE,IDVI,AK0CQ+xB,CL1CP5yB,CDiDC,CInCF,AFJG,CAACsF,CDVR,CAAU9D,CGcF0C,AE4BW,ENON1B,AMPQ,CJhCrB,GGkGiB,AJ5GjB,ACUiB,GGkGG,AL3Dd,CInCY,GAAG,ADWb3B,CHwBiB,AInCrB,EAAoBsD,AFJEmB,GGkGII,GAAV,AFnFHpF,ADfA,EGkGkB,AHlGD,CFuC5B,EGxBgBkB,CCXc,CJmCIgB,EInCDsB,KJmCQ,AGxBhB/B,CHwBiBU,AInCH,CAACa,IJmC5C,AGxBmCrB,EHwBkB,AIpCrD,EAEEiC,MDU2C,ICVjC,GAAGC,YAFf,EAGED,UAAU,EAHZ,EAIE;AC4FN,AL3DM1B,AIhCA,ADQJ,AFzBD,AKsCW,AJ5BR,QGkGAnD,CC7Ec,CNkBZmD,AGxBAa,CGkBM,CJjCF+B,CGkGD,CAAChG,AD3FAgF,AFPE,CCeD,EHwBE,AEvCE,CFuCD3B,AGxBA,CCRC,CDQb,CEmFE,CAAciD,AD3FA5B,AFPEgB,CFuCd,CAAczD,CK2DhB,CAAJ,AHlGe,CFuCQ,AEvCEjB,CGkGD,AL3DAsC,AIhCA,CAACwB,GFPV,CFuCT,CEvCF,KEOoB,CAAlB,CADA,CAEA;AC2FJ,AL3DG,AGxBH1B,AGiBYX,AJhCVuD,MCeF5C,EDfE4C,EIgCUvD,AJhCR,CGkGC,AHlGAuD,ECeE,ADfA,CCeCwC,ADfAtE,CGkGCI,AClEQ,CDkEP,CFnFV,AGiBmB,CHjBP,CEmFC,CAAR,AHlGA,EGkGW8J,CHlGC,CAAb,CAAF,CGkGkB,EHlGElI,CGkGCjG,AFnFvB,EAAyBiB,EGiBf,CDkEkB,AFnF5B,ADfE,CGkG2BoF,CFnFClE,EEmFE,CAAC8B,IFnFjC,EEmF4B,AFnFWvB,CEmFvC,EAA0C2B,CAAC,AFnF3C,EAA6CzB,CEmFCyD,GAAG,CAACpC,GFnFlD,GEmFA,EAA0DI,CAAC,EAA3D,EAA+D8J,IAAI,CAAC9J,CAAD,CAAJ,GAAUgC,GAAG,CAAChC,CAAD,CAAb;AL1D9D,AIhCG7C,AEwBiCkB,AJ/BnC,UEOElB,AEwBiCkB,IAAI,EAAE,CFxBhC,CAACb,GAAR,CAAYkD,AEwBN,IJ/BGgB,CEOQ,CAACd,AFPP,CAAC/C,GEOZ,CFPS,CEIT,AFJiB,CEQjB,EFRS,CAAX;AGmGF,AD1FG,ADMH,AGgBmDqxB,AJ9BlD,OAJD,GCkBI,AGgB+CA,CHhB9CjqB,EEoFE6E,IAAP,ACpE0D,EAAE,CHhB9C,CAAChM,OAAD,CAAd,EAAyB,IFzBT;AI8GjB,AL3DC,AGzBEX,AF1Bc,AKyCN,AJ7BX,KG8FD,GFhFIA,CGGc,CNsBZ,ACnDIiE,CI8GH,ACpEK,GL1CM,CE0BP,CAACkE,CHyBC1I,GAAP,GCnDIwE,CE0BN,CHyBiB,AGzBA,EF1BH,EE0Bd,OHyBF,EAAgC;AK4DhC,AL3DE,AIhCA,ADOAjE,AF1BFiE,AKyCYjD,MLzCZiD,EE0BEjE,EF1BE,AKyCQgB,CLzCP0D,CGmBC7B,CC2FCrE,AL3DAsD,AIhCA,CHnBP,CE0BS,AGeQ,CFtBPgB,ADOAoF,CCPC,AEsBQ,CDqEP,CAAC1D,CL3DX,AIhCY,CJgCCxE,AIhCb,EC2FK,AD3FU,CC2FC6E,GAAX,CAAP,AL3DE,EAAsBpF,AGzBtB,GHyBA,AGzByBkB,CGejB,CNUmBA,KGzB3B,CAFuB,CH2BvB,AGxBA,EHwBoCO,IAApC,EAA0CE,QAA1C,EAAoDP,MAApD;AK4DH,AL3DE,AIhCGb,ADQH,AF3BF,AKwCuCkB,ONStC,AG1BA,GCJIlB,AEqBkCkB,GNW/B,AGxBA,CGamC,EAAE,CFrBjC,CAAC8H,IEqBF,GFrBN;AC4FP,AL3DK,AIhCC,ADQDhJ,AF1BJ,AKsCsD+xB,GD+DxD,KF3EM/xB,EGYkD+xB,GNY7ChwB,EGxBE,CAACoG,CGYiD,EAAE,CNY3D,CAAanI,GGxBb,CAAiBW,GHwBjB,EAAsBO,EGxBE,EHwBxB,CGxB2B,CHwBCE,AGxB5B,QHwBA,KExCyBpB,SAASQ,KAAK;AFyCxC,AIhCA,ADQA,AGWS,AJ3BVR,MAAAA,GIcgB,IJdT,CAACK,GAAR,mBAAuBG,GAAvB;AGoGJ,AL3DG,ACnDD,AKoBkB,AJTjB,MGmGCoM,SAAS,GAAG,YAAY;AAC1B,AD5FE5M,ADSA,AGVI,KA5BM,CF6BVA,IDSIoB,GEmFGwL,AD5FA,CAAChE,IDSI,ECTZ,CAAe,CC4FjB,AD5FkB,CC4FCiE,AD5FjB,ADSiB,OEmFnB,CFnFM,CEmFsB,GFnFG7M,OAAO,CAACwC,KAArC,EAA4C;AEoF5CyH,AD5FD,ADSGzH,AG7CF,GATQ,EAoER,CDqEAyH,EFnFEzH,KAAK,OEmFO,CAAC,IAAD,EAAOoK,SAAP,CAAd,IFnF0B5M,OAAO,CAACwC,KAA3B,MAAL;AEqFF,AFpFC,AGcCtB,IAAAA,IAAI,EAAE,CDsEH4L,OCvEL,IDuEA,GAAmBD,OAAO,AHrGhB,CAAE,GGqGkB,EAA9B,EL7DkB7M,SAASD,OAAOhC,MAAM;AK8DxC,AL7DA,AMTEi0B,IAAAA,MNSIhwB,CK6DD+K,ECtEM,CNSD,CMTG,CDsEb,CL7Da,EK6DA,ACxEb,EDwEA,AL7DA,kBCpDiB,CAAE;AIkHpB,AL7DC,AGvBA,AGcE2kB,IAAAA,MHdExwB,CHuBCe,GGvBG,EGcM,EAAE,CHdH,IGWb,EHXA,CHuBA,CAAqBlC,AGvBA,CAEpB,CAFD,CCVQC,ADWN,EHsBF,EAA4BjC,IAA5B,CIjCiBmD,CJiCiB,KIjCXE,KJiCY3B,GAAD,EAAMkB,AIjCP,OJiCC,EAAeC,SAAf,EAA0BC,MAA1B,EAAqC;AACrEmB,AIjCF,AEwBE2vB,IAAAA,INSA3vB,CMTK,EAAE,CNSH,CAAC9B,OAAL,CACEF,OADF,EAEED,AE5CI,CI6BR,AJ7BU,IF4CD,CAACN,GAAD,CAFP,EAGE1B,IAAI,GAAGA,IAAI,CAAC4C,OAAD,CAAP,GAAmBM,SAHzB,EAIExB,GAJF,EAKEkB,OALF,EAMEC,SANF,EAOEC,MAPF;AK8DJwJ,ALrDG,AIzCD,ADWA,AGaEunB,IDsEJvnB,ACtEIunB,GNOF,QK+DS,ACtEI,CDsEHhlB,CCrEN,QDqEK,EAAY,CAAC,iBJlHC,CAAE;AImHzBnN,ALrDD,AIzCC,AEkBA,GApEQ,CA1CE,ED0LVA,GAAG,CD9FCyB,CC8FC,GD9FG,KAAK,CC6FS,KD7FtB,EAAqB;AC+FrBF,AD9FEhB,AE0BJ8wB,EAAAA,IDoEE9vB,ED9FEhB,AE0BE,EAAE,CDoED,EAAE,ED9FE,CAACK,GAAR,CAAYe,EC8FEyL,MD9FM,CC8Ff,CAAiBG,GD9FG,GFVTvN,EGwGX,EAA2B,AD9FpB,CFVSkB,EEUc,GAAvB,GAA6B,CFVX,EEU9B;AC+FA,AD9FAX,AE9FQ,AJmFsB,CInFpC,OF8FMA,EFXQiE,EGyGJ+I,EHzG0B,CEWvB,CAACpE,IC8FR,EAAc,AD9Fd,AFXQ3E,IAAsB,MDVtBjE,SAASD,OAAOhC,MAAM;AIoH5B,AD9FH,AHrBD,ACUAkG,MAAAA,IAAI,CDVCU,ACUAxF,IGyGI2N,AHzGT,CAAUnM,OAAV,GGyGI,GAAmBqM,CJnHvB,CAAyBhN,KD6DXD,CKsDV,CJnHJ,EAAkCA,GD6DbhC,EC7DrB,EAAyCA,ED6DdmE,EC7D3B,ED6D+B;AKuD5B,ALtDH,AIxCD,ADUA,AF/BA,AK+CH,AJrCG,IIqCG+vB,MNcIrzB,AMdE,GAAG,CNcD,GAAGF,aAAa,CAACqB,KAAD,CAA1B;AACA,AMdF/B,EAAAA,IAAI,EAAE,ENcEmE,SAAS,GAAGpC,KAAK,CAACsB,EAAN,KAAa,GAA/B;AKsDE,ALrDF,AMdA2uB,IAAAA,MNcM5tB,KKqDG,ACnEE,EAAE,EADT,CDoEU0K,MLrDQ,GAAG,EKqDvB,ALrDF;AKsDC,ALrDD,AMdAmjB,IAAAA,KAAK,CNcD5tB,CMdG,GNcP,cIzCMrC,ADUAA,KF/BKA,ECUK,EEWDkB,ADUAzB,KAAKkB,AF/BAZ,CGqBCqB,MHrBM,EE+BEF,ECVE,IDUIE,UAAUP,QAAQ;AE6E/B,ADtFtB,ADUA,AF/BAb,AK+CS0sB,AJtCO,KGkGK,CJ3GrB1sB,AK+CS0sB,CDoER,GD9FGxrB,ADUAA,AGgBS,AJtCL+C,EIsCO,CL/CR,CGqBC,ADUA,AF/BAC,ACSQ,KEYH,ADUA,IDtBLD,EEYR,ADUA,ECVqB,ADUA,AF/BrB,ACSgB,CCuBd,AFhCoB;AIoHtBxE,ALtDA,AIxCEO,ADWD,AFjCuBmE,AK+CjB,AJrCPF,KImCI,CDuEJxE,AH1GAwE,EEYEjE,AHtBsBmE,CIoHrB,CLtDC,AC9DsB,ACUtB,CG0GC,AH1GAO,CDVuBhB,ECU5B,CEYS,CAACkF,CC6FT,ALrDU7K,IAAP,CIxCF,AHtBoC,CGsBrB,AHtBsB4F,CGsBrB,CAAhB,CJwCkB,AC9DE,WD8DtB,EAAiC;AKuDjC3C,ALtDE,AIxCAhB,ADWH,AFlC6CgB,AKgD5CkvB,AJrCD,IIqCCA,EDqEAlvB,ED9FEhB,AHvB0CgB,CKgDvC,EDqEA,ACrEE,EDqEA,ALtDAqB,AC/D0C,AK6C7C,EFtBK,AHvB0CtC,CGuBzCM,CJwCR,EIxCA,CAAYe,AHvB0C,CD+DzCrD,AC/D0C,CIqHzCkP,AJrHwC,GD+DtD,CKsDK,CAAc5K,ALtDA,CIxCC,GC8Ff,EAAoB6K,AD9FA,OC8FpB,AD9FO,EC8FsB,CD9FC,GAAvB,GAA6B,GAAzC;AC+FA,ALtDE,AIxCH,ADYH,AFpCwB,AKiDtBijB,AJpCF,IIoCEA,GLjDA,KIsHMljB,ELtDEtO,AMfE,EDqEA,ACrEE,GDqECuO,CLtDC,CAAClO,KKsDb,ILtDM,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCnB,IAArC,EAA2CsE,IAA3C,CAAJ,EAAsD;AACpD,AIxCP,AHxBA,AKiDG+tB,MAAAA,UNgBM,AMhBI,EAAE,KNgBCrwB,KAAK,CAACsC,IAAD,CAAZ,KAAuB,WAAvB,KACC,CAACF,SAAD,IAAc,OAAOpC,KAAK,YAAKsC,IAAL,EAAZ,KAA6B,WAD5C,CADF,EAGE;AKmDN,ALlDMzD,AGhCV,AGcMyxB,AJrCN,QIqCMA,IDoEE,CCpEG,CNkBDzxB,CMlBG,GNkBC,CKkDCyD,ALlDAlD,IKkDP,ALlDE,CAAUkD,IKkDI,ALlDd,QKkDN,EAA8B;AAC5B,ALlDG,AMnBMiuB,UAAAA,IDqEL,CCrEU,EAAE,IDqELrjB,GCrEJ,CDqEH,KAAgB,WAApB,EAAiC;AAC/B,ALlDD,AMpBwBsjB,UAAAA,MAAM,EAAE,CDsExB,KAAKxjB,KAAL,CAAW1K,AD9FhBrC,IC8FK,CAAP,CJtHQA,GGwBGP,KAAKkB,CHxBCZ,OAAO,CGwBCmB,MAAME,UAAU;AC+F1C,ALlDF,AI5CH,AHxBApB,AK+CW,ML/CXA,GK8Cc,EDsEV,EJpHG,CAACkE,GIsHG,UJtHX,CAAsB;AIuHhB,ALlDL,AI5CD,AHzBwBC,AKgDpBqsB,ONK2B,CAiB/B,ACtEwBrsB,AKgDpBqsB,EFvBAhuB,AHzBsB,EAAEkB,GGyBnB,CEuBG,CDuEDqJ,CD9FC,AEuBE,EFvBd,EC8FM,AJvHgC,CIuHrB1K,AJvHsBwB,EK8CzB,EDyER,GJvHgB,CIuHGoJ,IAAnB,EFpFSjN,EDvBE,CAAE,MCuBKD,OAAOhC,MAAM;AEqFhC,AFpFL,AFpCgDiD,AKiD5CyvB,QLjD4CzvB,AKiD5CyvB,EHbA,AGaE,EAAE,CLjD6C,EAAE1wB,EEoC5ChC,GFpCiD,CEoCxD,AFpCyD,CAAD,IEoCxC,WAApB,CGUc,CHVmB;AEqF9B,AD/FH,ADWE,AFrCoB,AKkDlB2yB,OLlDJ,CKkDIA,EFxBA,CAAC5oB,AEwBE,EAAE,OFxBK,CAACnH,OAAD,CAAd,EAAyB,qCEoBX;ANyBd,AI5CEX,ADWD,AFrCF,AKkDKqC,QFxBFrC,AEwBEqC,GNoBCA,CMpBG,EAAE,CNoBV,AI5CS,CAAC8F,GJ4CGpI,KAAb,AI5CE,CAAiB,CJ4CC,GI5ClB,EEmBY,cJhCS,CAAE;AG4GvB,ALlDA,AI5CAC,AEwBE2wB,QFxBF3wB,AEwBE2wB,IDsEEtuB,ALlDA1D,GI5CG,CC8FC,AD9FA0B,AEwBE,ENoBA,AMpBE,CNoBDrB,AI5CX,CC8FYqD,IAAI,CAACA,GLlDb,AM1BQ,CD4EZ,ALlDqBpD,CI5CN0B,CC8FQ,MD9FvB,MJ4CI,CAAgCzB,IAAhC,CAAqCa,KAArC,EAA4CsC,IAA5C,CAAJ,EAAuD;AKmDrD4K,ALlDA,AI5CH,ADUDtL,AGcIT,MHdJS,CCbA,CE2BIT,EDsEA+L,ECtEI,CFxBD,ADUA,CEoFC,ALlDEjM,AGlCF+F,AGcE,GDsEC1E,AFpFX,CAAY,CHkCG,EKkDX,CLlDctC,IM3BJ,CN2BS,CAACsC,CGlCxB,EAAyBtC,CHkCF,CAAnB,GGlCJ;ACTEC,ADUF,AGcI4wB,QFxBF5wB,AEwBE4wB,GHdCtoB,CGcG,EAAE,CFxBD,CAACH,AEgBI,MHNd,CAAiBnI,CCVf,CAAiBW,KDUnB,ECV0B,ADUA5C,ADxBhBiC,GEcmB,AH3BhBA,CG2BX,ADUF,KDxBmBD,GDbG,ICaIhC,MAAM;AG4G5B,ALlDA,AI3CH,ADUF,AFrCCiC,AKmDIgwB,AJtCJ,MDbAhwB,EKmDIgwB,GJtCCrrB,EDbE,CIwHCsI,ALlDA1O,ACtEA2F,IIwHI,CAACiJ,ACrEE,ENmBA,AMnBE,CNmBDnM,AMnBE,KNmBH,ACtEf,CIwHQ,ALlDA,ACtEc,ECatB,CAAyBhB,CFyDCgB,CKkDC,IAAvB,ALlD2B,CAAC,AEzDhC,CG2GiC,ALlDF,CAAL,AEzDQjB,KFyDK,AEzDvC,CFyDI,CEzDqChC,CFyDC,AMnBzB,CATH,EJ7Bd;AG4GM,ALlDAqE,ACvEkB+B,AKoDpB0sB,AJtCL,QDdyB1sB,AKoDpB0sB,ELpDsB,EDuEpBzuB,ACvEsBsB,KKoDf,EDqEAuJ,ACrEE,GLpDuB,CIyHhC,AJzHiCrJ,KDuEjB,CAAC5C,KAAK,CAAC,CAAD,CAAL,CAASP,QAAT,EAAD,CAAhB,GAAwC;AKmDzC,ALlDGhB,AI3CR,AH7BsB,AKoDL6wB,OLpDjB,GG6BIlvB,AEuBakvB,INoBT7wB,CMpBc,ENoBX,AMpBa,CFvBZ,CJ2CC4C,EMpBE,ENmB+B,AI1C7B,QAAb,IAAyBrC,OAAO,CAACwC,KAArC,EAA4C;AJ4CpCxB,AI3CNwB,AH7BH,AKmD+B+tB,QFtB5B/tB,EEsB4B+tB,GFtBvB,CJ2CCvvB,EMrB4B,EAAE,CNqBzB,EAAEjD,IAAI,IAAIA,IAAI,CAAC2B,OI3CFM,CJ2CU,CAACqC,AGlChBrC,IHkCoB,CAACV,AI3CT,CAACkD,GDSJzC,EHkCO,AI3C9B,CJ2C0C,CAAZ,CAAD,CAAT,CGlCUhC,CCTnC,KDSyC;AEoFvC,ALpD0C,AIxC7C,ADSD,AGYe,SAVD,CHFV,GH+BE,EKoDGgP,EFnFEhP,GEmFP,CAAWkP,AFnFX,IEmFe,CAAC5K,AFnFA,IEmFhB,GH3GOrC,CG2GiBiN,GFnF5B,CEmFI,CFnF6B,GDxBblN,OAAO;AG4GxB,AFnFD,AGYE+wB,AJpCJ,QIoCIA,MAAM,EAAE,EAXE;ANiCR,AI1CN,ADSC,AGYGC,AJpCJ/wB,MAAAA,EIoCI+wB,EFrBA7vB,GFfG,CEeC,AFfAgG,EFyDE,GI1CG,CEqBG,CNqBD5E,CMrBG,CJpClB,CAAkB,CEelB,EAAqB,AESP,MLvCHtC,SAASD,EDwEV,KAAiC,ACxEhB,KDwErB,EAA4C;AKkDhDkN,ALjDM,AI1CNjN,AH9BF,AKmDIgxB,AJrCgB7sB,QG2GlB8I,AD3FAjN,AEqBEgxB,AJrCgB7sB,EDddI,ACcgB,EG2GhB,AJzHE,ACcgBb,CG2GjByJ,ED3FE,AH9BEpN,CG8BDM,CEqBG,CNsBH,CI3CR,AEqBa,CFrBDe,AH9BE,CAAC,CIyHf,AJzHc,ACckB,CDdlC,ACcmCuC,EG2GhB,ALhDF5F,CE3DC,EEgBI,CC2FpB,ALhDQ,II3CiB,CJ2CD,MI3CZ,GAAuB,EJ2C3B,CI3CI,GJ4CJ,AI5CiC,MAAMyE,CJ4ChCzC,II5Cf,CJ4CoB,CAACiB,KAAK,CAAC,CAAD,CAAN,CAAZ,KAA2B,WAF7B,EAGE;AK+CR,AL9CQpC,AI7CRoB,ADQF,AFtCAA,AKqCc,AJxB0BgB,MDbxChB,EG8BEA,AFjBsCgB,GCyBnCsH,EFtCE,ACasC,CDbrChE,CIyHC2I,AD3FA,AFjBsClN,CF8DrCnB,AI7CAgK,GC2FR,CL9CY,AE9DsC,CF8DrCzJ,AE9DsC,CEiBnD,ADQF,ADzBoD,CCyBnCa,CFtCjB,CD2EU,AC3ESuE,CD2ECvD,CC3EpB,GEsCA,CHqCyB,CAAC,AGrCAjD,CHqCD,CAAL,CAAS0C,CGrC7B,OHqCoB,EAAV;AK+CT,AL9CQ,AI7CR,ADQF,AFtCA,AKmCa,AJvBM,KImBd,EJnBJ;AGyFC,ALzBM,AI7CP,AEqBAwwB,AJvCD,IIuCCA,CDyCqB,EA6BpB,ECtEI,EAAE,CACL;ADsEFxxB,AL9CK,AMvBDyxB,MDqEJzxB,ACrEIyxB,GDqED,EAAE,ACrEI,EAAE,ODoEV,ICrEC;ADuEFlwB,AL9CG,AMvBCmwB,MDqEJnwB,ACrEImwB,KDqEC,EAAE,ICrEQ,EAAE,GDqED/jB,OAAT,CAAiBC,EFpFdrN,EGaR,CDuEK,EAAwBiN,CJ1Hf,GI0HT,AFpFYlN,EEoFkB,KFpFXhC,MAAM;AEqF9B,AL9CD,AGtCD,AFtCA,AKqDIiyB,MAAAA,MDqEEhwB,AJ1HA,IAAIO,CKqDK,EDqEF,ACrEI,ELrDX,AKkDJ,CDwEc8M,AJ1HA,KI0Hd,SH9GYrN,GDZR,CAAN,KCYuBD,OAAO;AG+G5BC,AFpFF,AFtCD,AKqDKoxB,AJzCJpxB,MIyCIoxB,AJzCJpxB,EG8GEA,ECrEM,CHfH2E,CGeK,CJzCH,CAACT,CG8GC,CAAC2I,ACzER,ODyEA,GAAkB,CH9GpB,CAAsB,EC0BtB,CEoFyBA,AFpFA7M,OEoFL,AFpFpB,EEoFE,AFpFgCD,KAAlC,EAAyChC,IAAzC;AEqFE,AL/CF,AI7CD,ADQA,AGeK4U,AJ1CoBxO,MI0CpBwO,CAAC,CJ1CmBxO,CI0CjB,CNsBHhC,AM3BF,AJrCwB,EG+GpBmL,AH/GsB5J,OFgE5B,CK+Cc,CL/CC,CEhEuB,CG+GrBuJ,AH/GsBpJ,IG+GlB,GH/GC,CG+GGwJ,KAAK,CAACJ,IAAd,IAAsB,SAArC;AACA,AL/CArO,AMtBEgU,AJ3C4C5R,MI2C5C4R,CAAC,CNsBHhU,AEjE8CoC,CI2CzC,CANL,ED2EIuM,AL/CA,CAAChL,AEjE8C,EAAExC,EFiErD,CAAUJ,EK+CE,AHhH8C,CAAC,CAAD,CGgH3C,KAAK,CAApB,KL/CA;AKgDA,AL/CD,AMtBG0xB,AJ5CkB,MI4ClBA,CNoBJ,AEhEA,KGiHM7jB,CL/CC,MMtBU,EAAE,EDqEF,GAAG,CJ3HfzN,II2HoB,CAAvB,EJ3HUhC,MAAM;AD6EhBa,AC5EF,AKsDM+T,AJ5CP,QFkEG/T,AMtBI+T,CAAC,CLtDH3S,CKsDK,CNsBH,CAACuC,AMvBY,INuBjB,AC5ES,GAAG,EAAd,MG8BMvC,KDQKA,ICRIP,KAAKkB,ADQAZ,OAAOtB,ECREyC,CDQC,KCRKE,UAAUP,QAAQ;AC6FnD,AL9CD,AI9CD,ADQAc,AFtCA,AKsDMiR,MHhBNjR,EGgBMiR,CAAC,CFxBH1R,CH9BCjB,AKsDI,EHhBF,AGcY,CFtBX,ADQA8G,CEoFCuG,EFpFT,CAAY,CCRC,IC4FX,EAAiB,AD5FnB,AH9BA,CEsCA,AFtCoBtN,CG8BC,CDQCA,KFtCtB,EEsC6B,CAACkI,cAA9B,EAA8ClI,OAAO,CAACgI,MAAtD,EAA8DhI,OAAO,CAACgI,MAAR,CAAehI,OAAO,CAACkI,cAAvB,CAA9D,EAAsGnI,KAAK,CAAC,CAAD,CAA3G;AEqFI,AD5FFC,AH9BF,AKsDMkxB,QFxBJlxB,AEwBIkxB,GLtDDhxB,EKsDM,CDoEH,CD5FC,AEwBI,CFxBH0I,CEqBS,CLnDnB,CAAa5I,EI0HEA,CD5Fb,CAAe,CAAC,CAAhB,CH9BF,EI0HsB,AJ1HAD,CI0HC0N,IJ1HvB,EAA6B1P,IAA7B,OI0HQ,KAAqC,WAAzC,EAAsD;AACpD,AL/CN,AI7CEiC,ADOF,AFrCA,AKsDMmxB,QFxBJnxB,AEwBImxB,EHjBF,CHsCC,EC3EEnxB,ED2EEwC,AI7CA,CAACnC,EDOCN,CCPT,AEwBe,CNqBH,AI7CAqB,AH9BA,CAAC4C,AKsDI,ENqBF,AGtCD,AGaG,CNyBd,AGtCY,CAAD,CHsCIvB,AGtChB,CFrCJ,CG8BsB,IJ6CI,AGtCF,CCPG,EJ6CE7D,AElEhBoB,IFkEoB,CAACyC,AI7CpB,ADOd,EAAkC,CCPG,CFrBf,EFkEtB,CI7Cc,CJ6C4BD,KAAK,GAAGC,KI7CF5B,CJ6ChD,EAA0D2B,GI7CJ,EJ6CS,CI7CN,CJ6CzD,CI7CsD,CJ6Ca,EI7CL,GAAhD,CAAZ;AC6FIxC,AL/CJ,AI7CD,ADOCD,AFrCH,AKsDOuxB,AJ7CNtxB,MAAAA,EC4BED,AGiBIuxB,IDoEAtxB,AL/CEP,CGtCD,AD5BA,CC4BC,AD5BAyE,CFkEG,AGtCJ,CAAL,CAASqE,CHsCG3J,CK+CD,CAAC4N,EL/CI,CAAChK,AGtCjB,AGiBmB,CDoEf,CCpEiB,CHjBH,CEqFCxC,ACzEF,AJxCnB,CFkEkB,AElEI,CFkEpB,IGtCA,CEqF0B,CAACyN,iBAAvB;AACAzN,ACpEAuxB,AJ9CkBptB,QI8ClBotB,AJ9CkBptB,EAAE,EGkHpBnE,AHlHsB0D,OGkHf,CAAC+J,ACpEI,EAAE,AJ9CkB,CAAC7J,CIwCpB,aD0Eb,GAA4B,IAA5B;AACD,ALhDH,AI7CF,ADOE,AGkBI4tB,AJ/CgB,OAAtB,CI+CMA,EFzBF,CAAC3wB,CJ6CCsB,AGtCAnC,KCPN,EAAa,ADOA,CAACwC,CHsCC,IAAI/C,AGtCjB,AGkBqB,EHlBF,AGkBI,CNoBH,KAAK,IAAzB,EAA+B;AAC7B,AI7CFO,ADOED,AGUe,AJvCpB,QEsBGC,EDOED,KCPK,ADOA,CCPCiJ,ADOA,CAAD,CAAL,CAASxG,ICPX,CDOE,GAAiBxC,OAAO,CAACwC,KAAzB;AEuFA,ALhDD,AI7CF,ADOE,AGED,ELxIsB1C,GKuIjB,EFf8C,AEiCnD,CFzBF,MC4FQ,OAAOwN,QAAP,KAAoB,QAAxB,EAAkC;AAChCA,AFtFL,AFtCL,AKyDQ4jB,MAAAA,KAAK,CDmEH5jB,CCnEK,ODmEG,ECpEZ,CDoEe,KAAKL,IAAL,CAAUK,QAAV,CAAX;AACD,ALjDH,AI5CH,AE0BK6jB,MAAAA,MNkBIxwB,KMlBO,ENkBA,AMlBE,GNkBCwB,SAAS,AMpBzB,EJ/CSnC,CFoEL,OAAOP,CEpEOM,EFoEd,KAAe,AEpEM,QFoErB,GACEN,GADF,GAEEC,QAAQ,CAACN,cAAc,CAACK,GAAD,CAAf,EAAsB,EAAtB,CAHW,GAIrBA,GAJJ;AAKA,AI/CJ,ADKEO,AFtCJ,AK0DQgwB,AJjDJ,MC6BAhwB,AGoBIgwB,IJjDEzrB,EFuEE1D,AEvEA,CC6BD,CAACmH,CD7BGjI,EIiDI,CNsBD,CMtBG,CHpBjB,AD7BgB,CFuECyC,AG1CFxC,AGiBb,AJ9Ce,CAAD,CAAhB,GFuEsB,EG1CA,CAACkI,EH0CIzF,MAAM,GAAG,CAAlC,EG1CF,IAAyC1C,KAAK,CAAC,CAAD,CAA9C,CAR8B,CAU9B;AEqFIuN,AL5CFpL,AGxCF,AGkBIkvB,AJjDJpxB,MIiDIoxB,AJjDJpxB,EFuEEkC,EK4CEoL,AL5CA,AMtBI,CNsBH7N,CMtBK,CJjDH,CFuEH,AEvEI6E,EFuEE3D,AM1BR,EDsEU,CAACyM,IL5CT,CEvEJ,CFuEmBhL,AEvEAmC,CGmHf,CAAiBvE,AHnHrB,OGmHI,OL5C+B,CAACW,OAAD,CAA/B,EAA0CE,MAA1C,CAAF;AK6CE2M,AL5CH,AIhDH,ADQC,AGkBKmF,AJjDL,MIiDKA,CAAC,EAAE,CDkEHnF,WAAW,GAAGxN,GCvEhB,IDuEE;AACAuN,AL5CL,AMtBKqF,MAAAA,CAAC,EAAE,CDkEHrF,KJ7HOxJ,GI6HC,GAAGuJ,KCxEb,GDwEE;AACAA,AClEA+jB,MAAAA,IDkEA/jB,QAAQ,CClEK,EDkEF,AClEI,IDkEf;ACjEEqF,QAAAA,CAAC,EAAE,EADU,uBHlBL3S,ED/BE,OC+BOD,OAAO;AEqF1B,AFpFJ,AFzCJ,AK4DU6S,AJlDN,IDVEhO,IAAI,AK4DAgO,CAAC,CHnBDpK,CFzCG,AK4DA,CJlDH,CIgDa,CDmEXxI,EHnHEO,IDVRqE,CI6HE,AFpFa,AD/BX,CAAU,CGmHC,CFpFG,AFzCX,CAAAC,GAAG,KDiFD9E,IIjDIC,EFtBT,CFuEYY,AEvElB,MEsBwBb,KJiDK,EIjDEhC,MAAM;AC8F/B,AL5CN,AIjDA,ADSEwK,AF1CU,AK6DN2oB,AJlDP,QC+BG3oB,AGmBI2oB,CL7DUrsB,CDkFZ,AIjDA,EHjCe,CAACA,AK6DT,CHnBH,CGmBK,CDiEH7E,AFpFA,AF1Ca,CDkFZD,AIjDAhC,AHjCa0E,AK0DL,IFzBf,CJiDA,CK4Ca,AJ9HG,CI8HF+J,ED7FE,ADQA,AFzCa,CDkFZ,AClFF,CI8Hb,AJ9HM,EI8HY,OD7FxB,CJiDA,CIjDiC,CJiDC;AK6C1BxM,AL5CN,AIjDA,ADSAyI,AF3CU,AK8DN0oB,CL9DV,OE2CM1oB,AGmBI0oB,GHnBD,CHwCC,CGxCCpxB,CEoFCC,IFpFI,CHwCCY,AGxCA,AGmBI,CHnBL,CEoFG,AFtFK,AGqBD,EAJA,CDqEDZ,IL5CZ,GK4CmB,CAACwM,CL5CC,GK4CnB,QL5CN,EAAsC;AK6ChCc,AL5CJ,AIjDH,ADSC5E,AGmBI4oB,QHnBJ5oB,AGmBI4oB,GHnBD,EAAEvxB,CEoFCuN,GL5CG,CGxCC,CAAC,CAAD,EEoFI,CCjEK,EDiEFE,ACjEI,EALJ,ON0Bf,EK4C0B,CAACF,QAAZ,IAAwBtN,OAAO,CAACiN,IAAhC,IAAwCM,QAAnD;AACD,AL5CJ,AG5CiB,AFvCxB,AK8DUgkB,IL9DJzsB,GEuCF,CGuBMysB,EL9DE,GAAG,OK8DO,EL9DhBzsB,AK8DkB,EAND,GJ7Cd/E,CDXM,CAAC8E,GAAD,EAAME,ACWLhH,IDXD,EAAe,ACWR;AGqHb,AD9FL4D,ADUA,AF3CFkD,AK8DQ2sB,AJnDN,EDXF3sB,GAAG,CGiCDlD,AHjCEY,EK8DIivB,EL9DR,ACWMxxB,CCgCCsI,AF3CEvD,EGiCA,CAACgC,CHjCV,EGiCE,AFtBW,CEsBC,EFtBE,ECgCd,ADhCA,CCgCiB/G,EGmBM,EAAE,EF7BzB,CDUA,CCVyBD,CDUCyI,ICV1B,ODUA;AEqFG,AL7CD,AIjDF,ADUD,AF3CD,AKsDqB,AJ3CnB,SDXK3D,EGiCAyD,AFtBArI,CDXP,GDkFW,OIjDT,CAAiBD,EFtBjB,CFuEE,AEvEkBA,IEsBpB,EAA0BjC,CFtB1B,GEsBA;AJkDC,AIjDF,AHjCF,AK8CK,AJnCF,CDdJ,IK+BW,MJjBFmC,OAAL,CAAaF,OAAb,EAAsBD,KAAtB,EAA6BhC,IAA7B;AGoHE,ACxHE,AJKJ,GINW,UJMJiC,EGmHEA,KHnHK,CAACgE,CGmHC,CAAC0J,IHnHjB,KGmHS,GAAoB1N,OAAO,CAACgE,MAA5B,GAAqC/C,SAA5C;AACD,AL7CD,ACjFJ,AK+DEwwB,AJpDC,EIoDDA,EL/DIzsB,MDiFEzG,AMlBE,EAAE,CACR,INiBW,CAACwB,ICjFQ,CDiFT,CAAX,CCjFuB,CDiFH,QCjFlBiF,CE0CWhF,SAASD,OAAO,CF1CN,CAACkF,MAAD,EAASC,MAAT,EAAoB;AIgG1C,ALdC,AGvCF,AF1CF,AKgEIwsB,IAAAA,CDEmB,CAAZ,AJlELvsB,CIkEN,IJlEW,CDiFHpF,ECjFML,EKgEE,CNiBH,CAAC+C,AMjBI,ILhEI,CAACwC,CDiFf,KAAiB,ACjFH,CDiFlB,CCjF2B,CDiFH,CCjFN,AK+DpB,CL/DF,SGgCuBjF,SAASD,OAAOhC,MAAM;AC+F7C,AL7CM,AIjDJ,ADUA,AF1CF,AKgEI4zB,IAAAA,ELhEEvsB,GKgEG,CFhCH,CC8FCwH,AFpFAtE,AF1CI,AKgEA,GLhEG5I,GDiFD,AIjDA3B,GC8Fb,CD9FM,CDUJ,AF1CoB,CE0CHiC,AF1CIkF,CDiFjB,AMnBJ,EF9BoB,GHhCA,CE0CpB,CF1C6B,CE0CHnF,CF1CN,CAAtB,GGgCE,ADU+B,CAAC,CCVC,ADUF,CAA/B;AEqFH,AL7CM,AIjDD,ADUH,AGsBGmB,GDRU,CCQVA,CDRN,GCQU,EAAE,OAHR;AF5BC,AHjCH,AKiEI0wB,EJxKsB9xB,EIwKtB8xB,ELjEA,EAAEvsB,KAAK,CAACF,CKiEG,EACT,ELlEK,CAAL,IAAgBE,KAAK,CAACD,KAAD,CAAvB,CAAJ,EAAqC,oFK6DnC;ADmEJ,AL9CM,ACjFF,AKkEEysB,AJxDN,IIwDMA,ED6DFlkB,IAAI,AC7DI,CLlEDvI,CDiFDrF,AMfI,CD6DH,AC7DI,GLlEC,CDiFD,CAAC0C,CCjFG0C,KDiFT,ACjFN,CI+HmB,IL9CI,CAArB,EAAwB;AK+C5B,AL9CM,AIjDJ,AHhCD,AKiEc+rB,GLnEf,GKmEeA,GLjER,EGgCA5oB,AEiCa,ED8DXqF,AC9Da,ID8DtB,AL9Ca,CK8CCtL,IAAd,AD/FE,CAAiBrC,CC+FC,GL9Cd,GIjDJ,EAA0BjC,CDUfiC,GCVX,MDUoBD,OAAO,CAC3B;AEqFAkK,AL9CG,AIjDJ,ADWC,AF3CA,AKgEW,AJvDf,KIuDc,CD+DVA,CC/DuC,ILhEhC,CAAP,QI+Hc,CAAC,IAAD,EAAO0D,IAAP,CAAd;AAEA,AFrFD,AF3CA,AK+D0CujB,MAAAA,KDiEpC7uB,ACjEyC,EAAE,EDiEhD,GAAYA,IAAZ;AACA,ALhDE,AChFL,AK8D0C,CLtE3C,IKsEc,MDkELuL,CLhDC7N,KAAK,CKgDX,ALhDY0C,GKgDG,EAAf,CLhDM,KAAiB,CAAjB,IAAsB1C,KAAK,CAAC,CAAD,CAAL,KAAa,CAAvC,EAA0C;AKiD7C,ALhDK,AMzBJ,GADQ,EASR,UJvDWgE,EFwEA,SAAP,MIjDM/D,SAASD,OAAOhC,MAAM;AJkD7B,AIjDH,AH/BJ,AK+DM2zB,IL/DApsB,AK+DAosB,YAAY,EAAE,ML/DM,AK8DtB,GL9DyB,SE0CX1xB,AF1CZsF,SE0CqBvF,OAAO,IF1CL,CAAAwF,SAAS;AIiIpC8E,ADjGE,ADWA1I,AF3CkC,AKgEhCgwB,IDiEJtnB,ACjEIsnB,EHrBFhwB,GF1CFmD,AK+DS,EFhCFH,AEgCI,EHrBF,CAACoC,CEsFC,AJhIL,CIgIM4G,AJhILpI,CE0CL,CAAY,EEsFH,EAAO,CAAC,CFtFjB,CF1CI,CE0CgBxF,CF1CJ,GG+BhB,CAAyBC,ADWzB,EGmBA,IL7DiBvB,CG+BjB,AH/BgB,EG+BkBsB,AH/BdyF,CAAJ,EAAU,EG+B1B,EAAyCzH,IAAzC;ACkGA0B,ALjDE,AIhDH,ADWC,AF1CA,AK+DEyB,AJxDN,IIwDMA,AJxDA0D,EGyHFnF,EJhIMgG,AK+DA,AJxDA,CGyHH,CCjEK,CDiEH,AFtFAkD,ADnCI,CFwEH5I,EC/EM,GD+ED,AC/EItB,AK4Df,CNmBYgE,AC/EI,CAACwB,CI+HA,AHxHfW,GDPa,CD+ET,AC/EgBhC,ACOb,CAAAiC,GAAG,CFwEW,AC/ER,CD+ET,AC/EsB,CE0C5B,CAA0B7E,CF1CX,CD+EaD,AC/E5B,KD+EiC,AGrCjC,CHqCkC,CAAD,AGrCEA,CHqCP,IGrCY,CHqCC,AGrCA,CHqCvC,AGrCsC,CAAxC,CHqC4C;AKkD5CiB,ALjDI,AGrCL,AF1CC,AK+DE4wB,AJzDU,IIyDVA,EDiEF5wB,EJhIM0E,CCMUb,EG0HX,CH1Hc,CG0HZ,AH1HaA,CDNR,CK+DC,CJzDU,CFyEZ,AC/EIW,AKgEX,AJ1DoB/C,CDNR,CAACwB,GIgIDmJ,CJhID,ACMK,CDNExK,ECMW,CFyE7B,AEzEe,CAAP,CG0HL,AJhIQ,CIgISyK,AJhII,GAAb,CAAf,CIgIO,EAAwB,oECrE/B;ADsEE,ALjDC,AMfDwkB,AJ3DU,CAAhB,GI2DMA,MAAM,EDgEF,AChEI,CDgEH,AC/DH,KD+DQ1kB,SAAV,EAAqB;AACnB,AJjIJ,AKiEM+jB,MAAAA,ELjEFzrB,GKiEO,EAAE,CLjEH,CAAChD,CIiID,IAAIlC,CJjIV,IIiIM,CAAU,AJjIEmF,MAAM,CG+BjB1F,AH/BkByC,MAA7B,EAAqC,CG+BjB1C,OAAOtB,GAAG,oBCkGpB,CAAN;AACD,ALlDD,AIhDF,AH/BE,AKgEE,AJ1DR,IAAMqG,CIyDQ,EAEN,GJ3DI,EFyEF/E,CC/EG0F,ACME,IFyEA,CAAChD,CC/EG,CAACA,ECMdqC,EFyEI,EC/EG,CE0CJ/E,CDpCM,CFyEY,AC/EE2F,ACMbb,CFyEN,EEzEK,EFyEiB9E,AGrChBhC,ADpCKgH,CDNc,CAACtC,ECMrB,CFyEsB,CAAC,AGrChB,ADpCQ,CFyEO,CAAL,AC/E1B,KD+EuC,CAAvC,EAA0C;AACxC,AIhDJ,ADWA,AF1CC,AKiEKyuB,AJ3DRrsB,EAAAA,GDRE,ACQC,CI2DKqsB,AJ3DJ3uB,IEyBE,ADWAvC,ADpCN,CDNS,AKiEI,AJ3DJ+E,EI2DM,EJ3Df,EFyEa,AGrCA,CCXAhF,CEiCP,CHtBU,EAAd,CCXgB,CJgDZ,AIhDa,CAAD,CAAZ,MAAoB,QAAxB,EAAkC;ACkGhC,ALjDC,AIhDDA,ADWF,AF1CE,AKiEI+xB,AJ3DR,MI2DQA,EFlCJ/xB,CFzBG8E,ECoCA5E,CEsFC4N,AH1HR,CEyBS,AH/BE7I,CG+BD,AEkCM,CFlCP,CAAL,AEkCc,CD+DL,ADjGAuD,GCiGG,GDjGZ,ECiGiBsF,AFtFnB,CCXoB,ADWA7N,IEsFlB,CJhIyB,CAAC4E,CG+B1B,ADWF,GF1CgC,CAACa,MAAD,CAAL,EAAeb,IAAI,CAACc,MAAD,CAAnB,CAAzB;AIiIA,ALjDD,AGrCD,AF1CC,AKiEO1E,AJ3DX,CAHD,MF4DI,CMEQA,GHvBHd,CEsFCuC,CLjDC,AMdM,EAAE,ENcJ,CKiDC,AFtFZ,CAAazC,EEsFE,AChEC,INeED,CKiDE6N,AFtFpB,EAAsB7N,EHqCX,GKiDI,AFtFf,CEsF4B0C,CFtFC1E,CHqCD,GGrC5B,CEsFE,CFzFgB,CAIlB,EHoCO,EAA+B;AKkDpC,ALjDA,AIjDA,AH9BH,AKiESmD,GLzEJ,CAD8B,IK0E1BA,ID+DFlB,ADlGAA,AEmCM,EAAE,CNcL,IKiDI,ADlGA,CAACwC,AEiCE,CNgBd,CKiDc6K,GDlGd,ECkGA,ADlGmB;AJkDpB,AIjDGtN,ADYJ4B,AFpDkC,AK2E1BowB,AJ3DZ,CDhBA,GCgBM/sB,ECoCFrD,EGuBQowB,EFnCJhyB,GDYG,CAACgH,CCZC,AEmCM,CFnCL,CAAD,ADYT,AGuBiB,CFnCb,ADYQ,CCZCvE,GFxBO,EEwBhB,CFxBmB,EEwBFxC,GEgCL,EHpBhB,ECZ4B,ADYAA,ADpC1BgF,CEwB2BxC,KAAzB,CDYJ,WDpCuB,CAACyC,MAAD,EAASC,MAAT,EAAoB;AG0HzC,ADjGC,ADYH,AGuBQ2sB,AJ3DV,MAAM1sB,EI2DI0sB,GJ3DC,EGyHF,AFrFA7xB,CGuBO,AJ3DFN,EI2DI,CD8DL8C,AC7DD,GHxBI,CAACpC,CEqFC,AHzHI,CAAC6E,EGyHF,CAAjB,CFrFK,CEqFezC,AFrFA9B,CDpCF,EAAS,CCoCtB,CEqFoB,AFrFA,ADpCP,CAAtB,CCoCS,CEqFuB+B,AFrF9B,MEqFE,EAAoCD,KAAK,EAAzC,EAA6C;AAC3C,ALjDJ,AIhDC,ADYF,AF3CI,AKkESxB,AJ3Dd,IDPW2E,ECOLP,II2DQpE,CJ3DH,EFwEF,CKiDC8M,AHzHIpO,CI2DK,CLlEI,CKkEF,ELlEK,CIgIV,ELjDd,AExEoB,CGyHH,AC9DP,AJ3DWwF,KGyHC0I,AJhIbjI,CCOW,EAAS,EAAT,CAAtB,CGyHmB,CAAanD,IJhIN,CIgIP,AJhIQqC,CIgIrB,EJhIoB,EAAMe,GAAN,EAAc;ADgFvC,AC/ED,AKiE6B1E,MLjEvB2E,IKiEuB3E,GLjEhB,CKiEoB,ELjEjB1C,AKiEmB,KLjEd,CAACoH,AKiEV,GLjEa,CAACnD,MAAJ,GAAa,CAAd,CAAL,CACbqD,IADa,GAEbC,GAFa,CAET;AI8HD,ADjGJ,AH7BK,AK+DoCgsB,AJ1D3C,MAAI,EAAE1sB,EI0DqC0sB,CFlCpCzpB,AH7BM,EAAN,ACKI,CGyHDuF,AHzHE1I,GI0DsC,ED+D5C,AC/D8C,AJ1DzC,CAAL,CGyHW,CDjGf,CAAiBnF,CFxBGqF,KAAK,CEwBzB,AFxB0BD,EEwBArF,GFxBD,CAAvB,CEwB6B,AFxBjC,CEwBkC,CAAD,AFxBI,CEwBnC;ACkGM,ADjGNC,AH9BK,AK+DK,AJzDV,GDRc,CAAhB,EGgCEA,GEgCgB,EAEN,AJ1DHoF,EEwBA,CAAC/E,EFxBI,CGyHD0G,ADjGX,CAAY,CFxBG5B,CGyHT,CAAS,ADjGf,GFxBA,UGyH4B2I,MAAM,CAACC,UAA7B;AACD,ADjGN,AH9BD,AKgEc/M,AJ1Db,EC/H4BlB,CD6H7B,MDJO+E,ACMA,CI0DO7D,ELhEJ,CACP+E,EK+DgB,CLhEZ,CACA,AK+Dc,UL/DdC,CK8DK,GL9DD,EAAI,CD6EDhF,OAAO;AACnB,AGrCJ,AFxCM,AK+DUE,AJ1DZ,QDLM+E,ED6EAvD,AMdMxB,CJ1DL,CAAP,EI0DgB,ENcJ,AC7EE,AK+DI,GNcH,AC7EE0E,ED6EjB,CC7EoB,AK6DV,CL7DWG,GAAJ,CAAQ,UAAA7D,EAAE;AI8HvB4L,ALhDJ,AC9E2B,AKgEfikB,AJ1Db,UGwHKjkB,ALhDEnL,AMdMovB,GLhEmB7vB,ED8EpB,AC9EsB,CI8HvB,AJ9HwB8D,CI8HvBhG,AC9DQ,CNcLgB,CMdO,CLhEY,CAAN,ED8ER,CKgDT,ALhDU4B,CKgDhB,ILhDU,CAAY,OAAZ,CAAd;AGpCJ,AF1C+B,AK6DjB,AJtDb,CARD,IDCqB,EAAwBsD,EK2DzB,EAON,GLlEO,CAAgC,IAAhC,CAAf,gBG8BYlG,SAASD,OAAO;ACiG1B,ALhDJ,AIhDA,AEmCYiB,UAAAA,CNaP,GKgDG,CAAC,ALhDA6B,AMbQ,CNaP,CMbS,ENaN,CAAR,EKgDW7C,ALhDA8C,CAAC,AMbP,GNaUH,GKgDX,ELhDgB,CAACF,EKgDE,ILhD5B,EAAkCI,CAAC,GAAGC,CKgD7B,ALhDT,EAAyCD,CKgDC,ALhDA,EAA1C,EAA8C,OKgDrC,GAA+CgH,OAAO,CAAC7J,OAAD,CAAvD,MAAsE,QAAtE,IAAkFA,OAAO,CAACgO,OAA9F,EAAuG;AACrGhO,ALhDJ,AIhDF,AH/BE,AKiEyBkB,AJzD/B,IAAMoE,IDRIW,EKiEqB/E,ED8DrBlB,ALhDE+C,EMduB,ENcnB,AC/EE,AKiEmB,GD8DpB,ALhDEJ,AC/EE,CI+HHqL,AJ/HZ,EAAkB,AKiEV,ENcU,AEvEE,CFuEDnL,CAAD,CKgDd,ALhDJ,AEvEuB,GGuHD,KAAlB,CHvHJyC,oBAAuB,CAAAC,SAAS;AGwH5B,ALhDJ,AI/CF,AHhCIU,AKgEqC8rB,AJzDP,MDP9B9rB,GCQNnB,CIwD2CitB,ENejC/uB,EC/EI,CE0CD+E,ADlCP,CAACxC,CDRUK,AKgEiC,EAAE,CLhEhC,CAACnD,CD+ED,GAAG,AEvEjB,EDRA,ACQY,UAAChE,CAAD,EAAI+G,CAAJ,EAAU;AGwHrB,ALhDDvC,AI/CJ,AHhCG,AK+DO,AJvDV,QAAMwC,CIgDU,CNuBZxC,CMfM,GJxDE,EFuEF,CEvEKxE,CFuEH,AEvEI,CAACwF,IAAF,CAAOrB,KAAP,CAAa,GAAb,CAAf;AGwHG,ALlDkB,AI7CrB,ADUJ,AGqBgB5B,AJvDZ,ICkCA6F,IDlCMnB,CFqEJ,CMdU1E,IJvDA,CIuDK,EAAE,AJvDJwE,CAAC,CCkCpB,ADlCqBvB,IAAF,CAAOrB,GIuDZ,EJvDK,CAAa,GAAb,CAAf;AFwEE,AI9CF,AHlCE,AK+D6B1B,UF7BzBsH,AE6ByBtH,CL/DtB,CDgFDgC,EMjB2B,EAAE,INiBrB,CI9CC,CE6BP,CNiBS,CI9CC,2BJ8C2BC,IAA5B,CAAiCJ,IAAjC,EAAuCxD,KAAvC,CAA6C,CAA7C,CAAjB;AKgDA,AL/CAyD,AI9CAuF,ADSC,AF5CQvC,AK+DkC+rB,AJtD7C,ICmCSjrB,EF5CEd,EDiFThD,AI9CAuF,AF1BE9C,ECmCW,AF5CA,AK+D8BssB,EDiEvC,AJhIK/rB,CIgIJhG,AFpFW,CCTV,AF1BE,CAACyC,CE0BD,AHnCD,CK+D2C,CNkBxC,CAACS,AMlByC,CDiExC,CAACsJ,AHvHX,CCmCK1F,GEoFH,CD9Fc,AFzBEpB,CFwEpB,CGrCgB,CEoFK,AFpFJ3F,CHqCK,EExEI,CAAC0C,CGuHDwL,AFpFV,EAAQlQ,GDnC1B,CCmCkB,CDnCmB,CCmCF,GEoFjC,EAAuC;AACrC,AL/CAgF,AI9CF0F,ADSJ,AF7CmBxC,AK+DP,AJrDR,MCmCA,AF7CeA,CE6CdY,CCTD4B,CEmBc,CN2BZ1F,CI9CC,AE4BK,EF5BHhD,AF1BE0F,CFwED,AClFiB,CIiIhBwI,CL/CC/K,AClFO+C,EGoCL,CAAC,AF1BE,CE0BH,AF1BIxD,CEwBI,CDWtB,EHqCoB,AGrCE,CHqCD,CK+Cf,AL/Cc,AExET,CGuHYzC,ALhDG,EEvEC0F,KGuHrB,CHvH2B,CAACjD,MAA9B;AGwHC,AL/CCW,AI9CFsF,ADSF7B,AF9CS,AKiEG7F,AJtDX,ICmCD6F,CF9CE,ACSF,GE4BE6B,EJ8CEtF,AMlBQpC,CF5BP,AF1BE,EFwEA,AI9CAjB,EJ8CEmD,AMlBQ,EAAE,CF5BP,CAAC,ADSE,CCTH,EDSM,CHqCD,CAAC,CAAD,CGrCK6E,MGkBZ,UHlBQ,EAAlB;AEqFC,ALlDuB,AI/CJ,ADarB,AF9CE,AKiEW7G,AJtDV,GCgCiC,AFlD9B,CEsDP,CF9CGiF,EGgCD,EJ+CE,CMfUjF,CLxEP,CAQG,CCUC8D,CIsDO,EAAE,MLhEToB,AK8DC,GL9DF,EAAMJ,IAAN,ACUmB,CAACpB,CDVL,GCUS,CAACa,MAAD,CAAL,EAAeb,IAAI,CAACc,MAAD,CAAnB,CAAzB;AGgGe,ALvBf,AI9CF,AHpCEU,AKgEU2rB,AJtDX,IDVC3rB,CIyGc,EAwBf,AJjII,CAACJ,EKgEM+rB,CF5BPzpB,CJ8CGrF,AClFE,CAACgD,IKgEQ,CNkBL,CMlBO,ENkBJlD,AClFZ,CGoCL,AHpCE,CGoCe/C,AHpCIb,EDkFA,CAACyD,CClFpB,CAAwBoD,EGoC1B,CJ8CiB,CAAW,AI9CFwC,AHpCI,CAACxC,GDkFd,CClFf,CDkFgCzG,KAAjB,AI9CjB,CJ8CwC,CAAvB,CAAf;AKgDFE,AD7FAO,AHpCE,AK4DQ,AJlDX,GARK,CAD8B,EGgIlCP,AD7FAO,GC6FG,AC9Ea,ED8EX,AJjIIoG,AKiEC,EF7BH,CAAC/F,AHpCN,EIgID,CD5FD,CAAY,GAAZ,EAd8B,CAe9B;AC6FAW,ALhDE,AI5CF,ADOF,AF5CG,AKgEWA,AJhEsB,CAAtC,EDXS,EAWF6E,CIiIH7E,GFrFK6F,CGoBO7F,CDiEP,CJ5IA,CI4IE,AL/CH,AC7FN,EK2EmB,ENkBTqC,AMlBW,KDiEH0D,EFrFI,CEqFb,AFrFcD,CEqFDoH,CL/CF,CMlBR,CDiEH,CL/Cc,CK+CI,AL/CrB,AGtCC,CAAuBnO,CHsCJuD,IGtCnB,EAA8BvF,IAA9B,CAAP,CHsCsC,GAAGkF,MAAM,CAACR,MAD5C,EAEEY,UAAU,GAAGC,YAFf,EAGED,UAAU,EAHZ,EAIE;AK6CF1B,AL5CE,AIhDJ,ADOH,AF5CA,AK+DmCT,CHzB7B,AFtDA,OIiJDS,EClE8BT,INsBtBqC,AMtB0B,CDkE3B,CAACwD,AClE4B,GDkEpC,AL5Ca,CK4CD,EL5CI9D,AMtBR,MNsBc,CAACI,UAAD,CAApB,CK4C+B,KAAKhB,IAA1B,GAAiC,SAAjC,GAA6C6L,GAAzD;AACD,AD5FD,AEyB8C6jB,AJrD3C,IAAMpsB,MIqDqCosB,MJrDzB,CIqDgC,EAAE,AJrD/B,SAAfpsB,YAAe,CAACd,GAAD,EAAMe,GAAN,EAAc;AGoHrC,ALxCG,AI/CJ,AEwBU,AJpDZ,KG2FkB,CH3FZC,CGwHH,EClFe,EAeN,EJrDC,CF2EH,CAACtC,CE3EK/E,IF2EA,CAACiE,AE3EI,CAACmD,GAAG,CAACnD,CF2EpB,EAAmB,GE3EH,GAAa,CAAd,CAAL,CACbqD,IADa,GAEbC,GAFa,CAET;AGuHLtG,AL7CM,AI/CN,AEwBYuB,AJnDP,MGuHLvB,GAAG,CCpESuB,CDoEP,AHvHM,EAAN,EImDY,EAAE,EDmElB,MCnES;ADqEVA,AL7CK,AI/CL,ADKG,AF7CP,AK+DiCE,AJnDxB,GAFS,CDVZmF,ACUJ,EG0HErF,GFvFY+F,CGkBiB7F,CDqExB,CFvFF,AF7CO,CIoIH,AFvFSnB,CGkBiB,CL/DpB,CK+DsB,EHlBhC,EAAoBhC,EEuFPoQ,ACrEN,EHlBP,AF7CD9H,EE6C2B,EEuFtB,GAAkB,CJpIZ;AIqIX,AD5FH,ADKD1E,AF9Ce,AK+D8BowB,AJlD7C,ECiCApwB,IF9CkBwC,EAAH,CE8CR,ADjCAU,CCiCCkC,AGiBqCgrB,EDsErC3jB,AHxHE,CCiCV,ADhCGrI,CCgCSe,EDjCL,CDbW3C,AK+DkC,AJjD7C,EDdQ,AK+DuC,CDsElD,AFvFc,CAACpE,KAAD,CDhCXiG,CCgCmBjI,GDhCf,CCgCO,CAAlB,ADhCe;AF0ET,AGzCP,AF/CgB,AK+DH,AJhDR,QAAIkI,CDfmB9B,AKgDT,ELhDW,AKgEjB,GNwBAX,ECxFsB,ACelB,GAAGoC,GDfJ,ACeO,CAACG,EFyEA,CEzEJ,CAAQ,CFyED,SEzEC7D,EAAE;AGwHzB,AL9CIhB,ACzFO,AKgEDF,AJjDe,CDf/B,QIuIOoN,CCvESpN,ENyBNE,CE1EyBgB,EIiDd,AJjDgB,CF0EvB,AE1EwB8D,CGwHvB,ACvEQ,CNyBP,EK8CE,AHxHmB,CAAN,IGwHR4H,ACvET,ODuER,EAA0BzO,IAA1B,CAA+BkP,KAA/B,CAAqCD,QAArC,EAA+CE,SAA/C;AL/CsB,AMxBKpN,AJjDF,KAAV,EAAwBgF,GIiDZhF,CNwBzB,GMxB6B,AJjDhB,CAAgC,CIiDd,GJjDlB,CAAf,EIiDQ,aFrBGlB,SAASD,OAAO;AC6F3B,AD5FF,AH3CJ,AK+D+CgyB,IL/DzCzrB,MK+DyCyrB,IL/D/B,CIuIH,EJvIM,AK+DmC,EDwEhD,ACxEkD,OL/DlDzrB,UAAa;AIwId,AL9CG,AI9CJ,AH5Ce,AK+DL,AJhDR,MDfgBnC,EAAH,ACeT8B,CIgCU,EFHXqC,GJ8CG/E,EE3EM,CDfIY,ED0FL,AC1FE,ACeE,CF2EH7E,AE3EZ,EE6BF,AF7BoB,CE6BHU,GJ8CT,CAAa,CAAb,EAAgB,AI9CxB,CJ8CQ,CI9CkBD,KJ8CK,AI9CA,CAAC,CAAD,CJ8C3B,AI9CJ,EJ8CoC;AKuCnC,ALtCKyD,AI9CP,AH7CgB,AK2CC,AJ3BZyC,KGoFY,CHpFZA,CGyHH,EJzI0B9B,EAAE,CD2FvBX,EE3EM,EDhBsB,CCgBnBoC,GAAG,CAACnD,EF2EF,CAACvB,AC3FH,GCgBX,CF2EE,GAAmB,OAAnB;AK+CNzB,AL9CK,AC5FU,AKyCX,AJxBD,CDjBP,IKuCc,CDmGVA,CCvEI,EDuED,EAAE,ALhDD,MAEO,GK6CV,CL7Cc8D,KAAK,CAACjE,MAAN,CAAa,CAAb,EAAgB,CAAhB,MAAuB,GAA3B,EAAgC;AK+C3C0B,AL9CMwC,AMzBA0tB,MDuENlwB,ACvEMkwB,KDuED,ACvEM,CNyBL1tB,CK8CC,ACvEM,SDuEG+K,ACxEZ,CN0Ba,CAACrN,IAAZ,CK8CC,EL9CkB,CK8CC,QL9CpB;AK+CJ,AL9CG,AC5FT,AKmEU4wB,AJnDJ,IDhBAvrB,EKmEIurB,KJnDG,CG0HHtjB,EJ1IM,AKmEE,EAAE,CLnED,II0Ib,KJ1IAjI,OG6CSvG,GH7CI,CAAAwG,IAAI,CG6CCzG,CH7CG,MG6CI;AAC3B,AH9CuB,AKoEfiB,AJpDGgF,MAAAA,EIoDHhF,EJpDO,EAAJgF,CIoDE,EAAE,CJpDN,MDf4BL,EKkErB,ULlEiC,CAACa,IAAD,EAAO,CACxDH,QADwD,EAExDC,UAFwD,CAAP,CAD1B;AI4IrB,AL/CE9C,AI9CJxD,AH/CuB,AKqEfkB,AJrDS+E,ME+BjBjG,AF/BiBiG,EIqDT/E,CDuELsN,CL/CChL,EMxBQ,CFtBL,CAACnD,AEsBM,AJrDW,EAAR4F,CE+BjB,CC6FY,ECzEI,CDyED,AL/CA,CAACxC,IK+CImK,AL/ChB,GAAmBrK,GI9CJxD,CC6FjB,CL/C0B,CK+CC0O,AL/CAlP,EI9CL,CAAC,CAAD,CJ8CD,AI9CvB,CJ8CmC,CK+CjC,AL/CqB,CK+Cc8O,AL/CjC,KK+CF,CAAyCG,SAAzC,EAAoDF,SAApD;AL9CEtL,AI9CL,AHhDwB,AKsEf+uB,AJtDC,KAAP,CDfGtrB,EKqEGsrB,ENwBJ/uB,GC9FmB,EKsER,EAAE,GNwBH,CAACC,KM3BC,CN2BZ,CAAkB9D,IAAlB,CAAuBqE,WAAvB;AK+CF,AL9CC,AC/FoB,AKuEfquB,AJtDP,GAPI,EAQJ1rB,CDjBaO,EKsENmrB,GJ7DH,CAQG,EIqDM,CDsEL,CJ7Ic,AKuEP,CACN,EDqER,GH3HOzrB,GAAD,EAAMJ,IAAN,EAAe;AG4HtB,AJ9IsB,AKwEXhF,AJrDVoF,IAAAA,EDlBwBO,CCkBrB,CAACX,EIqDMhF,EJrDF,CDnBa,ACmBZiF,EIqDM,EAAE,IJrDd,CAAH,CAAmB9G,GIqDX,CJrDR,CAAwB6G,IAAI,CAACA,IAA7B;AGoHD,ALvCCtD,AMxB4BxB,AJpD5B,KG8Ec,EA6Cf,CL/CCwB,EMxB4BxB,CJpDrBkF,GF4ED,AMxB0B,AJpDhC,CF4EOjH,CMxB2B,GNwBlC,CAAY6D,EMxBJ,QNwBR,MI9CYhD,SAASD,OAAO;AC8F9BN,AL/CC,AI9CD,AH9CF,AKmE8CsyB,AJnD3C,GAXI,EAWFlsB,CG2HHpG,AJ3IImH,GI2ID,CCxEyCmrB,CDwEvC,CHtIA,CAAP,II8DqD,EAAE,CDuEpD,EJ1ImB,GAAGzsB,oBAAoB,CAACoB,UAAD,CAA7C;AI4IE1F,AD7FA,AH9CF,AKkEY,AJlDb,CAhBM,KG2IHA,GC1EgB,ED0EX,AD7FA2H,AEqBK,EDwEH,SAASzC,OAAT,CAAiB6H,CD7FxB,CAA0B/N,MH9CjB4G,CG8CT,CC6FO,CD7F4B7G,CC6FC,ID7FI,CAAC,CAAD,CAAxC,KH9CF,sBAAgC0G,OAAhC,sBAA4CE,OAA5C;AI4II,ALhDF,AI7CD,AH9CF,AKmEe3F,CL1EhB,SK0EgBA,EDwEN,CAAC+M,ALhDArL,EMxBU,EAAE,ENwBnB,IKgDE,EAAiB,eCzET;AD0EN,ALhDL,AMxBaxB,UAAAA,IAAI,EDwEN,ACxEQ,IDwEJX,EC1EJ,GD0EA,CAAU,2BAAV,CAAN;AACD,AJ3IP,AKmEgBwxB,ILnEZlrB,MKmEYkrB,OAAO,ELnEvB,AKmEyB;AAHX,AJlDd,IAAM1rB,KIgDc,EAON,CJvDA,GAAG,SAAXA,GEgCGtG,KFhCQ,EEgCDhC,MAAM;AC8FhB,AD7FF,AH7CG,AKoESiD,AJxDC,IDZJ8F,ECYO3C,EAAH,EEiCTnE,AH7CW,AKoEHgB,GDsEL,AJ1IW,EKoED,EDsENwB,AD7FA,AEuBQ,AJxDH2B,EAAH,CEiCC,EC6FE,AD7FhB,AH7CS2C,GI0IU,CAAjB,EAAoBtE,AJ1IJ,CAACzC,II0IQ,CJ1IT,EI0IY,AJ1IJhC,IAAR,CI0IiB6P,ACvEzB,CLnEyB,MI0IL,CAAanL,MAAzC,EAAiDD,KAAK,EAAtD,EAA0D;AACxD,AD7FJ,AH7CF,AKoEctB,AJzDC,MDXX,CAAC2F,ECWsB1C,CIyDbjD,CFvBPjB,AFlCsB,GG+HnB6N,ACtEQ,EAAE,AJzDc,IG+HlB,EJ1IhB,AKkEY,AJvDG,CG+HI,CJ1IG,CG6CpB,CAAoB9N,EC6FE4N,KD7FtB,EC6FiB,CAAapL,KAAb,CAAb;AD5FJ,AH7CAqE,AKoEYkrB,AJ1DC,CAAjB,GDVIlrB,MKoEYkrB,CFvBP7xB,MEuBc,CFvBnB,CAAaF,AH7CE,AKoEM,GLpEH,IG6ClB,AH7CsB+D,EG6CAhE,KAAtB,EAA6BhC,IAA7B,AH7CkB,EG0CA,AH1ClB,CG8CA;AC4FI,AJzIL,AKgEW,SAPM,EAYN,GDoEF+P,CLjDGhO,KKiDG,CAACiO,UAAP,KAAsBA,UAA1B,EAAsC;AACpC,AD5FN,AEuBY/M,AJ3DhB,IAAMsF,MI2DUtF,GFvBLhB,CFpCK,CI2DK,EAAE,AJ3DJ,EGgIFwC,CD5FC,CAACpC,GC4FT,EHhIJkG,CEoCK,CAAe5F,IAAf,CAAoB,AEuBjB,EFvBH,CAAP,AFpCe;AGiIV,AD5FN,AH9CD,AKoEuCQ,AJ3DtB,MAAGiD,EAAH,CDTVoC,CKoEgCrF,IAAI,EAAE,CJ3DzBiD,EDTH,ACSA,CDTC0C,EKoEN,aLpEqB,CAACC,MAAhB,CAAuB/G,KAAvB,EAA8BhC,IAA9B,CAAD,CAAjB;AI2IK,AJ1IN,AKmEsDg0B,AJ3DpC,CDbZ,QCawB5tB,CI2DwB4tB,CJ3DtB,KAAK,CI2DwB,EAAE,KJ3D7C;AI2DL,AJ3DK,CAAnB,QI+CoB,EAaN;ADuER,ACvEU/wB,UAAAA,IDuEJ,CCvES,EAAE,CDuEPT,KAAJ,CAAU,UCvER,aDuE+BwN,UAAjC,CAAN;AACD,ACxEqC7M,AJ1D1C,EEnK+BpB,EFmKzByG,MI0DoCrF,IAAI,AJ1D9B,EI0DgC,CJ1D7B,KI0DL,IJ1DRqF,UAAa,CAAAC,IAAI,EAAI;AGqHtB,AD/EL,AH9CO,AKkEiDurB,AJ1D7B,IDRdhrB,CIgFO,EA2Df,AJ3IW,GAAG,AKkEqCgrB,OAAO,ELlElDhrB,AKkEoD,GLlE9C,ACSsBpB,CDTrB5F,KAAD,EAAQhC,IAAR,ACSkC,CAACyI,CDTlB,GCSiB,EAAO,CACxDH,QADwD,EAExDC,UAFwD,CAAP,CAD1B;AGoIvB7G,AJ3IFkC,AKiEY,AJ1Da,EDPzBA,II2IElC,GAAG,AJ3IE,AKoDW,CLpDVsH,CI2ID,EJ3IP,CAAYD,GI0IT,GJ1Ie,CAAC/G,KAAD,EAAQhC,IAAR,CAAlB;AI4IEiD,AD7FJ,AH9CC,AK+CmB,AJzCO,CDRpB,KI6IHA,AHpIKyF,KGoIA,EAAE,AHrIgB,SGqIPiI,IAAT,GAAgB;AACrB,AC/FE,AJvCmB,KIWb,CJVIhI,SGqIL,CHtIc,IGsITkH,OAAL,CAAa7H,GAAb,CAAiB,UAAU4I,CAAV,EAAa;AACnC,AClIJ,AJLuB,GIJf,EAoER,CJ/D0BhI,OADH,IGuIZgI,CAAC,CAACZ,UAAT;AACD,ACvED7M,IAAAA,IAAI,CDqEG,CAAP,ACrEM,KFvBG6G,GEsBX;ADyEC,ACvECiqB,AJ7DJ,II6DIA,EJ7DEprB,OI6DO,EAAE,IAFb,GJ3DoB,GAAGtB,oBAAoB,CAACoB,UAAD,CAA7C;AG8HG,ADvFL,AEuBMgrB,AJ7DJ,IEsCE7qB,AEuBE6qB,CDKc,EAkEf,SCvEa,EAAE,CFvBpB,GEoBI,gBJ1DS9qB,gBAAX,sBAAgCH,OAAhC,sBAA4CE,OAA5C;AGqIElH,ACvEEkyB,AJ7DL,CAPD,GIoEMA,EDuEFlyB,GAAG,ACvEI,EDuEF,ACvEI,ODsER,aC1ED;AD4EAuB,AD9FG,AEuBD4wB,IFvBO9qB,AEuBP8qB,EDuEF5wB,ID9Fe,CC8FV,EAAE,AD9FW,EEuBL,EACT,KDsEY4N,AD9FP9H,KC8FF,CAAeiH,AD9FJ,CAAChO,KAAD,EAAQhC,EC8FnB,EAA2B,AD9FhB,EAAiB;AC+FjC,AD9FJ,AEiBE,AJvDJ,GIbY,CA3DG,AJwEX8I,EEsCE,CAACA,KC8FGrE,KAAK,EHpIf,CGoIkB,ED9FhB,EAAsB,CC8FD0D,OAAL,CAAa6H,UAAb,CAAZ;AACA,AD9FFlH,AEyBFiqB,EAAAA,EFzBEjqB,IEyBI,EAAE,EDqEAgI,MAAM,CD9FG,EC8FArQ,CD9FG,IC8FE,AD9FEuJ,CC8FD/I,SAAN,CAAgBO,KAAhB,AD9FG,CC8FmBL,CD9FrC,GC8Fe,CAA2BoP,SAA3B,EAAsC,CAAtC,CAAb;AD7FH,AEhHY,AJ0ER,CI1EP,EF6GuC,CAIrC,AFvCWxH,MAAM,GAAG,SAATA,MAAS,CAAC/G,KAAD,EAAQhC,IAAR,EAAiB;AGoIjC,AHnIJ,MAAI,CAAC8I,KGmIG,CAACgI,MAAM,CAACpM,EHnIhB,EAAsB,EGmIlB,EAAoB;AAClB,AHnIJoE,IAAAA,YGmIU,GHnIK,CGmIDtG,EHnII,GGmIR,CAAU,AHnIEwD,aAAJ,EAAlB,OGmIU,CAAN;AACD,AD9FL,AFrCC,SEqCM8C,eAAe,CAACC,MA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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["const left = {\n  data: {\n    stringYaEstaba: \"string\"\n  }\n};\n\nconst right = {\n  data: {\n    unStringAdded: \"string testing\",\n    unObjectAdded: {objectPepe: {hola: \"nesting\"}},\n    stringYaEstaba: \"string Modified\"\n  }\n};\n\nexport { left, right };\n","const isArray =\n  typeof Array.isArray === \"function\" ? Array.isArray : a => a instanceof Array;\n\nconst getObjectKeys =\n  typeof Object.keys === \"function\"\n    ? obj => Object.keys(obj)\n    : obj => {\n        const names = [];\n        for (let property in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, property)) {\n            names.push(property);\n          }\n        }\n        return names;\n      };\n\nconst trimUnderscore = str => {\n  if (str.substr(0, 1) === \"_\") {\n    return str.slice(1);\n  }\n  return str;\n};\n\nconst arrayKeyToSortNumber = key => {\n  if (key === \"_t\") {\n    return -1;\n  } else {\n    if (key.substr(0, 1) === \"_\") {\n      return parseInt(key.slice(1), 10);\n    } else {\n      return parseInt(key, 10) + 0.1;\n    }\n  }\n};\n\nconst arrayKeyComparer = (key1, key2) =>\n  arrayKeyToSortNumber(key1) - arrayKeyToSortNumber(key2);\n\nclass BaseFormatter {\n  format(delta, left) {\n    const context = {};\n    this.prepareContext(context);\n    this.recurse(context, delta, left);\n    return this.finalize(context);\n  }\n\n  prepareContext(context) {\n    context.buffer = [];\n    context.out = function(...args) {\n      this.buffer.push(...args);\n    };\n  }\n\n  typeFormattterNotFound(context, deltaType) {\n    throw new Error(`cannot format delta type: ${deltaType}`);\n  }\n\n  typeFormattterErrorFormatter(context, err) {\n    return err.toString();\n  }\n\n  finalize({ buffer }) {\n    if (isArray(buffer)) {\n      return buffer.join(\"\");\n    }\n  }\n\n  recurse(context, delta, left, key, leftKey, movedFrom, isLast) {\n    const useMoveOriginHere = delta && movedFrom;\n    const leftValue = useMoveOriginHere ? movedFrom.value : left;\n\n    if (typeof delta === \"undefined\" && typeof key === \"undefined\") {\n      return undefined;\n    }\n\n    const type = this.getDeltaType(delta, movedFrom);\n    const nodeType =\n      type === \"node\" ? (delta._t === \"a\" ? \"array\" : \"object\") : \"\";\n\n    if (typeof key !== \"undefined\") {\n      this.nodeBegin(context, key, leftKey, type, nodeType, isLast);\n    } else {\n      this.rootBegin(context, type, nodeType);\n    }\n\n    let typeFormattter;\n    try {\n      typeFormattter =\n        this[`format_${type}`] || this.typeFormattterNotFound(context, type);\n      typeFormattter.call(\n        this,\n        context,\n        delta,\n        leftValue,\n        key,\n        leftKey,\n        movedFrom\n      );\n    } catch (err) {\n      this.typeFormattterErrorFormatter(\n        context,\n        err,\n        delta,\n        leftValue,\n        key,\n        leftKey,\n        movedFrom\n      );\n      if (typeof console !== \"undefined\" && console.error) {\n        console.error(err.stack);\n      }\n    }\n\n    if (typeof key !== \"undefined\") {\n      this.nodeEnd(context, key, leftKey, type, nodeType, isLast);\n    } else {\n      this.rootEnd(context, type, nodeType);\n    }\n  }\n\n  formatDeltaChildren(context, delta, left) {\n    const self = this;\n    this.forEachDeltaKey(delta, left, (key, leftKey, movedFrom, isLast) => {\n      self.recurse(\n        context,\n        delta[key],\n        left ? left[leftKey] : undefined,\n        key,\n        leftKey,\n        movedFrom,\n        isLast\n      );\n    });\n  }\n\n  forEachDeltaKey(delta, left, fn) {\n    const keys = getObjectKeys(delta);\n    const arrayKeys = delta._t === \"a\";\n    const moveDestinations = {};\n    let name;\n    if (typeof left !== \"undefined\") {\n      for (name in left) {\n        if (Object.prototype.hasOwnProperty.call(left, name)) {\n          if (\n            typeof delta[name] === \"undefined\" &&\n            (!arrayKeys || typeof delta[`_${name}`] === \"undefined\")\n          ) {\n            keys.push(name);\n          }\n        }\n      }\n    }\n    // look for move destinations\n    for (name in delta) {\n      if (Object.prototype.hasOwnProperty.call(delta, name)) {\n        const value = delta[name];\n        if (isArray(value) && value[2] === 3) {\n          moveDestinations[value[1].toString()] = {\n            key: name,\n            value: left && left[parseInt(name.substr(1))]\n          };\n          if (this.includeMoveDestinations !== false) {\n            if (\n              typeof left === \"undefined\" &&\n              typeof delta[value[1]] === \"undefined\"\n            ) {\n              keys.push(value[1].toString());\n            }\n          }\n        }\n      }\n    }\n    if (arrayKeys) {\n      keys.sort(arrayKeyComparer);\n    } else {\n      keys.sort();\n    }\n    for (let index = 0, length = keys.length; index < length; index++) {\n      const key = keys[index];\n      if (arrayKeys && key === \"_t\") {\n        continue;\n      }\n      const leftKey = arrayKeys\n        ? typeof key === \"number\"\n          ? key\n          : parseInt(trimUnderscore(key), 10)\n        : key;\n      const isLast = index === length - 1;\n      fn(key, leftKey, moveDestinations[leftKey], isLast);\n    }\n  }\n\n  getDeltaType(delta, movedFrom) {\n    if (typeof delta === \"undefined\") {\n      if (typeof movedFrom !== \"undefined\") {\n        return \"movedestination\";\n      }\n      return \"unchanged\";\n    }\n    if (isArray(delta)) {\n      if (delta.length === 1) {\n        return \"added\";\n      }\n      if (delta.length === 2) {\n        return \"modified\";\n      }\n      if (delta.length === 3 && delta[2] === 0) {\n        return \"deleted\";\n      }\n      if (delta.length === 3 && delta[2] === 2) {\n        return \"textdiff\";\n      }\n      if (delta.length === 3 && delta[2] === 3) {\n        return \"moved\";\n      }\n    } else if (typeof delta === \"object\") {\n      return \"node\";\n    }\n    return \"unknown\";\n  }\n\n  parseTextDiff(value) {\n    const output = [];\n    const lines = value.split(\"\\n@@ \");\n    for (let i = 0, l = lines.length; i < l; i++) {\n      const line = lines[i];\n      const lineOutput = {\n        pieces: []\n      };\n      const location = /^(?:@@ )?[-+]?(\\d+),(\\d+)/.exec(line).slice(1);\n      lineOutput.location = {\n        line: location[0],\n        chr: location[1]\n      };\n      const pieces = line.split(\"\\n\").slice(1);\n      for (\n        let pieceIndex = 0, piecesLength = pieces.length;\n        pieceIndex < piecesLength;\n        pieceIndex++\n      ) {\n        const piece = pieces[pieceIndex];\n        if (!piece.length) {\n          continue;\n        }\n        const pieceOutput = {\n          type: \"context\"\n        };\n        if (piece.substr(0, 1) === \"+\") {\n          pieceOutput.type = \"added\";\n        } else if (piece.substr(0, 1) === \"-\") {\n          pieceOutput.type = \"deleted\";\n        }\n        pieceOutput.text = piece.slice(1);\n        lineOutput.pieces.push(pieceOutput);\n      }\n      output.push(lineOutput);\n    }\n    return output;\n  }\n}\n\nexport default BaseFormatter;\n","import BaseFormatter from \"./base.js\";\n\nconst OPERATIONS = {\n  add: \"add\",\n  remove: \"remove\",\n  replace: \"replace\",\n  move: \"move\"\n};\n\nclass JSONFormatter extends BaseFormatter {\n  constructor() {\n    super();\n    this.includeMoveDestinations = true;\n  }\n\n  prepareContext(context) {\n    super.prepareContext(context);\n    context.result = [];\n    context.path = [];\n    context.pushCurrentOp = function(obj) {\n      const { op, value } = obj;\n      const val = {\n        op,\n        path: this.currentPath()\n      };\n      if (typeof value !== \"undefined\") {\n        val.value = value;\n      }\n      this.result.push(val);\n    };\n\n    context.pushMoveOp = function(to) {\n      const from = this.currentPath();\n      this.result.push({\n        op: OPERATIONS.move,\n        from: from,\n        path: this.toPath(to)\n      });\n    };\n\n    context.currentPath = function() {\n      return `/${this.path.join(\"/\")}`;\n    };\n\n    context.toPath = function(toPath) {\n      const to = this.path.slice();\n      to[to.length - 1] = toPath;\n      return `/${to.join(\"/\")}`;\n    };\n  }\n\n  typeFormattterErrorFormatter(context, err) {\n    context.out(`[ERROR] ${err}`);\n  }\n\n  rootBegin() {}\n  rootEnd() {}\n\n  nodeBegin({ path }, key, leftKey) {\n    path.push(leftKey);\n  }\n\n  nodeEnd({ path }) {\n    path.pop();\n  }\n\n  /* jshint camelcase: false */\n  /* eslint-disable camelcase */\n\n  format_unchanged() {}\n\n  format_movedestination() {}\n\n  format_node(context, delta, left) {\n    this.formatDeltaChildren(context, delta, left);\n  }\n\n  format_added(context, delta) {\n    context.pushCurrentOp({ op: OPERATIONS.add, value: delta[0] });\n  }\n\n  format_modified(context, delta) {\n    context.pushCurrentOp({ op: OPERATIONS.replace, value: delta[1] });\n  }\n\n  format_deleted(context) {\n    context.pushCurrentOp({ op: OPERATIONS.remove });\n  }\n\n  format_moved(context, delta) {\n    const to = delta[1];\n    context.pushMoveOp(to);\n  }\n\n  format_textdiff() {\n    throw new Error(\"Not implemented\");\n  }\n\n  format(delta, left) {\n    let context = {};\n    this.prepareContext(context);\n    this.recurse(context, delta, left);\n    return context.result;\n  }\n}\n\n/* jshint camelcase: true */\n/* eslint-enable camelcase */\n\nexport default JSONFormatter;\n\nconst last = arr => arr[arr.length - 1];\n\nconst sortBy = (arr, pred) => {\n  arr.sort(pred);\n  return arr;\n};\n\nconst compareByIndexDesc = (indexA, indexB) => {\n  const lastA = parseInt(indexA, 10);\n  const lastB = parseInt(indexB, 10);\n  if (!(isNaN(lastA) || isNaN(lastB))) {\n    return lastB - lastA;\n  } else {\n    return 0;\n  }\n};\n\nconst opsByDescendingOrder = removeOps =>\n  sortBy(removeOps, (a, b) => {\n    const splitA = a.path.split(\"/\");\n    const splitB = b.path.split(\"/\");\n    if (splitA.length !== splitB.length) {\n      return splitA.length - splitB.length;\n    } else {\n      return compareByIndexDesc(last(splitA), last(splitB));\n    }\n  });\n\nexport const partitionOps = (arr, fns) => {\n  const initArr = Array(fns.length + 1)\n    .fill()\n    .map(() => []);\n  return arr\n    .map(item => {\n      let position = fns.map(fn => fn(item)).indexOf(true);\n      if (position < 0) {\n        position = fns.length;\n      }\n      return { item, position };\n    })\n    .reduce((acc, item) => {\n      acc[item.position].push(item.item);\n      return acc;\n    }, initArr);\n};\nconst isMoveOp = ({ op }) => op === \"move\";\nconst isRemoveOp = ({ op }) => op === \"remove\";\n\nconst reorderOps = diff => {\n  const [moveOps, removedOps, restOps] = partitionOps(diff, [\n    isMoveOp,\n    isRemoveOp\n  ]);\n  const removeOpsReverse = opsByDescendingOrder(removedOps);\n  return [...removeOpsReverse, ...moveOps, ...restOps];\n};\n\nlet defaultInstance;\n\nexport const format = (delta, left) => {\n  if (!defaultInstance) {\n    defaultInstance = new JSONFormatter();\n  }\n  return reorderOps(defaultInstance.format(delta, left));\n};\n\nexport const log = (delta, left) => {\n  console.log(format(delta, left));\n};\n","import BaseFormatter from \"./base.js\";\n\nconst OPERATIONS = {\n  add: \"added\",\n  remove: \"removed\",\n  replace: \"replaced\",\n  move: \"moved\"\n};\n\nfunction escapeHtml(unsafe) {\n  return unsafe\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#039;\");\n}\n\nclass JSONFormatter extends BaseFormatter {\n  constructor() {\n    super();\n    this.includeMoveDestinations = true;\n  }\n\n  prepareContext(context) {\n    super.prepareContext(context);\n    context.result = [];\n    context.path = [];\n    context.pushCurrentOp = function(obj) {\n      const { op, value } = obj;\n      const val = {\n        op,\n        path: this.currentPath()\n      };\n      if (typeof value !== \"undefined\") {\n        val.value = value;\n      }\n      //console.log(\"this\", this.path);\n      this.result.push(\n        `Layer ${this.path[1]}, field \"${this.path[2]}\" ${op} with \"${value}\"`\n      );\n    };\n\n    context.pushAddOp = function(obj) {\n      const { op, value } = obj;\n      const val = {\n        op,\n        path: this.currentPath()\n      };\n      if (typeof value !== \"undefined\") {\n        val.value = value;\n      }\n      //console.log(\"this\", this.path);\n      this.result.push(`Layer ${this.path[1]} added`);\n    };\n\n    context.pushMoveOp = function(to) {\n      const from = this.currentPath();\n      this.result.push({\n        op: OPERATIONS.move,\n        from: from,\n        path: this.toPath(to)\n      });\n    };\n\n    context.currentPath = function() {\n      return `/${this.path.join(\"/\")}`;\n    };\n\n    context.toPath = function(toPath) {\n      const to = this.path.slice();\n      to[to.length - 1] = toPath;\n      return `/${to.join(\"/\")}`;\n    };\n  }\n\n  typeFormattterErrorFormatter(context, err) {\n    context.out(`[ERROR] ${err}`);\n  }\n\n  rootBegin() {}\n  rootEnd() {}\n\n  nodeBegin({ path }, key, leftKey) {\n    path.push(leftKey);\n  }\n\n  nodeEnd({ path }) {\n    path.pop();\n  }\n\n  /* jshint camelcase: false */\n  /* eslint-disable camelcase */\n\n  format_unchanged() {}\n\n  format_movedestination() {}\n\n  format_node(context, delta, left) {\n    this.formatDeltaChildren(context, delta, left);\n  }\n\n  format_added(context, delta) {\n    //.log(\"add\", context.path);\n    context.pushAddOp({ op: OPERATIONS.add, value: delta[0] });\n  }\n\n  format_modified(context, delta) {\n    context.pushCurrentOp({ op: OPERATIONS.replace, value: delta[1] });\n  }\n\n  format_deleted(context) {\n    context.pushCurrentOp({ op: OPERATIONS.remove });\n  }\n\n  format_moved(context, delta) {\n    const to = delta[1];\n    context.pushMoveOp(to);\n  }\n\n  format_textdiff() {\n    throw new Error(\"Not implemented\");\n  }\n\n  format(delta, left) {\n    let context = {};\n    this.prepareContext(context);\n    this.recurse(context, delta, left);\n    return context.result;\n  }\n}\n\n/* jshint camelcase: true */\n/* eslint-enable camelcase */\n\nexport default JSONFormatter;\n\nconst last = arr => arr[arr.length - 1];\n\nconst sortBy = (arr, pred) => {\n  arr.sort(pred);\n  return arr;\n};\n\nconst compareByIndexDesc = (indexA, indexB) => {\n  const lastA = parseInt(indexA, 10);\n  const lastB = parseInt(indexB, 10);\n  if (!(isNaN(lastA) || isNaN(lastB))) {\n    return lastB - lastA;\n  } else {\n    return 0;\n  }\n};\n\nconst opsByDescendingOrder = removeOps =>\n  sortBy(removeOps, (a, b) => {\n    const splitA = a.path.split(\"/\");\n    const splitB = b.path.split(\"/\");\n    if (splitA.length !== splitB.length) {\n      return splitA.length - splitB.length;\n    } else {\n      return compareByIndexDesc(last(splitA), last(splitB));\n    }\n  });\n\nexport const partitionOps = (arr, fns) => {\n  const initArr = Array(fns.length + 1)\n    .fill()\n    .map(() => []);\n  return arr\n    .map(item => {\n      let position = fns.map(fn => fn(item)).indexOf(true);\n      if (position < 0) {\n        position = fns.length;\n      }\n      return { item, position };\n    })\n    .reduce((acc, item) => {\n      acc[item.position].push(item.item);\n      return acc;\n    }, initArr);\n};\nconst isMoveOp = ({ op }) => op === \"move\";\nconst isRemoveOp = ({ op }) => op === \"remove\";\n\nconst reorderOps = diff => {\n  const [moveOps, removedOps, restOps] = partitionOps(diff, [\n    isMoveOp,\n    isRemoveOp\n  ]);\n  const removeOpsReverse = opsByDescendingOrder(removedOps);\n  return [...removeOpsReverse, ...moveOps, ...restOps];\n};\n\nlet defaultInstance;\n\nexport const format = (delta, left) => {\n  if (!defaultInstance) {\n    defaultInstance = new JSONFormatter();\n  }\n  return reorderOps(defaultInstance.format(delta, left));\n};\n\nexport const log = (delta, left) => {\n  console.log(format(delta, left));\n};\n","import BaseFormatter from \"./base.js\";\n\nlet actions = {\n  added: \"added\",\n  deleted: \"deleted\",\n  movedestination: \"move dest\",\n  moved: \"moved\",\n  unchanged: \"unchanged\",\n  error: \"error\",\n  textDiffLine: \"text changed\"\n};\n\nfunction parseInteger(value) {\n  if (value === \"\") return NaN;\n  const number = Number(value);\n  return Number.isInteger(number) ? number : NaN;\n}\nfunction isInteger(value) {\n  const result = parseInteger(value);\n  return !isNaN(result);\n}\n\nclass ConsoleFormatter extends BaseFormatter {\n  constructor() {\n    super();\n    this.includeMoveDestinations = false;\n  }\n\n  prepareContext(context) {\n    super.prepareContext(context);\n    context.index = null;\n    context.parent = null;\n    context.objResult = null;\n    context.parentProperty = null;\n    context.setIndex = function(index) {\n      this.index = index;\n    };\n    context.setParent = function(parent) {\n      this.parent = parent;\n    };\n    \n  }\n\n  typeFormattterErrorFormatter(context, err) {\n    // context.out(`[ERROR]${err}`);\n  }\n\n  formatValue(context, value) {\n    // context.out(JSON.stringify(value, null, 2));\n  }\n\n  formatTextDiffString(context, value) {\n    let lines = this.parseTextDiff(value);\n    //console.log(\"lines\", lines);\n    for (let i = 0, l = lines.length; i < l; i++) {\n      let line = lines[i];\n      // context.out(`${line.location.line},${line.location.chr} `);\n      let pieces = line.pieces;\n      for (\n        let pieceIndex = 0, piecesLength = pieces.length;\n        pieceIndex < piecesLength;\n        pieceIndex++\n      ) {\n        let piece = pieces[pieceIndex];\n        // context.out(piece.text);\n      }\n    }\n  }\n\n  rootBegin(context, type, nodeType) {\n    //console.log(\"rootBegin \", type, nodeType);\n    if (type === \"node\") {\n      context.objResult = nodeType === \"array\" ? [] : {}\n      context.setParent(context.objResult);\n      // context.out(nodeType === \"array\" ? \"[\" : \"{\");\n    }\n  }\n\n  rootEnd(context, type, nodeType) {\n    if (type === \"node\") {\n      // context.out(nodeType === \"array\" ? \"]\" : \"}\");\n    }\n  }\n\n  nodeBegin(context, key, leftKey, type, nodeType) {\n    let index = \"\";\n    console.log(\"nodeBegin\", key, leftKey, type, nodeType)\n    if (!isInteger(leftKey)) {\n      context.setIndex(null);\n      context.parentProperty = leftKey;\n      // context.out(`${leftKey}: `);\n    } else {\n      context.setIndex(leftKey * 1);\n    }\n\n    if (nodeType === \"object\" && context.index) {\n      index = `\\n  \"index\": ${context.index},`;\n    }\n\n    if (type === \"node\") {\n      // context.out(nodeType === \"array\" ? \"[\" : \"{\" + index);\n    }\n    /*if (type === \"added\" && !nodeType) {\n      console.log(\"added\", index)\n      // context.out(index)\n    }*/\n  }\n\n  nodeEnd(context, key, leftKey, type, nodeType, isLast) {\n    if (type === \"node\") {\n      // context.out(nodeType === \"array\" ? \"],\" : `}${isLast ? \"\" : \",\"}`);\n    }\n  }\n\n  /* jshint camelcase: false */\n  /* eslint-disable camelcase */\n\n  format_unchanged(context, delta, left) {\n    if (typeof left === \"undefined\") {\n      return;\n    }\n    console.log(\"unchanged\", delta);\n    this.formatValue(context, left);\n  }\n\n  format_movedestination(context, delta, left) {\n    if (typeof left === \"undefined\") {\n      return;\n    }\n    this.formatValue(context, left);\n  }\n\n  format_node(context, delta, left) {\n    // recurse\n    this.formatDeltaChildren(context, delta, left);\n  }\n\n  format_added(context, delta, a) {\n    console.log(\"added1\", context.parentProperty, context.parent, context.parent[context.parentProperty], delta[0]);\n    if (typeof delta[0] === \"object\") {\n      delta[0].action = \"added\";\n      if (context.index) {\n        delta[0].index = context.index;\n      }\n    }\n    context.parent[context.parentProperty] = delta[0]\n\n    //this.formatValue(context, delta[0]);\n    // context.out(\",\");\n  }\n\n  format_modified(context, delta) {\n    const modifiedObj = {\n      action: \"modified\",\n      old: delta[0],\n      new: delta[1]\n    };\n    this.formatValue(context, modifiedObj);\n  }\n\n  format_deleted(context, delta) {\n    //delta[0].action = \"deleted\";\n    this.formatValue(context, delta[0]);\n  }\n\n  format_moved(context, delta) {\n    //console.log(\"moved\", delta);\n    // context.out(`==> ${delta[1]}`);\n  }\n\n  format_textdiff(context, delta) {\n    console.log(\"text\", delta);\n    this.formatTextDiffString(context, delta[0]);\n  }\n\n  format(delta, left) {\n    let context = {};\n    this.prepareContext(context);\n    this.recurse(context, delta, left);\n    //return eval(context.buffer.join(\"\"));\n    console.log(\"context.resu\", context)\n    return context.buffer.join(\"\");\n  }\n}\n\n/* eslint-enable camelcase */\n\n/* jshint camelcase: true */\n\nexport default ConsoleFormatter;\n\nlet defaultInstance;\n\nexport const format = (delta, left) => {\n  if (!defaultInstance) {\n    defaultInstance = new ConsoleFormatter();\n  }\n  //console.log(\"result\", pepe);\n  return defaultInstance.format(delta, left);\n};\n\nexport function log(delta, left) {\n  console.log(format(delta, left));\n}\n","import BaseFormatter from \"./base.js\";\n\nlet actions = {\n  added: \"added\",\n  deleted: \"deleted\",\n  movedestination: \"move dest\",\n  moved: \"moved\",\n  unchanged: \"unchanged\",\n  error: \"error\",\n  textDiffLine: \"text changed\"\n};\n\nfunction parseInteger(value) {\n  if (value === \"\") return NaN;\n  const number = Number(value);\n  return Number.isInteger(number) ? number : NaN;\n}\nfunction isInteger(value) {\n  const result = parseInteger(value);\n  return !isNaN(result);\n}\n\nclass ConsoleFormatter extends BaseFormatter {\n  constructor() {\n    super();\n    this.includeMoveDestinations = false;\n  }\n\n  prepareContext(context) {\n    super.prepareContext(context);\n    context.index = [];\n    context.indent = function(levels) {\n      this.indentLevel =\n        (this.indentLevel || 0) + (typeof levels === \"undefined\" ? 1 : levels);\n      this.indentPad = new Array(this.indentLevel + 1).join(\"  \");\n      this.outLine();\n    };\n    context.outLine = function() {\n      this.buffer.push(`\\n${this.indentPad || \"\"}`);\n    };\n    context.out = function(...args) {\n      for (let i = 0, l = args.length; i < l; i++) {\n        let lines = args[i].split(\"\\n\");\n        let text = lines.join(`\\n${this.indentPad || \"\"}`);\n        this.buffer.push(text);\n      }\n    };\n    context.setIndex = function(index) {\n      this.index = index;\n    };\n  }\n\n  typeFormattterErrorFormatter(context, err) {\n    //context.pushColor(colors.error);\n    context.out(`[ERROR]${err}`);\n    //context.popColor();\n  }\n\n  formatValue(context, value) {\n    context.out(JSON.stringify(value, null, 2));\n  }\n\n  formatTextDiffString(context, value) {\n    let lines = this.parseTextDiff(value);\n    //console.log(\"lines\", lines);\n    context.indent();\n    for (let i = 0, l = lines.length; i < l; i++) {\n      let line = lines[i];\n      //context.pushColor(colors.textDiffLine);\n      context.out(`${line.location.line},${line.location.chr} `);\n      //context.popColor();2\n      let pieces = line.pieces;\n      for (\n        let pieceIndex = 0, piecesLength = pieces.length;\n        pieceIndex < piecesLength;\n        pieceIndex++\n      ) {\n        let piece = pieces[pieceIndex];\n        //context.pushColor(colors[piece.type]);\n        context.out(piece.text);\n        //context.popColor();\n      }\n      if (i < l - 1) {\n        context.outLine();\n      }\n    }\n    context.indent(-1);\n  }\n\n  rootBegin(context, type, nodeType) {\n    //context.pushColor(colors[type]);\n    //console.log(\"rootBegin \", type, nodeType);\n    if (type === \"node\") {\n      context.out(nodeType === \"array\" ? \"[\" : \"{\");\n      context.indent();\n    }\n  }\n\n  rootEnd(context, type, nodeType) {\n    if (type === \"node\") {\n      context.indent(-1);\n      context.out(nodeType === \"array\" ? \"]\" : \"}\");\n    }\n  }\n\n  nodeBegin(context, key, leftKey, type, nodeType) {\n    //context.pushColor(colors[type]);\n    let index = \"\";\n    if (!isInteger(leftKey)) {\n      context.setIndex(null);\n      context.out(`${leftKey}: `);\n    } else {\n      context.setIndex(leftKey * 1);\n    }\n\n    if (nodeType === \"object\" && context.index) {\n      index = `\\n  \"index\": ${context.index},`;\n    }\n\n    if (type === \"node\") {\n      context.out(nodeType === \"array\" ? \"[\" : \"{\" + index);\n      context.indent();\n    }\n    /*if (type === \"added\" && !nodeType) {\n      console.log(\"added\", index)\n      context.out(index)\n    }*/\n  }\n\n  nodeEnd(context, key, leftKey, type, nodeType, isLast) {\n    if (type === \"node\") {\n      context.indent(-1);\n      context.out(nodeType === \"array\" ? \"],\" : `}${isLast ? \"\" : \",\"}`);\n    }\n    if (!isLast) {\n      context.outLine();\n    }\n    //context.popColor();\n  }\n\n  /* jshint camelcase: false */\n  /* eslint-disable camelcase */\n\n  format_unchanged(context, delta, left) {\n    if (typeof left === \"undefined\") {\n      return;\n    }\n    console.log(\"unchanged\", delta);\n    this.formatValue(context, left);\n  }\n\n  format_movedestination(context, delta, left) {\n    if (typeof left === \"undefined\") {\n      return;\n    }\n    this.formatValue(context, left);\n  }\n\n  format_node(context, delta, left) {\n    // recurse\n    this.formatDeltaChildren(context, delta, left);\n  }\n\n  format_added(context, delta, a) {\n    // console.log(\"added1\", delta, context, a, delta[0] === \"object\");\n    if (typeof delta[0] === \"object\") {\n      delta[0].action = \"added\";\n      if (context.index) {\n        delta[0].index = context.index;\n      }\n    }\n    this.formatValue(context, delta[0]);\n    context.out(\",\");\n  }\n\n  format_modified(context, delta) {\n    //context.pushColor(colors.deleted);\n    //console.log(delta);\n\n    //context.out(`{\n    //  \"action\": \"modified\",\n    //  \"old\": `);\n\n    const modifiedObj = {\n      action: \"modified\",\n      old: delta[0],\n      new: delta[1]\n    };\n    this.formatValue(context, modifiedObj);\n    context.out(\",\");\n    //context.popColor();\n    //context.out(`,\n    //  \"new\": `);\n    //context.pushColor(colors.added);\n    //this.formatValue(context, delta[1]);\n    //context.out(`\n    //},`);\n  }\n\n  format_deleted(context, delta) {\n    //delta[0].action = \"deleted\";\n    this.formatValue(context, delta[0]);\n  }\n\n  format_moved(context, delta) {\n    //console.log(\"moved\", delta);\n    context.out(`==> ${delta[1]}`);\n  }\n\n  format_textdiff(context, delta) {\n    // console.log(\"text\", delta);\n    this.formatTextDiffString(context, delta[0]);\n  }\n\n  format(delta, left) {\n    let context = {};\n    this.prepareContext(context);\n    this.recurse(context, delta, left);\n    //return eval(context.buffer.join(\"\"));\n    return context.buffer.join(\"\");\n  }\n}\n\n/* eslint-enable camelcase */\n\n/* jshint camelcase: true */\n\nexport default ConsoleFormatter;\n\nlet defaultInstance;\n\nexport const format = (delta, left) => {\n  if (!defaultInstance) {\n    defaultInstance = new ConsoleFormatter();\n  }\n  //console.log(\"result\", pepe);\n  return defaultInstance.format(delta, left);\n};\n\nexport function log(delta, left) {\n  console.log(format(delta, left));\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('./empty')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', './empty'], factory) :\n\t(factory((global.jsondiffpatch = {}),global.chalk));\n}(this, (function (exports,chalk) { 'use strict';\n\nchalk = chalk && chalk.hasOwnProperty('default') ? chalk['default'] : chalk;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n\n\n\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar Processor = function () {\n  function Processor(options) {\n    classCallCheck(this, Processor);\n\n    this.selfOptions = options || {};\n    this.pipes = {};\n  }\n\n  createClass(Processor, [{\n    key: 'options',\n    value: function options(_options) {\n      if (_options) {\n        this.selfOptions = _options;\n      }\n      return this.selfOptions;\n    }\n  }, {\n    key: 'pipe',\n    value: function pipe(name, pipeArg) {\n      var pipe = pipeArg;\n      if (typeof name === 'string') {\n        if (typeof pipe === 'undefined') {\n          return this.pipes[name];\n        } else {\n          this.pipes[name] = pipe;\n        }\n      }\n      if (name && name.name) {\n        pipe = name;\n        if (pipe.processor === this) {\n          return pipe;\n        }\n        this.pipes[pipe.name] = pipe;\n      }\n      pipe.processor = this;\n      return pipe;\n    }\n  }, {\n    key: 'process',\n    value: function process(input, pipe) {\n      var context = input;\n      context.options = this.options();\n      var nextPipe = pipe || input.pipe || 'default';\n      var lastPipe = void 0;\n      var lastContext = void 0;\n      while (nextPipe) {\n        if (typeof context.nextAfterChildren !== 'undefined') {\n          // children processed and coming back to parent\n          context.next = context.nextAfterChildren;\n          context.nextAfterChildren = null;\n        }\n\n        if (typeof nextPipe === 'string') {\n          nextPipe = this.pipe(nextPipe);\n        }\n        nextPipe.process(context);\n        lastContext = context;\n        lastPipe = nextPipe;\n        nextPipe = null;\n        if (context) {\n          if (context.next) {\n            context = context.next;\n            nextPipe = lastContext.nextPipe || context.pipe || lastPipe;\n          }\n        }\n      }\n      return context.hasResult ? context.result : undefined;\n    }\n  }]);\n  return Processor;\n}();\n\nvar Pipe = function () {\n  function Pipe(name) {\n    classCallCheck(this, Pipe);\n\n    this.name = name;\n    this.filters = [];\n  }\n\n  createClass(Pipe, [{\n    key: 'process',\n    value: function process(input) {\n      if (!this.processor) {\n        throw new Error('add this pipe to a processor before using it');\n      }\n      var debug = this.debug;\n      var length = this.filters.length;\n      var context = input;\n      for (var index = 0; index < length; index++) {\n        var filter = this.filters[index];\n        if (debug) {\n          this.log('filter: ' + filter.filterName);\n        }\n        filter(context);\n        if ((typeof context === 'undefined' ? 'undefined' : _typeof(context)) === 'object' && context.exiting) {\n          context.exiting = false;\n          break;\n        }\n      }\n      if (!context.next && this.resultCheck) {\n        this.resultCheck(context);\n      }\n    }\n  }, {\n    key: 'log',\n    value: function log(msg) {\n      console.log('[jsondiffpatch] ' + this.name + ' pipe, ' + msg);\n    }\n  }, {\n    key: 'append',\n    value: function append() {\n      var _filters;\n\n      (_filters = this.filters).push.apply(_filters, arguments);\n      return this;\n    }\n  }, {\n    key: 'prepend',\n    value: function prepend() {\n      var _filters2;\n\n      (_filters2 = this.filters).unshift.apply(_filters2, arguments);\n      return this;\n    }\n  }, {\n    key: 'indexOf',\n    value: function indexOf(filterName) {\n      if (!filterName) {\n        throw new Error('a filter name is required');\n      }\n      for (var index = 0; index < this.filters.length; index++) {\n        var filter = this.filters[index];\n        if (filter.filterName === filterName) {\n          return index;\n        }\n      }\n      throw new Error('filter not found: ' + filterName);\n    }\n  }, {\n    key: 'list',\n    value: function list() {\n      return this.filters.map(function (f) {\n        return f.filterName;\n      });\n    }\n  }, {\n    key: 'after',\n    value: function after(filterName) {\n      var index = this.indexOf(filterName);\n      var params = Array.prototype.slice.call(arguments, 1);\n      if (!params.length) {\n        throw new Error('a filter is required');\n      }\n      params.unshift(index + 1, 0);\n      Array.prototype.splice.apply(this.filters, params);\n      return this;\n    }\n  }, {\n    key: 'before',\n    value: function before(filterName) {\n      var index = this.indexOf(filterName);\n      var params = Array.prototype.slice.call(arguments, 1);\n      if (!params.length) {\n        throw new Error('a filter is required');\n      }\n      params.unshift(index, 0);\n      Array.prototype.splice.apply(this.filters, params);\n      return this;\n    }\n  }, {\n    key: 'replace',\n    value: function replace(filterName) {\n      var index = this.indexOf(filterName);\n      var params = Array.prototype.slice.call(arguments, 1);\n      if (!params.length) {\n        throw new Error('a filter is required');\n      }\n      params.unshift(index, 1);\n      Array.prototype.splice.apply(this.filters, params);\n      return this;\n    }\n  }, {\n    key: 'remove',\n    value: function remove(filterName) {\n      var index = this.indexOf(filterName);\n      this.filters.splice(index, 1);\n      return this;\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.filters.length = 0;\n      return this;\n    }\n  }, {\n    key: 'shouldHaveResult',\n    value: function shouldHaveResult(should) {\n      if (should === false) {\n        this.resultCheck = null;\n        return;\n      }\n      if (this.resultCheck) {\n        return;\n      }\n      var pipe = this;\n      this.resultCheck = function (context) {\n        if (!context.hasResult) {\n          console.log(context);\n          var error = new Error(pipe.name + ' failed');\n          error.noResult = true;\n          throw error;\n        }\n      };\n      return this;\n    }\n  }]);\n  return Pipe;\n}();\n\nvar Context = function () {\n  function Context() {\n    classCallCheck(this, Context);\n  }\n\n  createClass(Context, [{\n    key: 'setResult',\n    value: function setResult(result) {\n      this.result = result;\n      this.hasResult = true;\n      return this;\n    }\n  }, {\n    key: 'exit',\n    value: function exit() {\n      this.exiting = true;\n      return this;\n    }\n  }, {\n    key: 'switchTo',\n    value: function switchTo(next, pipe) {\n      if (typeof next === 'string' || next instanceof Pipe) {\n        this.nextPipe = next;\n      } else {\n        this.next = next;\n        if (pipe) {\n          this.nextPipe = pipe;\n        }\n      }\n      return this;\n    }\n  }, {\n    key: 'push',\n    value: function push(child, name) {\n      child.parent = this;\n      if (typeof name !== 'undefined') {\n        child.childName = name;\n      }\n      child.root = this.root || this;\n      child.options = child.options || this.options;\n      if (!this.children) {\n        this.children = [child];\n        this.nextAfterChildren = this.next || null;\n        this.next = child;\n      } else {\n        this.children[this.children.length - 1].next = child;\n        this.children.push(child);\n      }\n      child.next = this;\n      return this;\n    }\n  }]);\n  return Context;\n}();\n\nvar isArray = typeof Array.isArray === 'function' ? Array.isArray : function (a) {\n  return a instanceof Array;\n};\n\nfunction cloneRegExp(re) {\n  var regexMatch = /^\\/(.*)\\/([gimyu]*)$/.exec(re.toString());\n  return new RegExp(regexMatch[1], regexMatch[2]);\n}\n\nfunction clone(arg) {\n  if ((typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) !== 'object') {\n    return arg;\n  }\n  if (arg === null) {\n    return null;\n  }\n  if (isArray(arg)) {\n    return arg.map(clone);\n  }\n  if (arg instanceof Date) {\n    return new Date(arg.getTime());\n  }\n  if (arg instanceof RegExp) {\n    return cloneRegExp(arg);\n  }\n  var cloned = {};\n  for (var name in arg) {\n    if (Object.prototype.hasOwnProperty.call(arg, name)) {\n      cloned[name] = clone(arg[name]);\n    }\n  }\n  return cloned;\n}\n\nvar DiffContext = function (_Context) {\n  inherits(DiffContext, _Context);\n\n  function DiffContext(left, right) {\n    classCallCheck(this, DiffContext);\n\n    var _this = possibleConstructorReturn(this, (DiffContext.__proto__ || Object.getPrototypeOf(DiffContext)).call(this));\n\n    _this.left = left;\n    _this.right = right;\n    _this.pipe = 'diff';\n    return _this;\n  }\n\n  createClass(DiffContext, [{\n    key: 'setResult',\n    value: function setResult(result) {\n      if (this.options.cloneDiffValues && (typeof result === 'undefined' ? 'undefined' : _typeof(result)) === 'object') {\n        var clone$$1 = typeof this.options.cloneDiffValues === 'function' ? this.options.cloneDiffValues : clone;\n        if (_typeof(result[0]) === 'object') {\n          result[0] = clone$$1(result[0]);\n        }\n        if (_typeof(result[1]) === 'object') {\n          result[1] = clone$$1(result[1]);\n        }\n      }\n      return Context.prototype.setResult.apply(this, arguments);\n    }\n  }]);\n  return DiffContext;\n}(Context);\n\nvar PatchContext = function (_Context) {\n  inherits(PatchContext, _Context);\n\n  function PatchContext(left, delta) {\n    classCallCheck(this, PatchContext);\n\n    var _this = possibleConstructorReturn(this, (PatchContext.__proto__ || Object.getPrototypeOf(PatchContext)).call(this));\n\n    _this.left = left;\n    _this.delta = delta;\n    _this.pipe = 'patch';\n    return _this;\n  }\n\n  return PatchContext;\n}(Context);\n\nvar ReverseContext = function (_Context) {\n  inherits(ReverseContext, _Context);\n\n  function ReverseContext(delta) {\n    classCallCheck(this, ReverseContext);\n\n    var _this = possibleConstructorReturn(this, (ReverseContext.__proto__ || Object.getPrototypeOf(ReverseContext)).call(this));\n\n    _this.delta = delta;\n    _this.pipe = 'reverse';\n    return _this;\n  }\n\n  return ReverseContext;\n}(Context);\n\nvar isArray$1 = typeof Array.isArray === 'function' ? Array.isArray : function (a) {\n  return a instanceof Array;\n};\n\nvar diffFilter = function trivialMatchesDiffFilter(context) {\n  if (context.left === context.right) {\n    context.setResult(undefined).exit();\n    return;\n  }\n  if (typeof context.left === 'undefined') {\n    if (typeof context.right === 'function') {\n      throw new Error('functions are not supported');\n    }\n    context.setResult([context.right]).exit();\n    return;\n  }\n  if (typeof context.right === 'undefined') {\n    context.setResult([context.left, 0, 0]).exit();\n    return;\n  }\n  if (typeof context.left === 'function' || typeof context.right === 'function') {\n    throw new Error('functions are not supported');\n  }\n  context.leftType = context.left === null ? 'null' : _typeof(context.left);\n  context.rightType = context.right === null ? 'null' : _typeof(context.right);\n  if (context.leftType !== context.rightType) {\n    context.setResult([context.left, context.right]).exit();\n    return;\n  }\n  if (context.leftType === 'boolean' || context.leftType === 'number') {\n    context.setResult([context.left, context.right]).exit();\n    return;\n  }\n  if (context.leftType === 'object') {\n    context.leftIsArray = isArray$1(context.left);\n  }\n  if (context.rightType === 'object') {\n    context.rightIsArray = isArray$1(context.right);\n  }\n  if (context.leftIsArray !== context.rightIsArray) {\n    context.setResult([context.left, context.right]).exit();\n    return;\n  }\n\n  if (context.left instanceof RegExp) {\n    if (context.right instanceof RegExp) {\n      context.setResult([context.left.toString(), context.right.toString()]).exit();\n    } else {\n      context.setResult([context.left, context.right]).exit();\n    }\n  }\n};\ndiffFilter.filterName = 'trivial';\n\nvar patchFilter = function trivialMatchesPatchFilter(context) {\n  if (typeof context.delta === 'undefined') {\n    context.setResult(context.left).exit();\n    return;\n  }\n  context.nested = !isArray$1(context.delta);\n  if (context.nested) {\n    return;\n  }\n  if (context.delta.length === 1) {\n    context.setResult(context.delta[0]).exit();\n    return;\n  }\n  if (context.delta.length === 2) {\n    if (context.left instanceof RegExp) {\n      var regexArgs = /^\\/(.*)\\/([gimyu]+)$/.exec(context.delta[1]);\n      if (regexArgs) {\n        context.setResult(new RegExp(regexArgs[1], regexArgs[2])).exit();\n        return;\n      }\n    }\n    context.setResult(context.delta[1]).exit();\n    return;\n  }\n  if (context.delta.length === 3 && context.delta[2] === 0) {\n    context.setResult(undefined).exit();\n  }\n};\npatchFilter.filterName = 'trivial';\n\nvar reverseFilter = function trivialReferseFilter(context) {\n  if (typeof context.delta === 'undefined') {\n    context.setResult(context.delta).exit();\n    return;\n  }\n  context.nested = !isArray$1(context.delta);\n  if (context.nested) {\n    return;\n  }\n  if (context.delta.length === 1) {\n    context.setResult([context.delta[0], 0, 0]).exit();\n    return;\n  }\n  if (context.delta.length === 2) {\n    context.setResult([context.delta[1], context.delta[0]]).exit();\n    return;\n  }\n  if (context.delta.length === 3 && context.delta[2] === 0) {\n    context.setResult([context.delta[0]]).exit();\n  }\n};\nreverseFilter.filterName = 'trivial';\n\nfunction collectChildrenDiffFilter(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  var length = context.children.length;\n  var child = void 0;\n  var result = context.result;\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    if (typeof child.result === 'undefined') {\n      continue;\n    }\n    result = result || {};\n    result[child.childName] = child.result;\n  }\n  if (result && context.leftIsArray) {\n    result._t = 'a';\n  }\n  context.setResult(result).exit();\n}\ncollectChildrenDiffFilter.filterName = 'collectChildren';\n\nfunction objectsDiffFilter(context) {\n  if (context.leftIsArray || context.leftType !== 'object') {\n    return;\n  }\n\n  var name = void 0;\n  var child = void 0;\n  var propertyFilter = context.options.propertyFilter;\n  for (name in context.left) {\n    if (!Object.prototype.hasOwnProperty.call(context.left, name)) {\n      continue;\n    }\n    if (propertyFilter && !propertyFilter(name, context)) {\n      continue;\n    }\n    child = new DiffContext(context.left[name], context.right[name]);\n    context.push(child, name);\n  }\n  for (name in context.right) {\n    if (!Object.prototype.hasOwnProperty.call(context.right, name)) {\n      continue;\n    }\n    if (propertyFilter && !propertyFilter(name, context)) {\n      continue;\n    }\n    if (typeof context.left[name] === 'undefined') {\n      child = new DiffContext(undefined, context.right[name]);\n      context.push(child, name);\n    }\n  }\n\n  if (!context.children || context.children.length === 0) {\n    context.setResult(undefined).exit();\n    return;\n  }\n  context.exit();\n}\nobjectsDiffFilter.filterName = 'objects';\n\nvar patchFilter$1 = function nestedPatchFilter(context) {\n  if (!context.nested) {\n    return;\n  }\n  if (context.delta._t) {\n    return;\n  }\n  var name = void 0;\n  var child = void 0;\n  for (name in context.delta) {\n    child = new PatchContext(context.left[name], context.delta[name]);\n    context.push(child, name);\n  }\n  context.exit();\n};\npatchFilter$1.filterName = 'objects';\n\nvar collectChildrenPatchFilter = function collectChildrenPatchFilter(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  if (context.delta._t) {\n    return;\n  }\n  var length = context.children.length;\n  var child = void 0;\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    if (Object.prototype.hasOwnProperty.call(context.left, child.childName) && child.result === undefined) {\n      delete context.left[child.childName];\n    } else if (context.left[child.childName] !== child.result) {\n      context.left[child.childName] = child.result;\n    }\n  }\n  context.setResult(context.left).exit();\n};\ncollectChildrenPatchFilter.filterName = 'collectChildren';\n\nvar reverseFilter$1 = function nestedReverseFilter(context) {\n  if (!context.nested) {\n    return;\n  }\n  if (context.delta._t) {\n    return;\n  }\n  var name = void 0;\n  var child = void 0;\n  for (name in context.delta) {\n    child = new ReverseContext(context.delta[name]);\n    context.push(child, name);\n  }\n  context.exit();\n};\nreverseFilter$1.filterName = 'objects';\n\nfunction collectChildrenReverseFilter(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  if (context.delta._t) {\n    return;\n  }\n  var length = context.children.length;\n  var child = void 0;\n  var delta = {};\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    if (delta[child.childName] !== child.result) {\n      delta[child.childName] = child.result;\n    }\n  }\n  context.setResult(delta).exit();\n}\ncollectChildrenReverseFilter.filterName = 'collectChildren';\n\n/*\n\nLCS implementation that supports arrays or strings\n\nreference: http://en.wikipedia.org/wiki/Longest_common_subsequence_problem\n\n*/\n\nvar defaultMatch = function defaultMatch(array1, array2, index1, index2) {\n  return array1[index1] === array2[index2];\n};\n\nvar lengthMatrix = function lengthMatrix(array1, array2, match, context) {\n  var len1 = array1.length;\n  var len2 = array2.length;\n  var x = void 0,\n      y = void 0;\n\n  // initialize empty matrix of len1+1 x len2+1\n  var matrix = [len1 + 1];\n  for (x = 0; x < len1 + 1; x++) {\n    matrix[x] = [len2 + 1];\n    for (y = 0; y < len2 + 1; y++) {\n      matrix[x][y] = 0;\n    }\n  }\n  matrix.match = match;\n  // save sequence lengths for each coordinate\n  for (x = 1; x < len1 + 1; x++) {\n    for (y = 1; y < len2 + 1; y++) {\n      if (match(array1, array2, x - 1, y - 1, context)) {\n        matrix[x][y] = matrix[x - 1][y - 1] + 1;\n      } else {\n        matrix[x][y] = Math.max(matrix[x - 1][y], matrix[x][y - 1]);\n      }\n    }\n  }\n  return matrix;\n};\n\nvar backtrack = function backtrack(matrix, array1, array2, index1, index2, context) {\n  if (index1 === 0 || index2 === 0) {\n    return {\n      sequence: [],\n      indices1: [],\n      indices2: []\n    };\n  }\n\n  if (matrix.match(array1, array2, index1 - 1, index2 - 1, context)) {\n    var subsequence = backtrack(matrix, array1, array2, index1 - 1, index2 - 1, context);\n    subsequence.sequence.push(array1[index1 - 1]);\n    subsequence.indices1.push(index1 - 1);\n    subsequence.indices2.push(index2 - 1);\n    return subsequence;\n  }\n\n  if (matrix[index1][index2 - 1] > matrix[index1 - 1][index2]) {\n    return backtrack(matrix, array1, array2, index1, index2 - 1, context);\n  } else {\n    return backtrack(matrix, array1, array2, index1 - 1, index2, context);\n  }\n};\n\nvar get$1 = function get(array1, array2, match, context) {\n  var innerContext = context || {};\n  var matrix = lengthMatrix(array1, array2, match || defaultMatch, innerContext);\n  var result = backtrack(matrix, array1, array2, array1.length, array2.length, innerContext);\n  if (typeof array1 === 'string' && typeof array2 === 'string') {\n    result.sequence = result.sequence.join('');\n  }\n  return result;\n};\n\nvar lcs = {\n  get: get$1\n};\n\nvar ARRAY_MOVE = 3;\n\nvar isArray$2 = typeof Array.isArray === 'function' ? Array.isArray : function (a) {\n  return a instanceof Array;\n};\n\nvar arrayIndexOf = typeof Array.prototype.indexOf === 'function' ? function (array, item) {\n  return array.indexOf(item);\n} : function (array, item) {\n  var length = array.length;\n  for (var i = 0; i < length; i++) {\n    if (array[i] === item) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nfunction arraysHaveMatchByRef(array1, array2, len1, len2) {\n  for (var index1 = 0; index1 < len1; index1++) {\n    var val1 = array1[index1];\n    for (var index2 = 0; index2 < len2; index2++) {\n      var val2 = array2[index2];\n      if (index1 !== index2 && val1 === val2) {\n        return true;\n      }\n    }\n  }\n}\n\nfunction matchItems(array1, array2, index1, index2, context) {\n  var value1 = array1[index1];\n  var value2 = array2[index2];\n  if (value1 === value2) {\n    return true;\n  }\n  if ((typeof value1 === 'undefined' ? 'undefined' : _typeof(value1)) !== 'object' || (typeof value2 === 'undefined' ? 'undefined' : _typeof(value2)) !== 'object') {\n    return false;\n  }\n  var objectHash = context.objectHash;\n  if (!objectHash) {\n    // no way to match objects was provided, try match by position\n    return context.matchByPosition && index1 === index2;\n  }\n  var hash1 = void 0;\n  var hash2 = void 0;\n  if (typeof index1 === 'number') {\n    context.hashCache1 = context.hashCache1 || [];\n    hash1 = context.hashCache1[index1];\n    if (typeof hash1 === 'undefined') {\n      context.hashCache1[index1] = hash1 = objectHash(value1, index1);\n    }\n  } else {\n    hash1 = objectHash(value1);\n  }\n  if (typeof hash1 === 'undefined') {\n    return false;\n  }\n  if (typeof index2 === 'number') {\n    context.hashCache2 = context.hashCache2 || [];\n    hash2 = context.hashCache2[index2];\n    if (typeof hash2 === 'undefined') {\n      context.hashCache2[index2] = hash2 = objectHash(value2, index2);\n    }\n  } else {\n    hash2 = objectHash(value2);\n  }\n  if (typeof hash2 === 'undefined') {\n    return false;\n  }\n  return hash1 === hash2;\n}\n\nvar diffFilter$1 = function arraysDiffFilter(context) {\n  if (!context.leftIsArray) {\n    return;\n  }\n\n  var matchContext = {\n    objectHash: context.options && context.options.objectHash,\n    matchByPosition: context.options && context.options.matchByPosition\n  };\n  var commonHead = 0;\n  var commonTail = 0;\n  var index = void 0;\n  var index1 = void 0;\n  var index2 = void 0;\n  var array1 = context.left;\n  var array2 = context.right;\n  var len1 = array1.length;\n  var len2 = array2.length;\n\n  var child = void 0;\n\n  if (len1 > 0 && len2 > 0 && !matchContext.objectHash && typeof matchContext.matchByPosition !== 'boolean') {\n    matchContext.matchByPosition = !arraysHaveMatchByRef(array1, array2, len1, len2);\n  }\n\n  // separate common head\n  while (commonHead < len1 && commonHead < len2 && matchItems(array1, array2, commonHead, commonHead, matchContext)) {\n    index = commonHead;\n    child = new DiffContext(context.left[index], context.right[index]);\n    context.push(child, index);\n    commonHead++;\n  }\n  // separate common tail\n  while (commonTail + commonHead < len1 && commonTail + commonHead < len2 && matchItems(array1, array2, len1 - 1 - commonTail, len2 - 1 - commonTail, matchContext)) {\n    index1 = len1 - 1 - commonTail;\n    index2 = len2 - 1 - commonTail;\n    child = new DiffContext(context.left[index1], context.right[index2]);\n    context.push(child, index2);\n    commonTail++;\n  }\n  var result = void 0;\n  if (commonHead + commonTail === len1) {\n    if (len1 === len2) {\n      // arrays are identical\n      context.setResult(undefined).exit();\n      return;\n    }\n    // trivial case, a block (1 or more consecutive items) was added\n    result = result || {\n      _t: 'a'\n    };\n    for (index = commonHead; index < len2 - commonTail; index++) {\n      result[index] = [array2[index]];\n    }\n    context.setResult(result).exit();\n    return;\n  }\n  if (commonHead + commonTail === len2) {\n    // trivial case, a block (1 or more consecutive items) was removed\n    result = result || {\n      _t: 'a'\n    };\n    for (index = commonHead; index < len1 - commonTail; index++) {\n      result['_' + index] = [array1[index], 0, 0];\n    }\n    context.setResult(result).exit();\n    return;\n  }\n  // reset hash cache\n  delete matchContext.hashCache1;\n  delete matchContext.hashCache2;\n\n  // diff is not trivial, find the LCS (Longest Common Subsequence)\n  var trimmed1 = array1.slice(commonHead, len1 - commonTail);\n  var trimmed2 = array2.slice(commonHead, len2 - commonTail);\n  var seq = lcs.get(trimmed1, trimmed2, matchItems, matchContext);\n  var removedItems = [];\n  result = result || {\n    _t: 'a'\n  };\n  for (index = commonHead; index < len1 - commonTail; index++) {\n    if (arrayIndexOf(seq.indices1, index - commonHead) < 0) {\n      // removed\n      result['_' + index] = [array1[index], 0, 0];\n      removedItems.push(index);\n    }\n  }\n\n  var detectMove = true;\n  if (context.options && context.options.arrays && context.options.arrays.detectMove === false) {\n    detectMove = false;\n  }\n  var includeValueOnMove = false;\n  if (context.options && context.options.arrays && context.options.arrays.includeValueOnMove) {\n    includeValueOnMove = true;\n  }\n\n  var removedItemsLength = removedItems.length;\n  for (index = commonHead; index < len2 - commonTail; index++) {\n    var indexOnArray2 = arrayIndexOf(seq.indices2, index - commonHead);\n    if (indexOnArray2 < 0) {\n      // added, try to match with a removed item and register as position move\n      var isMove = false;\n      if (detectMove && removedItemsLength > 0) {\n        for (var removeItemIndex1 = 0; removeItemIndex1 < removedItemsLength; removeItemIndex1++) {\n          index1 = removedItems[removeItemIndex1];\n          if (matchItems(trimmed1, trimmed2, index1 - commonHead, index - commonHead, matchContext)) {\n            // store position move as: [originalValue, newPosition, ARRAY_MOVE]\n            result['_' + index1].splice(1, 2, index, ARRAY_MOVE);\n            if (!includeValueOnMove) {\n              // don't include moved value on diff, to save bytes\n              result['_' + index1][0] = '';\n            }\n\n            index2 = index;\n            child = new DiffContext(context.left[index1], context.right[index2]);\n            context.push(child, index2);\n            removedItems.splice(removeItemIndex1, 1);\n            isMove = true;\n            break;\n          }\n        }\n      }\n      if (!isMove) {\n        // added\n        result[index] = [array2[index]];\n      }\n    } else {\n      // match, do inner diff\n      index1 = seq.indices1[indexOnArray2] + commonHead;\n      index2 = seq.indices2[indexOnArray2] + commonHead;\n      child = new DiffContext(context.left[index1], context.right[index2]);\n      context.push(child, index2);\n    }\n  }\n\n  context.setResult(result).exit();\n};\ndiffFilter$1.filterName = 'arrays';\n\nvar compare = {\n  numerically: function numerically(a, b) {\n    return a - b;\n  },\n  numericallyBy: function numericallyBy(name) {\n    return function (a, b) {\n      return a[name] - b[name];\n    };\n  }\n};\n\nvar patchFilter$2 = function nestedPatchFilter(context) {\n  if (!context.nested) {\n    return;\n  }\n  if (context.delta._t !== 'a') {\n    return;\n  }\n  var index = void 0;\n  var index1 = void 0;\n\n  var delta = context.delta;\n  var array = context.left;\n\n  // first, separate removals, insertions and modifications\n  var toRemove = [];\n  var toInsert = [];\n  var toModify = [];\n  for (index in delta) {\n    if (index !== '_t') {\n      if (index[0] === '_') {\n        // removed item from original array\n        if (delta[index][2] === 0 || delta[index][2] === ARRAY_MOVE) {\n          toRemove.push(parseInt(index.slice(1), 10));\n        } else {\n          throw new Error('only removal or move can be applied at original array indices,' + (' invalid diff type: ' + delta[index][2]));\n        }\n      } else {\n        if (delta[index].length === 1) {\n          // added item at new array\n          toInsert.push({\n            index: parseInt(index, 10),\n            value: delta[index][0]\n          });\n        } else {\n          // modified item at new array\n          toModify.push({\n            index: parseInt(index, 10),\n            delta: delta[index]\n          });\n        }\n      }\n    }\n  }\n\n  // remove items, in reverse order to avoid sawing our own floor\n  toRemove = toRemove.sort(compare.numerically);\n  for (index = toRemove.length - 1; index >= 0; index--) {\n    index1 = toRemove[index];\n    var indexDiff = delta['_' + index1];\n    var removedValue = array.splice(index1, 1)[0];\n    if (indexDiff[2] === ARRAY_MOVE) {\n      // reinsert later\n      toInsert.push({\n        index: indexDiff[1],\n        value: removedValue\n      });\n    }\n  }\n\n  // insert items, in reverse order to avoid moving our own floor\n  toInsert = toInsert.sort(compare.numericallyBy('index'));\n  var toInsertLength = toInsert.length;\n  for (index = 0; index < toInsertLength; index++) {\n    var insertion = toInsert[index];\n    array.splice(insertion.index, 0, insertion.value);\n  }\n\n  // apply modifications\n  var toModifyLength = toModify.length;\n  var child = void 0;\n  if (toModifyLength > 0) {\n    for (index = 0; index < toModifyLength; index++) {\n      var modification = toModify[index];\n      child = new PatchContext(context.left[modification.index], modification.delta);\n      context.push(child, modification.index);\n    }\n  }\n\n  if (!context.children) {\n    context.setResult(context.left).exit();\n    return;\n  }\n  context.exit();\n};\npatchFilter$2.filterName = 'arrays';\n\nvar collectChildrenPatchFilter$1 = function collectChildrenPatchFilter(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  if (context.delta._t !== 'a') {\n    return;\n  }\n  var length = context.children.length;\n  var child = void 0;\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    context.left[child.childName] = child.result;\n  }\n  context.setResult(context.left).exit();\n};\ncollectChildrenPatchFilter$1.filterName = 'arraysCollectChildren';\n\nvar reverseFilter$2 = function arraysReverseFilter(context) {\n  if (!context.nested) {\n    if (context.delta[2] === ARRAY_MOVE) {\n      context.newName = '_' + context.delta[1];\n      context.setResult([context.delta[0], parseInt(context.childName.substr(1), 10), ARRAY_MOVE]).exit();\n    }\n    return;\n  }\n  if (context.delta._t !== 'a') {\n    return;\n  }\n  var name = void 0;\n  var child = void 0;\n  for (name in context.delta) {\n    if (name === '_t') {\n      continue;\n    }\n    child = new ReverseContext(context.delta[name]);\n    context.push(child, name);\n  }\n  context.exit();\n};\nreverseFilter$2.filterName = 'arrays';\n\nvar reverseArrayDeltaIndex = function reverseArrayDeltaIndex(delta, index, itemDelta) {\n  if (typeof index === 'string' && index[0] === '_') {\n    return parseInt(index.substr(1), 10);\n  } else if (isArray$2(itemDelta) && itemDelta[2] === 0) {\n    return '_' + index;\n  }\n\n  var reverseIndex = +index;\n  for (var deltaIndex in delta) {\n    var deltaItem = delta[deltaIndex];\n    if (isArray$2(deltaItem)) {\n      if (deltaItem[2] === ARRAY_MOVE) {\n        var moveFromIndex = parseInt(deltaIndex.substr(1), 10);\n        var moveToIndex = deltaItem[1];\n        if (moveToIndex === +index) {\n          return moveFromIndex;\n        }\n        if (moveFromIndex <= reverseIndex && moveToIndex > reverseIndex) {\n          reverseIndex++;\n        } else if (moveFromIndex >= reverseIndex && moveToIndex < reverseIndex) {\n          reverseIndex--;\n        }\n      } else if (deltaItem[2] === 0) {\n        var deleteIndex = parseInt(deltaIndex.substr(1), 10);\n        if (deleteIndex <= reverseIndex) {\n          reverseIndex++;\n        }\n      } else if (deltaItem.length === 1 && deltaIndex <= reverseIndex) {\n        reverseIndex--;\n      }\n    }\n  }\n\n  return reverseIndex;\n};\n\nfunction collectChildrenReverseFilter$1(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  if (context.delta._t !== 'a') {\n    return;\n  }\n  var length = context.children.length;\n  var child = void 0;\n  var delta = {\n    _t: 'a'\n  };\n\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    var name = child.newName;\n    if (typeof name === 'undefined') {\n      name = reverseArrayDeltaIndex(context.delta, child.childName, child.result);\n    }\n    if (delta[name] !== child.result) {\n      delta[name] = child.result;\n    }\n  }\n  context.setResult(delta).exit();\n}\ncollectChildrenReverseFilter$1.filterName = 'arraysCollectChildren';\n\nvar diffFilter$2 = function datesDiffFilter(context) {\n  if (context.left instanceof Date) {\n    if (context.right instanceof Date) {\n      if (context.left.getTime() !== context.right.getTime()) {\n        context.setResult([context.left, context.right]);\n      } else {\n        context.setResult(undefined);\n      }\n    } else {\n      context.setResult([context.left, context.right]);\n    }\n    context.exit();\n  } else if (context.right instanceof Date) {\n    context.setResult([context.left, context.right]).exit();\n  }\n};\ndiffFilter$2.filterName = 'dates';\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar diffMatchPatch = createCommonjsModule(function (module) {\nfunction diff_match_patch() {\r\n\r\n  // Defaults.\r\n  // Redefine these in your program to override the defaults.\r\n\r\n  // Number of seconds to map a diff before giving up (0 for infinity).\r\n  this.Diff_Timeout = 1.0;\r\n  // Cost of an empty edit operation in terms of edit characters.\r\n  this.Diff_EditCost = 4;\r\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\r\n  this.Match_Threshold = 0.5;\r\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\r\n  // A match this many characters away from the expected location will add\r\n  // 1.0 to the score (0.0 is a perfect match).\r\n  this.Match_Distance = 1000;\r\n  // When deleting a large block of text (over ~64 characters), how close do\r\n  // the contents have to be to match the expected contents. (0.0 = perfection,\r\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\r\n  // end points of a delete need to match.\r\n  this.Patch_DeleteThreshold = 0.5;\r\n  // Chunk size for context length.\r\n  this.Patch_Margin = 4;\r\n\r\n  // The number of bits in an int.\r\n  this.Match_MaxBits = 32;\r\n}\r\n\r\n\r\n//  DIFF FUNCTIONS\r\n\r\n\r\n/**\r\n * The data structure representing a diff is an array of tuples:\r\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\r\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\r\n */\r\nvar DIFF_DELETE = -1;\r\nvar DIFF_INSERT = 1;\r\nvar DIFF_EQUAL = 0;\r\n\r\n/** @typedef {{0: number, 1: string}} */\r\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\r\n    opt_deadline) {\r\n  // Set a deadline by which time the diff must be complete.\r\n  if (typeof opt_deadline == 'undefined') {\r\n    if (this.Diff_Timeout <= 0) {\r\n      opt_deadline = Number.MAX_VALUE;\r\n    } else {\r\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\r\n    }\r\n  }\r\n  var deadline = opt_deadline;\r\n\r\n  // Check for null inputs.\r\n  if (text1 == null || text2 == null) {\r\n    throw new Error('Null input. (diff_main)');\r\n  }\r\n\r\n  // Check for equality (speedup).\r\n  if (text1 == text2) {\r\n    if (text1) {\r\n      return [[DIFF_EQUAL, text1]];\r\n    }\r\n    return [];\r\n  }\r\n\r\n  if (typeof opt_checklines == 'undefined') {\r\n    opt_checklines = true;\r\n  }\r\n  var checklines = opt_checklines;\r\n\r\n  // Trim off common prefix (speedup).\r\n  var commonlength = this.diff_commonPrefix(text1, text2);\r\n  var commonprefix = text1.substring(0, commonlength);\r\n  text1 = text1.substring(commonlength);\r\n  text2 = text2.substring(commonlength);\r\n\r\n  // Trim off common suffix (speedup).\r\n  commonlength = this.diff_commonSuffix(text1, text2);\r\n  var commonsuffix = text1.substring(text1.length - commonlength);\r\n  text1 = text1.substring(0, text1.length - commonlength);\r\n  text2 = text2.substring(0, text2.length - commonlength);\r\n\r\n  // Compute the diff on the middle block.\r\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\r\n\r\n  // Restore the prefix and suffix.\r\n  if (commonprefix) {\r\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\r\n  }\r\n  if (commonsuffix) {\r\n    diffs.push([DIFF_EQUAL, commonsuffix]);\r\n  }\r\n  this.diff_cleanupMerge(diffs);\r\n  return diffs;\r\n};\r\n\r\n\r\n/**\r\n * Find the differences between two texts.  Assumes that the texts do not\r\n * have any common prefix or suffix.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\r\n *     line-level diff first to identify the changed areas.\r\n *     If true, then run a faster, slightly less optimal diff.\r\n * @param {number} deadline Time when the diff should be complete by.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\r\n    deadline) {\r\n  var diffs;\r\n\r\n  if (!text1) {\r\n    // Just add some text (speedup).\r\n    return [[DIFF_INSERT, text2]];\r\n  }\r\n\r\n  if (!text2) {\r\n    // Just delete some text (speedup).\r\n    return [[DIFF_DELETE, text1]];\r\n  }\r\n\r\n  var longtext = text1.length > text2.length ? text1 : text2;\r\n  var shorttext = text1.length > text2.length ? text2 : text1;\r\n  var i = longtext.indexOf(shorttext);\r\n  if (i != -1) {\r\n    // Shorter text is inside the longer text (speedup).\r\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\r\n             [DIFF_EQUAL, shorttext],\r\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\r\n    // Swap insertions for deletions if diff is reversed.\r\n    if (text1.length > text2.length) {\r\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\r\n    }\r\n    return diffs;\r\n  }\r\n\r\n  if (shorttext.length == 1) {\r\n    // Single character string.\r\n    // After the previous speedup, the character can't be an equality.\r\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n  }\r\n\r\n  // Check to see if the problem can be split in two.\r\n  var hm = this.diff_halfMatch_(text1, text2);\r\n  if (hm) {\r\n    // A half-match was found, sort out the return data.\r\n    var text1_a = hm[0];\r\n    var text1_b = hm[1];\r\n    var text2_a = hm[2];\r\n    var text2_b = hm[3];\r\n    var mid_common = hm[4];\r\n    // Send both pairs off for separate processing.\r\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\r\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\r\n    // Merge the results.\r\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\r\n  }\r\n\r\n  if (checklines && text1.length > 100 && text2.length > 100) {\r\n    return this.diff_lineMode_(text1, text2, deadline);\r\n  }\r\n\r\n  return this.diff_bisect_(text1, text2, deadline);\r\n};\r\n\r\n\r\n/**\r\n * Do a quick line-level diff on both strings, then rediff the parts for\r\n * greater accuracy.\r\n * This speedup can produce non-minimal diffs.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {number} deadline Time when the diff should be complete by.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\r\n  // Scan the text on a line-by-line basis first.\r\n  var a = this.diff_linesToChars_(text1, text2);\r\n  text1 = a.chars1;\r\n  text2 = a.chars2;\r\n  var linearray = a.lineArray;\r\n\r\n  var diffs = this.diff_main(text1, text2, false, deadline);\r\n\r\n  // Convert the diff back to original text.\r\n  this.diff_charsToLines_(diffs, linearray);\r\n  // Eliminate freak matches (e.g. blank lines)\r\n  this.diff_cleanupSemantic(diffs);\r\n\r\n  // Rediff any replacement blocks, this time character-by-character.\r\n  // Add a dummy entry at the end.\r\n  diffs.push([DIFF_EQUAL, '']);\r\n  var pointer = 0;\r\n  var count_delete = 0;\r\n  var count_insert = 0;\r\n  var text_delete = '';\r\n  var text_insert = '';\r\n  while (pointer < diffs.length) {\r\n    switch (diffs[pointer][0]) {\r\n      case DIFF_INSERT:\r\n        count_insert++;\r\n        text_insert += diffs[pointer][1];\r\n        break;\r\n      case DIFF_DELETE:\r\n        count_delete++;\r\n        text_delete += diffs[pointer][1];\r\n        break;\r\n      case DIFF_EQUAL:\r\n        // Upon reaching an equality, check for prior redundancies.\r\n        if (count_delete >= 1 && count_insert >= 1) {\r\n          // Delete the offending records and add the merged ones.\r\n          diffs.splice(pointer - count_delete - count_insert,\r\n                       count_delete + count_insert);\r\n          pointer = pointer - count_delete - count_insert;\r\n          var a = this.diff_main(text_delete, text_insert, false, deadline);\r\n          for (var j = a.length - 1; j >= 0; j--) {\r\n            diffs.splice(pointer, 0, a[j]);\r\n          }\r\n          pointer = pointer + a.length;\r\n        }\r\n        count_insert = 0;\r\n        count_delete = 0;\r\n        text_delete = '';\r\n        text_insert = '';\r\n        break;\r\n    }\r\n    pointer++;\r\n  }\r\n  diffs.pop();  // Remove the dummy entry at the end.\r\n\r\n  return diffs;\r\n};\r\n\r\n\r\n/**\r\n * Find the 'middle snake' of a diff, split the problem in two\r\n * and return the recursively constructed diff.\r\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {number} deadline Time at which to bail if not yet complete.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\r\n  // Cache the text lengths to prevent multiple calls.\r\n  var text1_length = text1.length;\r\n  var text2_length = text2.length;\r\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\r\n  var v_offset = max_d;\r\n  var v_length = 2 * max_d;\r\n  var v1 = new Array(v_length);\r\n  var v2 = new Array(v_length);\r\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\r\n  // integers and undefined.\r\n  for (var x = 0; x < v_length; x++) {\r\n    v1[x] = -1;\r\n    v2[x] = -1;\r\n  }\r\n  v1[v_offset + 1] = 0;\r\n  v2[v_offset + 1] = 0;\r\n  var delta = text1_length - text2_length;\r\n  // If the total number of characters is odd, then the front path will collide\r\n  // with the reverse path.\r\n  var front = (delta % 2 != 0);\r\n  // Offsets for start and end of k loop.\r\n  // Prevents mapping of space beyond the grid.\r\n  var k1start = 0;\r\n  var k1end = 0;\r\n  var k2start = 0;\r\n  var k2end = 0;\r\n  for (var d = 0; d < max_d; d++) {\r\n    // Bail out if deadline is reached.\r\n    if ((new Date()).getTime() > deadline) {\r\n      break;\r\n    }\r\n\r\n    // Walk the front path one step.\r\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\r\n      var k1_offset = v_offset + k1;\r\n      var x1;\r\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\r\n        x1 = v1[k1_offset + 1];\r\n      } else {\r\n        x1 = v1[k1_offset - 1] + 1;\r\n      }\r\n      var y1 = x1 - k1;\r\n      while (x1 < text1_length && y1 < text2_length &&\r\n             text1.charAt(x1) == text2.charAt(y1)) {\r\n        x1++;\r\n        y1++;\r\n      }\r\n      v1[k1_offset] = x1;\r\n      if (x1 > text1_length) {\r\n        // Ran off the right of the graph.\r\n        k1end += 2;\r\n      } else if (y1 > text2_length) {\r\n        // Ran off the bottom of the graph.\r\n        k1start += 2;\r\n      } else if (front) {\r\n        var k2_offset = v_offset + delta - k1;\r\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\r\n          // Mirror x2 onto top-left coordinate system.\r\n          var x2 = text1_length - v2[k2_offset];\r\n          if (x1 >= x2) {\r\n            // Overlap detected.\r\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Walk the reverse path one step.\r\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\r\n      var k2_offset = v_offset + k2;\r\n      var x2;\r\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\r\n        x2 = v2[k2_offset + 1];\r\n      } else {\r\n        x2 = v2[k2_offset - 1] + 1;\r\n      }\r\n      var y2 = x2 - k2;\r\n      while (x2 < text1_length && y2 < text2_length &&\r\n             text1.charAt(text1_length - x2 - 1) ==\r\n             text2.charAt(text2_length - y2 - 1)) {\r\n        x2++;\r\n        y2++;\r\n      }\r\n      v2[k2_offset] = x2;\r\n      if (x2 > text1_length) {\r\n        // Ran off the left of the graph.\r\n        k2end += 2;\r\n      } else if (y2 > text2_length) {\r\n        // Ran off the top of the graph.\r\n        k2start += 2;\r\n      } else if (!front) {\r\n        var k1_offset = v_offset + delta - k2;\r\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\r\n          var x1 = v1[k1_offset];\r\n          var y1 = v_offset + x1 - k1_offset;\r\n          // Mirror x2 onto top-left coordinate system.\r\n          x2 = text1_length - x2;\r\n          if (x1 >= x2) {\r\n            // Overlap detected.\r\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // Diff took too long and hit the deadline or\r\n  // number of diffs equals number of characters, no commonality at all.\r\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n};\r\n\r\n\r\n/**\r\n * Given the location of the 'middle snake', split the diff in two parts\r\n * and recurse.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {number} x Index of split point in text1.\r\n * @param {number} y Index of split point in text2.\r\n * @param {number} deadline Time at which to bail if not yet complete.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\r\n    deadline) {\r\n  var text1a = text1.substring(0, x);\r\n  var text2a = text2.substring(0, y);\r\n  var text1b = text1.substring(x);\r\n  var text2b = text2.substring(y);\r\n\r\n  // Compute both diffs serially.\r\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\r\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\r\n\r\n  return diffs.concat(diffsb);\r\n};\r\n\r\n\r\n/**\r\n * Split two texts into an array of strings.  Reduce the texts to a string of\r\n * hashes where each Unicode character represents one line.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\r\n *     An object containing the encoded text1, the encoded text2 and\r\n *     the array of unique strings.\r\n *     The zeroth element of the array of unique strings is intentionally blank.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\r\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\r\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\r\n\r\n  // '\\x00' is a valid character, but various debuggers don't like it.\r\n  // So we'll insert a junk entry to avoid generating a null character.\r\n  lineArray[0] = '';\r\n\r\n  /**\r\n   * Split a text into an array of strings.  Reduce the texts to a string of\r\n   * hashes where each Unicode character represents one line.\r\n   * Modifies linearray and linehash through being a closure.\r\n   * @param {string} text String to encode.\r\n   * @return {string} Encoded string.\r\n   * @private\r\n   */\r\n  function diff_linesToCharsMunge_(text) {\r\n    var chars = '';\r\n    // Walk the text, pulling out a substring for each line.\r\n    // text.split('\\n') would would temporarily double our memory footprint.\r\n    // Modifying text would create many large strings to garbage collect.\r\n    var lineStart = 0;\r\n    var lineEnd = -1;\r\n    // Keeping our own length variable is faster than looking it up.\r\n    var lineArrayLength = lineArray.length;\r\n    while (lineEnd < text.length - 1) {\r\n      lineEnd = text.indexOf('\\n', lineStart);\r\n      if (lineEnd == -1) {\r\n        lineEnd = text.length - 1;\r\n      }\r\n      var line = text.substring(lineStart, lineEnd + 1);\r\n      lineStart = lineEnd + 1;\r\n\r\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\r\n          (lineHash[line] !== undefined)) {\r\n        chars += String.fromCharCode(lineHash[line]);\r\n      } else {\r\n        chars += String.fromCharCode(lineArrayLength);\r\n        lineHash[line] = lineArrayLength;\r\n        lineArray[lineArrayLength++] = line;\r\n      }\r\n    }\r\n    return chars;\r\n  }\r\n\r\n  var chars1 = diff_linesToCharsMunge_(text1);\r\n  var chars2 = diff_linesToCharsMunge_(text2);\r\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\r\n};\r\n\r\n\r\n/**\r\n * Rehydrate the text in a diff from a string of line hashes to real lines of\r\n * text.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @param {!Array.<string>} lineArray Array of unique strings.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    var chars = diffs[x][1];\r\n    var text = [];\r\n    for (var y = 0; y < chars.length; y++) {\r\n      text[y] = lineArray[chars.charCodeAt(y)];\r\n    }\r\n    diffs[x][1] = text.join('');\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Determine the common prefix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the start of each\r\n *     string.\r\n */\r\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  var pointermin = 0;\r\n  var pointermax = Math.min(text1.length, text2.length);\r\n  var pointermid = pointermax;\r\n  var pointerstart = 0;\r\n  while (pointermin < pointermid) {\r\n    if (text1.substring(pointerstart, pointermid) ==\r\n        text2.substring(pointerstart, pointermid)) {\r\n      pointermin = pointermid;\r\n      pointerstart = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n  return pointermid;\r\n};\r\n\r\n\r\n/**\r\n * Determine the common suffix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the end of each string.\r\n */\r\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 ||\r\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  var pointermin = 0;\r\n  var pointermax = Math.min(text1.length, text2.length);\r\n  var pointermid = pointermax;\r\n  var pointerend = 0;\r\n  while (pointermin < pointermid) {\r\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\r\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\r\n      pointermin = pointermid;\r\n      pointerend = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n  return pointermid;\r\n};\r\n\r\n\r\n/**\r\n * Determine if the suffix of one string is the prefix of another.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the end of the first\r\n *     string and the start of the second string.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\r\n  // Cache the text lengths to prevent multiple calls.\r\n  var text1_length = text1.length;\r\n  var text2_length = text2.length;\r\n  // Eliminate the null case.\r\n  if (text1_length == 0 || text2_length == 0) {\r\n    return 0;\r\n  }\r\n  // Truncate the longer string.\r\n  if (text1_length > text2_length) {\r\n    text1 = text1.substring(text1_length - text2_length);\r\n  } else if (text1_length < text2_length) {\r\n    text2 = text2.substring(0, text1_length);\r\n  }\r\n  var text_length = Math.min(text1_length, text2_length);\r\n  // Quick check for the worst case.\r\n  if (text1 == text2) {\r\n    return text_length;\r\n  }\r\n\r\n  // Start by looking for a single character match\r\n  // and increase length until no match is found.\r\n  // Performance analysis: http://neil.fraser.name/news/2010/11/04/\r\n  var best = 0;\r\n  var length = 1;\r\n  while (true) {\r\n    var pattern = text1.substring(text_length - length);\r\n    var found = text2.indexOf(pattern);\r\n    if (found == -1) {\r\n      return best;\r\n    }\r\n    length += found;\r\n    if (found == 0 || text1.substring(text_length - length) ==\r\n        text2.substring(0, length)) {\r\n      best = length;\r\n      length++;\r\n    }\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Do the two texts share a substring which is at least half the length of the\r\n * longer text?\r\n * This speedup can produce non-minimal diffs.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {Array.<string>} Five element Array, containing the prefix of\r\n *     text1, the suffix of text1, the prefix of text2, the suffix of\r\n *     text2 and the common middle.  Or null if there was no match.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\r\n  if (this.Diff_Timeout <= 0) {\r\n    // Don't risk returning a non-optimal diff if we have unlimited time.\r\n    return null;\r\n  }\r\n  var longtext = text1.length > text2.length ? text1 : text2;\r\n  var shorttext = text1.length > text2.length ? text2 : text1;\r\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\r\n    return null;  // Pointless.\r\n  }\r\n  var dmp = this;  // 'this' becomes 'window' in a closure.\r\n\r\n  /**\r\n   * Does a substring of shorttext exist within longtext such that the substring\r\n   * is at least half the length of longtext?\r\n   * Closure, but does not reference any external variables.\r\n   * @param {string} longtext Longer string.\r\n   * @param {string} shorttext Shorter string.\r\n   * @param {number} i Start index of quarter length substring within longtext.\r\n   * @return {Array.<string>} Five element Array, containing the prefix of\r\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\r\n   *     of shorttext and the common middle.  Or null if there was no match.\r\n   * @private\r\n   */\r\n  function diff_halfMatchI_(longtext, shorttext, i) {\r\n    // Start with a 1/4 length substring at position i as a seed.\r\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\r\n    var j = -1;\r\n    var best_common = '';\r\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\r\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\r\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\r\n                                               shorttext.substring(j));\r\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\r\n                                               shorttext.substring(0, j));\r\n      if (best_common.length < suffixLength + prefixLength) {\r\n        best_common = shorttext.substring(j - suffixLength, j) +\r\n            shorttext.substring(j, j + prefixLength);\r\n        best_longtext_a = longtext.substring(0, i - suffixLength);\r\n        best_longtext_b = longtext.substring(i + prefixLength);\r\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\r\n        best_shorttext_b = shorttext.substring(j + prefixLength);\r\n      }\r\n    }\r\n    if (best_common.length * 2 >= longtext.length) {\r\n      return [best_longtext_a, best_longtext_b,\r\n              best_shorttext_a, best_shorttext_b, best_common];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // First check if the second quarter is the seed for a half-match.\r\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\r\n                             Math.ceil(longtext.length / 4));\r\n  // Check again based on the third quarter.\r\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\r\n                             Math.ceil(longtext.length / 2));\r\n  var hm;\r\n  if (!hm1 && !hm2) {\r\n    return null;\r\n  } else if (!hm2) {\r\n    hm = hm1;\r\n  } else if (!hm1) {\r\n    hm = hm2;\r\n  } else {\r\n    // Both matched.  Select the longest.\r\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\r\n  }\r\n\r\n  // A half-match was found, sort out the return data.\r\n  var text1_a, text1_b, text2_a, text2_b;\r\n  if (text1.length > text2.length) {\r\n    text1_a = hm[0];\r\n    text1_b = hm[1];\r\n    text2_a = hm[2];\r\n    text2_b = hm[3];\r\n  } else {\r\n    text2_a = hm[0];\r\n    text2_b = hm[1];\r\n    text1_a = hm[2];\r\n    text1_b = hm[3];\r\n  }\r\n  var mid_common = hm[4];\r\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\r\n};\r\n\r\n\r\n/**\r\n * Reduce the number of edits by eliminating semantically trivial equalities.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n */\r\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\r\n  var changes = false;\r\n  var equalities = [];  // Stack of indices where equalities are found.\r\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\r\n  /** @type {?string} */\r\n  var lastequality = null;\r\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\r\n  var pointer = 0;  // Index of current position.\r\n  // Number of characters that changed prior to the equality.\r\n  var length_insertions1 = 0;\r\n  var length_deletions1 = 0;\r\n  // Number of characters that changed after the equality.\r\n  var length_insertions2 = 0;\r\n  var length_deletions2 = 0;\r\n  while (pointer < diffs.length) {\r\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\r\n      equalities[equalitiesLength++] = pointer;\r\n      length_insertions1 = length_insertions2;\r\n      length_deletions1 = length_deletions2;\r\n      length_insertions2 = 0;\r\n      length_deletions2 = 0;\r\n      lastequality = diffs[pointer][1];\r\n    } else {  // An insertion or deletion.\r\n      if (diffs[pointer][0] == DIFF_INSERT) {\r\n        length_insertions2 += diffs[pointer][1].length;\r\n      } else {\r\n        length_deletions2 += diffs[pointer][1].length;\r\n      }\r\n      // Eliminate an equality that is smaller or equal to the edits on both\r\n      // sides of it.\r\n      if (lastequality && (lastequality.length <=\r\n          Math.max(length_insertions1, length_deletions1)) &&\r\n          (lastequality.length <= Math.max(length_insertions2,\r\n                                           length_deletions2))) {\r\n        // Duplicate record.\r\n        diffs.splice(equalities[equalitiesLength - 1], 0,\r\n                     [DIFF_DELETE, lastequality]);\r\n        // Change second copy to insert.\r\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\r\n        // Throw away the equality we just deleted.\r\n        equalitiesLength--;\r\n        // Throw away the previous equality (it needs to be reevaluated).\r\n        equalitiesLength--;\r\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\r\n        length_insertions1 = 0;  // Reset the counters.\r\n        length_deletions1 = 0;\r\n        length_insertions2 = 0;\r\n        length_deletions2 = 0;\r\n        lastequality = null;\r\n        changes = true;\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n\r\n  // Normalize the diff.\r\n  if (changes) {\r\n    this.diff_cleanupMerge(diffs);\r\n  }\r\n  this.diff_cleanupSemanticLossless(diffs);\r\n\r\n  // Find any overlaps between deletions and insertions.\r\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\r\n  //   -> <del>abc</del>xxx<ins>def</ins>\r\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\r\n  //   -> <ins>def</ins>xxx<del>abc</del>\r\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\r\n  pointer = 1;\r\n  while (pointer < diffs.length) {\r\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\r\n        diffs[pointer][0] == DIFF_INSERT) {\r\n      var deletion = diffs[pointer - 1][1];\r\n      var insertion = diffs[pointer][1];\r\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\r\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\r\n      if (overlap_length1 >= overlap_length2) {\r\n        if (overlap_length1 >= deletion.length / 2 ||\r\n            overlap_length1 >= insertion.length / 2) {\r\n          // Overlap found.  Insert an equality and trim the surrounding edits.\r\n          diffs.splice(pointer, 0,\r\n              [DIFF_EQUAL, insertion.substring(0, overlap_length1)]);\r\n          diffs[pointer - 1][1] =\r\n              deletion.substring(0, deletion.length - overlap_length1);\r\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\r\n          pointer++;\r\n        }\r\n      } else {\r\n        if (overlap_length2 >= deletion.length / 2 ||\r\n            overlap_length2 >= insertion.length / 2) {\r\n          // Reverse overlap found.\r\n          // Insert an equality and swap and trim the surrounding edits.\r\n          diffs.splice(pointer, 0,\r\n              [DIFF_EQUAL, deletion.substring(0, overlap_length2)]);\r\n          diffs[pointer - 1][0] = DIFF_INSERT;\r\n          diffs[pointer - 1][1] =\r\n              insertion.substring(0, insertion.length - overlap_length2);\r\n          diffs[pointer + 1][0] = DIFF_DELETE;\r\n          diffs[pointer + 1][1] =\r\n              deletion.substring(overlap_length2);\r\n          pointer++;\r\n        }\r\n      }\r\n      pointer++;\r\n    }\r\n    pointer++;\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Look for single edits surrounded on both sides by equalities\r\n * which can be shifted sideways to align the edit to a word boundary.\r\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n */\r\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\r\n  /**\r\n   * Given two strings, compute a score representing whether the internal\r\n   * boundary falls on logical boundaries.\r\n   * Scores range from 6 (best) to 0 (worst).\r\n   * Closure, but does not reference any external variables.\r\n   * @param {string} one First string.\r\n   * @param {string} two Second string.\r\n   * @return {number} The score.\r\n   * @private\r\n   */\r\n  function diff_cleanupSemanticScore_(one, two) {\r\n    if (!one || !two) {\r\n      // Edges are the best.\r\n      return 6;\r\n    }\r\n\r\n    // Each port of this function behaves slightly differently due to\r\n    // subtle differences in each language's definition of things like\r\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\r\n    // the choice has been made to use each language's native features\r\n    // rather than force total conformity.\r\n    var char1 = one.charAt(one.length - 1);\r\n    var char2 = two.charAt(0);\r\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\r\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\r\n    var whitespace1 = nonAlphaNumeric1 &&\r\n        char1.match(diff_match_patch.whitespaceRegex_);\r\n    var whitespace2 = nonAlphaNumeric2 &&\r\n        char2.match(diff_match_patch.whitespaceRegex_);\r\n    var lineBreak1 = whitespace1 &&\r\n        char1.match(diff_match_patch.linebreakRegex_);\r\n    var lineBreak2 = whitespace2 &&\r\n        char2.match(diff_match_patch.linebreakRegex_);\r\n    var blankLine1 = lineBreak1 &&\r\n        one.match(diff_match_patch.blanklineEndRegex_);\r\n    var blankLine2 = lineBreak2 &&\r\n        two.match(diff_match_patch.blanklineStartRegex_);\r\n\r\n    if (blankLine1 || blankLine2) {\r\n      // Five points for blank lines.\r\n      return 5;\r\n    } else if (lineBreak1 || lineBreak2) {\r\n      // Four points for line breaks.\r\n      return 4;\r\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\r\n      // Three points for end of sentences.\r\n      return 3;\r\n    } else if (whitespace1 || whitespace2) {\r\n      // Two points for whitespace.\r\n      return 2;\r\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\r\n      // One point for non-alphanumeric.\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  var pointer = 1;\r\n  // Intentionally ignore the first and last element (don't need checking).\r\n  while (pointer < diffs.length - 1) {\r\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\r\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\r\n      // This is a single edit surrounded by equalities.\r\n      var equality1 = diffs[pointer - 1][1];\r\n      var edit = diffs[pointer][1];\r\n      var equality2 = diffs[pointer + 1][1];\r\n\r\n      // First, shift the edit as far left as possible.\r\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\r\n      if (commonOffset) {\r\n        var commonString = edit.substring(edit.length - commonOffset);\r\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\r\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\r\n        equality2 = commonString + equality2;\r\n      }\r\n\r\n      // Second, step character by character right, looking for the best fit.\r\n      var bestEquality1 = equality1;\r\n      var bestEdit = edit;\r\n      var bestEquality2 = equality2;\r\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\r\n          diff_cleanupSemanticScore_(edit, equality2);\r\n      while (edit.charAt(0) === equality2.charAt(0)) {\r\n        equality1 += edit.charAt(0);\r\n        edit = edit.substring(1) + equality2.charAt(0);\r\n        equality2 = equality2.substring(1);\r\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\r\n            diff_cleanupSemanticScore_(edit, equality2);\r\n        // The >= encourages trailing rather than leading whitespace on edits.\r\n        if (score >= bestScore) {\r\n          bestScore = score;\r\n          bestEquality1 = equality1;\r\n          bestEdit = edit;\r\n          bestEquality2 = equality2;\r\n        }\r\n      }\r\n\r\n      if (diffs[pointer - 1][1] != bestEquality1) {\r\n        // We have an improvement, save it back to the diff.\r\n        if (bestEquality1) {\r\n          diffs[pointer - 1][1] = bestEquality1;\r\n        } else {\r\n          diffs.splice(pointer - 1, 1);\r\n          pointer--;\r\n        }\r\n        diffs[pointer][1] = bestEdit;\r\n        if (bestEquality2) {\r\n          diffs[pointer + 1][1] = bestEquality2;\r\n        } else {\r\n          diffs.splice(pointer + 1, 1);\r\n          pointer--;\r\n        }\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n};\r\n\r\n// Define some regex patterns for matching boundaries.\r\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\r\ndiff_match_patch.whitespaceRegex_ = /\\s/;\r\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\r\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\r\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\r\n\r\n/**\r\n * Reduce the number of edits by eliminating operationally trivial equalities.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n */\r\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\r\n  var changes = false;\r\n  var equalities = [];  // Stack of indices where equalities are found.\r\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\r\n  /** @type {?string} */\r\n  var lastequality = null;\r\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\r\n  var pointer = 0;  // Index of current position.\r\n  // Is there an insertion operation before the last equality.\r\n  var pre_ins = false;\r\n  // Is there a deletion operation before the last equality.\r\n  var pre_del = false;\r\n  // Is there an insertion operation after the last equality.\r\n  var post_ins = false;\r\n  // Is there a deletion operation after the last equality.\r\n  var post_del = false;\r\n  while (pointer < diffs.length) {\r\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\r\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\r\n          (post_ins || post_del)) {\r\n        // Candidate found.\r\n        equalities[equalitiesLength++] = pointer;\r\n        pre_ins = post_ins;\r\n        pre_del = post_del;\r\n        lastequality = diffs[pointer][1];\r\n      } else {\r\n        // Not a candidate, and can never become one.\r\n        equalitiesLength = 0;\r\n        lastequality = null;\r\n      }\r\n      post_ins = post_del = false;\r\n    } else {  // An insertion or deletion.\r\n      if (diffs[pointer][0] == DIFF_DELETE) {\r\n        post_del = true;\r\n      } else {\r\n        post_ins = true;\r\n      }\r\n      /*\r\n       * Five types to be split:\r\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\r\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\r\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\r\n       * <ins>A</del>X<ins>C</ins><del>D</del>\r\n       * <ins>A</ins><del>B</del>X<del>C</del>\r\n       */\r\n      if (lastequality && ((pre_ins && pre_del && post_ins && post_del) ||\r\n                           ((lastequality.length < this.Diff_EditCost / 2) &&\r\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\r\n        // Duplicate record.\r\n        diffs.splice(equalities[equalitiesLength - 1], 0,\r\n                     [DIFF_DELETE, lastequality]);\r\n        // Change second copy to insert.\r\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\r\n        equalitiesLength--;  // Throw away the equality we just deleted;\r\n        lastequality = null;\r\n        if (pre_ins && pre_del) {\r\n          // No changes made which could affect previous entry, keep going.\r\n          post_ins = post_del = true;\r\n          equalitiesLength = 0;\r\n        } else {\r\n          equalitiesLength--;  // Throw away the previous equality.\r\n          pointer = equalitiesLength > 0 ?\r\n              equalities[equalitiesLength - 1] : -1;\r\n          post_ins = post_del = false;\r\n        }\r\n        changes = true;\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n\r\n  if (changes) {\r\n    this.diff_cleanupMerge(diffs);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Reorder and merge like edit sections.  Merge equalities.\r\n * Any edit section can move as long as it doesn't cross an equality.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n */\r\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\r\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\r\n  var pointer = 0;\r\n  var count_delete = 0;\r\n  var count_insert = 0;\r\n  var text_delete = '';\r\n  var text_insert = '';\r\n  var commonlength;\r\n  while (pointer < diffs.length) {\r\n    switch (diffs[pointer][0]) {\r\n      case DIFF_INSERT:\r\n        count_insert++;\r\n        text_insert += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_DELETE:\r\n        count_delete++;\r\n        text_delete += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_EQUAL:\r\n        // Upon reaching an equality, check for prior redundancies.\r\n        if (count_delete + count_insert > 1) {\r\n          if (count_delete !== 0 && count_insert !== 0) {\r\n            // Factor out any common prefixies.\r\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              if ((pointer - count_delete - count_insert) > 0 &&\r\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\r\n                  DIFF_EQUAL) {\r\n                diffs[pointer - count_delete - count_insert - 1][1] +=\r\n                    text_insert.substring(0, commonlength);\r\n              } else {\r\n                diffs.splice(0, 0, [DIFF_EQUAL,\r\n                                    text_insert.substring(0, commonlength)]);\r\n                pointer++;\r\n              }\r\n              text_insert = text_insert.substring(commonlength);\r\n              text_delete = text_delete.substring(commonlength);\r\n            }\r\n            // Factor out any common suffixies.\r\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\r\n                  commonlength) + diffs[pointer][1];\r\n              text_insert = text_insert.substring(0, text_insert.length -\r\n                  commonlength);\r\n              text_delete = text_delete.substring(0, text_delete.length -\r\n                  commonlength);\r\n            }\r\n          }\r\n          // Delete the offending records and add the merged ones.\r\n          if (count_delete === 0) {\r\n            diffs.splice(pointer - count_insert,\r\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\r\n          } else if (count_insert === 0) {\r\n            diffs.splice(pointer - count_delete,\r\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\r\n          } else {\r\n            diffs.splice(pointer - count_delete - count_insert,\r\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\r\n                [DIFF_INSERT, text_insert]);\r\n          }\r\n          pointer = pointer - count_delete - count_insert +\r\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\r\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\r\n          // Merge this equality with the previous one.\r\n          diffs[pointer - 1][1] += diffs[pointer][1];\r\n          diffs.splice(pointer, 1);\r\n        } else {\r\n          pointer++;\r\n        }\r\n        count_insert = 0;\r\n        count_delete = 0;\r\n        text_delete = '';\r\n        text_insert = '';\r\n        break;\r\n    }\r\n  }\r\n  if (diffs[diffs.length - 1][1] === '') {\r\n    diffs.pop();  // Remove the dummy entry at the end.\r\n  }\r\n\r\n  // Second pass: look for single edits surrounded on both sides by equalities\r\n  // which can be shifted sideways to eliminate an equality.\r\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\r\n  var changes = false;\r\n  pointer = 1;\r\n  // Intentionally ignore the first and last element (don't need checking).\r\n  while (pointer < diffs.length - 1) {\r\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\r\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\r\n      // This is a single edit surrounded by equalities.\r\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\r\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\r\n        // Shift the edit over the previous equality.\r\n        diffs[pointer][1] = diffs[pointer - 1][1] +\r\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\r\n                                        diffs[pointer - 1][1].length);\r\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\r\n        diffs.splice(pointer - 1, 1);\r\n        changes = true;\r\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\r\n          diffs[pointer + 1][1]) {\r\n        // Shift the edit over the next equality.\r\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\r\n        diffs[pointer][1] =\r\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\r\n            diffs[pointer + 1][1];\r\n        diffs.splice(pointer + 1, 1);\r\n        changes = true;\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n  // If shifts were made, the diff needs reordering and another shift sweep.\r\n  if (changes) {\r\n    this.diff_cleanupMerge(diffs);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * loc is a location in text1, compute and return the equivalent location in\r\n * text2.\r\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @param {number} loc Location within text1.\r\n * @return {number} Location within text2.\r\n */\r\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\r\n  var chars1 = 0;\r\n  var chars2 = 0;\r\n  var last_chars1 = 0;\r\n  var last_chars2 = 0;\r\n  var x;\r\n  for (x = 0; x < diffs.length; x++) {\r\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\r\n      chars1 += diffs[x][1].length;\r\n    }\r\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\r\n      chars2 += diffs[x][1].length;\r\n    }\r\n    if (chars1 > loc) {  // Overshot the location.\r\n      break;\r\n    }\r\n    last_chars1 = chars1;\r\n    last_chars2 = chars2;\r\n  }\r\n  // Was the location was deleted?\r\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\r\n    return last_chars2;\r\n  }\r\n  // Add the remaining character length.\r\n  return last_chars2 + (loc - last_chars1);\r\n};\r\n\r\n\r\n/**\r\n * Convert a diff array into a pretty HTML report.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {string} HTML representation.\r\n */\r\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\r\n  var html = [];\r\n  var pattern_amp = /&/g;\r\n  var pattern_lt = /</g;\r\n  var pattern_gt = />/g;\r\n  var pattern_para = /\\n/g;\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\r\n    var data = diffs[x][1];  // Text of change.\r\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\r\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\r\n    switch (op) {\r\n      case DIFF_INSERT:\r\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\r\n        break;\r\n      case DIFF_DELETE:\r\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\r\n        break;\r\n      case DIFF_EQUAL:\r\n        html[x] = '<span>' + text + '</span>';\r\n        break;\r\n    }\r\n  }\r\n  return html.join('');\r\n};\r\n\r\n\r\n/**\r\n * Compute and return the source text (all equalities and deletions).\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {string} Source text.\r\n */\r\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\r\n  var text = [];\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    if (diffs[x][0] !== DIFF_INSERT) {\r\n      text[x] = diffs[x][1];\r\n    }\r\n  }\r\n  return text.join('');\r\n};\r\n\r\n\r\n/**\r\n * Compute and return the destination text (all equalities and insertions).\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {string} Destination text.\r\n */\r\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\r\n  var text = [];\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    if (diffs[x][0] !== DIFF_DELETE) {\r\n      text[x] = diffs[x][1];\r\n    }\r\n  }\r\n  return text.join('');\r\n};\r\n\r\n\r\n/**\r\n * Compute the Levenshtein distance; the number of inserted, deleted or\r\n * substituted characters.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {number} Number of changes.\r\n */\r\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\r\n  var levenshtein = 0;\r\n  var insertions = 0;\r\n  var deletions = 0;\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    var op = diffs[x][0];\r\n    var data = diffs[x][1];\r\n    switch (op) {\r\n      case DIFF_INSERT:\r\n        insertions += data.length;\r\n        break;\r\n      case DIFF_DELETE:\r\n        deletions += data.length;\r\n        break;\r\n      case DIFF_EQUAL:\r\n        // A deletion and an insertion is one substitution.\r\n        levenshtein += Math.max(insertions, deletions);\r\n        insertions = 0;\r\n        deletions = 0;\r\n        break;\r\n    }\r\n  }\r\n  levenshtein += Math.max(insertions, deletions);\r\n  return levenshtein;\r\n};\r\n\r\n\r\n/**\r\n * Crush the diff into an encoded string which describes the operations\r\n * required to transform text1 into text2.\r\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\r\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {string} Delta text.\r\n */\r\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\r\n  var text = [];\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    switch (diffs[x][0]) {\r\n      case DIFF_INSERT:\r\n        text[x] = '+' + encodeURI(diffs[x][1]);\r\n        break;\r\n      case DIFF_DELETE:\r\n        text[x] = '-' + diffs[x][1].length;\r\n        break;\r\n      case DIFF_EQUAL:\r\n        text[x] = '=' + diffs[x][1].length;\r\n        break;\r\n    }\r\n  }\r\n  return text.join('\\t').replace(/%20/g, ' ');\r\n};\r\n\r\n\r\n/**\r\n * Given the original text1, and an encoded string which describes the\r\n * operations required to transform text1 into text2, compute the full diff.\r\n * @param {string} text1 Source string for the diff.\r\n * @param {string} delta Delta text.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @throws {!Error} If invalid input.\r\n */\r\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\r\n  var diffs = [];\r\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\r\n  var pointer = 0;  // Cursor in text1\r\n  var tokens = delta.split(/\\t/g);\r\n  for (var x = 0; x < tokens.length; x++) {\r\n    // Each token begins with a one character parameter which specifies the\r\n    // operation of this token (delete, insert, equality).\r\n    var param = tokens[x].substring(1);\r\n    switch (tokens[x].charAt(0)) {\r\n      case '+':\r\n        try {\r\n          diffs[diffsLength++] = [DIFF_INSERT, decodeURI(param)];\r\n        } catch (ex) {\r\n          // Malformed URI sequence.\r\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\r\n        }\r\n        break;\r\n      case '-':\r\n        // Fall through.\r\n      case '=':\r\n        var n = parseInt(param, 10);\r\n        if (isNaN(n) || n < 0) {\r\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\r\n        }\r\n        var text = text1.substring(pointer, pointer += n);\r\n        if (tokens[x].charAt(0) == '=') {\r\n          diffs[diffsLength++] = [DIFF_EQUAL, text];\r\n        } else {\r\n          diffs[diffsLength++] = [DIFF_DELETE, text];\r\n        }\r\n        break;\r\n      default:\r\n        // Blank tokens are ok (from a trailing \\t).\r\n        // Anything else is an error.\r\n        if (tokens[x]) {\r\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\r\n                          tokens[x]);\r\n        }\r\n    }\r\n  }\r\n  if (pointer != text1.length) {\r\n    throw new Error('Delta length (' + pointer +\r\n        ') does not equal source text length (' + text1.length + ').');\r\n  }\r\n  return diffs;\r\n};\r\n\r\n\r\n//  MATCH FUNCTIONS\r\n\r\n\r\n/**\r\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\r\n * @param {string} text The text to search.\r\n * @param {string} pattern The pattern to search for.\r\n * @param {number} loc The location to search around.\r\n * @return {number} Best match index or -1.\r\n */\r\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\r\n  // Check for null inputs.\r\n  if (text == null || pattern == null || loc == null) {\r\n    throw new Error('Null input. (match_main)');\r\n  }\r\n\r\n  loc = Math.max(0, Math.min(loc, text.length));\r\n  if (text == pattern) {\r\n    // Shortcut (potentially not guaranteed by the algorithm)\r\n    return 0;\r\n  } else if (!text.length) {\r\n    // Nothing to match.\r\n    return -1;\r\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\r\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\r\n    return loc;\r\n  } else {\r\n    // Do a fuzzy compare.\r\n    return this.match_bitap_(text, pattern, loc);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\r\n * Bitap algorithm.\r\n * @param {string} text The text to search.\r\n * @param {string} pattern The pattern to search for.\r\n * @param {number} loc The location to search around.\r\n * @return {number} Best match index or -1.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\r\n  if (pattern.length > this.Match_MaxBits) {\r\n    throw new Error('Pattern too long for this browser.');\r\n  }\r\n\r\n  // Initialise the alphabet.\r\n  var s = this.match_alphabet_(pattern);\r\n\r\n  var dmp = this;  // 'this' becomes 'window' in a closure.\r\n\r\n  /**\r\n   * Compute and return the score for a match with e errors and x location.\r\n   * Accesses loc and pattern through being a closure.\r\n   * @param {number} e Number of errors in match.\r\n   * @param {number} x Location of match.\r\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\r\n   * @private\r\n   */\r\n  function match_bitapScore_(e, x) {\r\n    var accuracy = e / pattern.length;\r\n    var proximity = Math.abs(loc - x);\r\n    if (!dmp.Match_Distance) {\r\n      // Dodge divide by zero error.\r\n      return proximity ? 1.0 : accuracy;\r\n    }\r\n    return accuracy + (proximity / dmp.Match_Distance);\r\n  }\r\n\r\n  // Highest score beyond which we give up.\r\n  var score_threshold = this.Match_Threshold;\r\n  // Is there a nearby exact match? (speedup)\r\n  var best_loc = text.indexOf(pattern, loc);\r\n  if (best_loc != -1) {\r\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\r\n    // What about in the other direction? (speedup)\r\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\r\n    if (best_loc != -1) {\r\n      score_threshold =\r\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\r\n    }\r\n  }\r\n\r\n  // Initialise the bit arrays.\r\n  var matchmask = 1 << (pattern.length - 1);\r\n  best_loc = -1;\r\n\r\n  var bin_min, bin_mid;\r\n  var bin_max = pattern.length + text.length;\r\n  var last_rd;\r\n  for (var d = 0; d < pattern.length; d++) {\r\n    // Scan for the best match; each iteration allows for one more error.\r\n    // Run a binary search to determine how far from 'loc' we can stray at this\r\n    // error level.\r\n    bin_min = 0;\r\n    bin_mid = bin_max;\r\n    while (bin_min < bin_mid) {\r\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\r\n        bin_min = bin_mid;\r\n      } else {\r\n        bin_max = bin_mid;\r\n      }\r\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\r\n    }\r\n    // Use the result from this iteration as the maximum for the next.\r\n    bin_max = bin_mid;\r\n    var start = Math.max(1, loc - bin_mid + 1);\r\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\r\n\r\n    var rd = Array(finish + 2);\r\n    rd[finish + 1] = (1 << d) - 1;\r\n    for (var j = finish; j >= start; j--) {\r\n      // The alphabet (s) is a sparse hash, so the following line generates\r\n      // warnings.\r\n      var charMatch = s[text.charAt(j - 1)];\r\n      if (d === 0) {  // First pass: exact match.\r\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\r\n      } else {  // Subsequent passes: fuzzy match.\r\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\r\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\r\n                last_rd[j + 1];\r\n      }\r\n      if (rd[j] & matchmask) {\r\n        var score = match_bitapScore_(d, j - 1);\r\n        // This match will almost certainly be better than any existing match.\r\n        // But check anyway.\r\n        if (score <= score_threshold) {\r\n          // Told you so.\r\n          score_threshold = score;\r\n          best_loc = j - 1;\r\n          if (best_loc > loc) {\r\n            // When passing loc, don't exceed our current distance from loc.\r\n            start = Math.max(1, 2 * loc - best_loc);\r\n          } else {\r\n            // Already passed loc, downhill from here on in.\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // No hope for a (better) match at greater error levels.\r\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\r\n      break;\r\n    }\r\n    last_rd = rd;\r\n  }\r\n  return best_loc;\r\n};\r\n\r\n\r\n/**\r\n * Initialise the alphabet for the Bitap algorithm.\r\n * @param {string} pattern The text to encode.\r\n * @return {!Object} Hash of character locations.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\r\n  var s = {};\r\n  for (var i = 0; i < pattern.length; i++) {\r\n    s[pattern.charAt(i)] = 0;\r\n  }\r\n  for (var i = 0; i < pattern.length; i++) {\r\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\r\n  }\r\n  return s;\r\n};\r\n\r\n\r\n//  PATCH FUNCTIONS\r\n\r\n\r\n/**\r\n * Increase the context until it is unique,\r\n * but don't let the pattern expand beyond Match_MaxBits.\r\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\r\n * @param {string} text Source text.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\r\n  if (text.length == 0) {\r\n    return;\r\n  }\r\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\r\n  var padding = 0;\r\n\r\n  // Look for the first and last matches of pattern in text.  If two different\r\n  // matches are found, increase the pattern length.\r\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\r\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\r\n         this.Patch_Margin) {\r\n    padding += this.Patch_Margin;\r\n    pattern = text.substring(patch.start2 - padding,\r\n                             patch.start2 + patch.length1 + padding);\r\n  }\r\n  // Add one chunk for good luck.\r\n  padding += this.Patch_Margin;\r\n\r\n  // Add the prefix.\r\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\r\n  if (prefix) {\r\n    patch.diffs.unshift([DIFF_EQUAL, prefix]);\r\n  }\r\n  // Add the suffix.\r\n  var suffix = text.substring(patch.start2 + patch.length1,\r\n                              patch.start2 + patch.length1 + padding);\r\n  if (suffix) {\r\n    patch.diffs.push([DIFF_EQUAL, suffix]);\r\n  }\r\n\r\n  // Roll back the start points.\r\n  patch.start1 -= prefix.length;\r\n  patch.start2 -= prefix.length;\r\n  // Extend the lengths.\r\n  patch.length1 += prefix.length + suffix.length;\r\n  patch.length2 += prefix.length + suffix.length;\r\n};\r\n\r\n\r\n/**\r\n * Compute a list of patches to turn text1 into text2.\r\n * Use diffs if provided, otherwise compute it ourselves.\r\n * There are four ways to call this function, depending on what data is\r\n * available to the caller:\r\n * Method 1:\r\n * a = text1, b = text2\r\n * Method 2:\r\n * a = diffs\r\n * Method 3 (optimal):\r\n * a = text1, b = diffs\r\n * Method 4 (deprecated, use method 3):\r\n * a = text1, b = text2, c = diffs\r\n *\r\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\r\n * Array of diff tuples for text1 to text2 (method 2).\r\n * @param {string|!Array.<!diff_match_patch.Diff>} opt_b text2 (methods 1,4) or\r\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\r\n * @param {string|!Array.<!diff_match_patch.Diff>} opt_c Array of diff tuples\r\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\r\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\r\n */\r\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\r\n  var text1, diffs;\r\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\r\n      typeof opt_c == 'undefined') {\r\n    // Method 1: text1, text2\r\n    // Compute diffs from text1 and text2.\r\n    text1 = /** @type {string} */(a);\r\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\r\n    if (diffs.length > 2) {\r\n      this.diff_cleanupSemantic(diffs);\r\n      this.diff_cleanupEfficiency(diffs);\r\n    }\r\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\r\n      typeof opt_c == 'undefined') {\r\n    // Method 2: diffs\r\n    // Compute text1 from diffs.\r\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\r\n    text1 = this.diff_text1(diffs);\r\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\r\n      typeof opt_c == 'undefined') {\r\n    // Method 3: text1, diffs\r\n    text1 = /** @type {string} */(a);\r\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\r\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\r\n      opt_c && typeof opt_c == 'object') {\r\n    // Method 4: text1, text2, diffs\r\n    // text2 is not used.\r\n    text1 = /** @type {string} */(a);\r\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\r\n  } else {\r\n    throw new Error('Unknown call format to patch_make.');\r\n  }\r\n\r\n  if (diffs.length === 0) {\r\n    return [];  // Get rid of the null case.\r\n  }\r\n  var patches = [];\r\n  var patch = new diff_match_patch.patch_obj();\r\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\r\n  var char_count1 = 0;  // Number of characters into the text1 string.\r\n  var char_count2 = 0;  // Number of characters into the text2 string.\r\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\r\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\r\n  // context info.\r\n  var prepatch_text = text1;\r\n  var postpatch_text = text1;\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    var diff_type = diffs[x][0];\r\n    var diff_text = diffs[x][1];\r\n\r\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\r\n      // A new patch starts here.\r\n      patch.start1 = char_count1;\r\n      patch.start2 = char_count2;\r\n    }\r\n\r\n    switch (diff_type) {\r\n      case DIFF_INSERT:\r\n        patch.diffs[patchDiffLength++] = diffs[x];\r\n        patch.length2 += diff_text.length;\r\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\r\n                         postpatch_text.substring(char_count2);\r\n        break;\r\n      case DIFF_DELETE:\r\n        patch.length1 += diff_text.length;\r\n        patch.diffs[patchDiffLength++] = diffs[x];\r\n        postpatch_text = postpatch_text.substring(0, char_count2) +\r\n                         postpatch_text.substring(char_count2 +\r\n                             diff_text.length);\r\n        break;\r\n      case DIFF_EQUAL:\r\n        if (diff_text.length <= 2 * this.Patch_Margin &&\r\n            patchDiffLength && diffs.length != x + 1) {\r\n          // Small equality inside a patch.\r\n          patch.diffs[patchDiffLength++] = diffs[x];\r\n          patch.length1 += diff_text.length;\r\n          patch.length2 += diff_text.length;\r\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\r\n          // Time for a new patch.\r\n          if (patchDiffLength) {\r\n            this.patch_addContext_(patch, prepatch_text);\r\n            patches.push(patch);\r\n            patch = new diff_match_patch.patch_obj();\r\n            patchDiffLength = 0;\r\n            // Unlike Unidiff, our patch lists have a rolling context.\r\n            // http://code.google.com/p/google-diff-match-patch/wiki/Unidiff\r\n            // Update prepatch text & pos to reflect the application of the\r\n            // just completed patch.\r\n            prepatch_text = postpatch_text;\r\n            char_count1 = char_count2;\r\n          }\r\n        }\r\n        break;\r\n    }\r\n\r\n    // Update the current character count.\r\n    if (diff_type !== DIFF_INSERT) {\r\n      char_count1 += diff_text.length;\r\n    }\r\n    if (diff_type !== DIFF_DELETE) {\r\n      char_count2 += diff_text.length;\r\n    }\r\n  }\r\n  // Pick up the leftover patch if not empty.\r\n  if (patchDiffLength) {\r\n    this.patch_addContext_(patch, prepatch_text);\r\n    patches.push(patch);\r\n  }\r\n\r\n  return patches;\r\n};\r\n\r\n\r\n/**\r\n * Given an array of patches, return another array that is identical.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\r\n */\r\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\r\n  // Making deep copies is hard in JavaScript.\r\n  var patchesCopy = [];\r\n  for (var x = 0; x < patches.length; x++) {\r\n    var patch = patches[x];\r\n    var patchCopy = new diff_match_patch.patch_obj();\r\n    patchCopy.diffs = [];\r\n    for (var y = 0; y < patch.diffs.length; y++) {\r\n      patchCopy.diffs[y] = patch.diffs[y].slice();\r\n    }\r\n    patchCopy.start1 = patch.start1;\r\n    patchCopy.start2 = patch.start2;\r\n    patchCopy.length1 = patch.length1;\r\n    patchCopy.length2 = patch.length2;\r\n    patchesCopy[x] = patchCopy;\r\n  }\r\n  return patchesCopy;\r\n};\r\n\r\n\r\n/**\r\n * Merge a set of patches onto the text.  Return a patched text, as well\r\n * as a list of true/false values indicating which patches were applied.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n * @param {string} text Old text.\r\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\r\n *      new text and an array of boolean values.\r\n */\r\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\r\n  if (patches.length == 0) {\r\n    return [text, []];\r\n  }\r\n\r\n  // Deep copy the patches so that no changes are made to originals.\r\n  patches = this.patch_deepCopy(patches);\r\n\r\n  var nullPadding = this.patch_addPadding(patches);\r\n  text = nullPadding + text + nullPadding;\r\n\r\n  this.patch_splitMax(patches);\r\n  // delta keeps track of the offset between the expected and actual location\r\n  // of the previous patch.  If there are patches expected at positions 10 and\r\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\r\n  // has an effective expected position of 22.\r\n  var delta = 0;\r\n  var results = [];\r\n  for (var x = 0; x < patches.length; x++) {\r\n    var expected_loc = patches[x].start2 + delta;\r\n    var text1 = this.diff_text1(patches[x].diffs);\r\n    var start_loc;\r\n    var end_loc = -1;\r\n    if (text1.length > this.Match_MaxBits) {\r\n      // patch_splitMax will only provide an oversized pattern in the case of\r\n      // a monster delete.\r\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\r\n                                  expected_loc);\r\n      if (start_loc != -1) {\r\n        end_loc = this.match_main(text,\r\n            text1.substring(text1.length - this.Match_MaxBits),\r\n            expected_loc + text1.length - this.Match_MaxBits);\r\n        if (end_loc == -1 || start_loc >= end_loc) {\r\n          // Can't find valid trailing context.  Drop this patch.\r\n          start_loc = -1;\r\n        }\r\n      }\r\n    } else {\r\n      start_loc = this.match_main(text, text1, expected_loc);\r\n    }\r\n    if (start_loc == -1) {\r\n      // No match found.  :(\r\n      results[x] = false;\r\n      // Subtract the delta for this failed patch from subsequent patches.\r\n      delta -= patches[x].length2 - patches[x].length1;\r\n    } else {\r\n      // Found a match.  :)\r\n      results[x] = true;\r\n      delta = start_loc - expected_loc;\r\n      var text2;\r\n      if (end_loc == -1) {\r\n        text2 = text.substring(start_loc, start_loc + text1.length);\r\n      } else {\r\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\r\n      }\r\n      if (text1 == text2) {\r\n        // Perfect match, just shove the replacement text in.\r\n        text = text.substring(0, start_loc) +\r\n               this.diff_text2(patches[x].diffs) +\r\n               text.substring(start_loc + text1.length);\r\n      } else {\r\n        // Imperfect match.  Run a diff to get a framework of equivalent\r\n        // indices.\r\n        var diffs = this.diff_main(text1, text2, false);\r\n        if (text1.length > this.Match_MaxBits &&\r\n            this.diff_levenshtein(diffs) / text1.length >\r\n            this.Patch_DeleteThreshold) {\r\n          // The end points match, but the content is unacceptably bad.\r\n          results[x] = false;\r\n        } else {\r\n          this.diff_cleanupSemanticLossless(diffs);\r\n          var index1 = 0;\r\n          var index2;\r\n          for (var y = 0; y < patches[x].diffs.length; y++) {\r\n            var mod = patches[x].diffs[y];\r\n            if (mod[0] !== DIFF_EQUAL) {\r\n              index2 = this.diff_xIndex(diffs, index1);\r\n            }\r\n            if (mod[0] === DIFF_INSERT) {  // Insertion\r\n              text = text.substring(0, start_loc + index2) + mod[1] +\r\n                     text.substring(start_loc + index2);\r\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\r\n              text = text.substring(0, start_loc + index2) +\r\n                     text.substring(start_loc + this.diff_xIndex(diffs,\r\n                         index1 + mod[1].length));\r\n            }\r\n            if (mod[0] !== DIFF_DELETE) {\r\n              index1 += mod[1].length;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // Strip the padding off.\r\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\r\n  return [text, results];\r\n};\r\n\r\n\r\n/**\r\n * Add some padding on text start and end so that edges can match something.\r\n * Intended to be called only from within patch_apply.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n * @return {string} The padding string added to each side.\r\n */\r\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\r\n  var paddingLength = this.Patch_Margin;\r\n  var nullPadding = '';\r\n  for (var x = 1; x <= paddingLength; x++) {\r\n    nullPadding += String.fromCharCode(x);\r\n  }\r\n\r\n  // Bump all the patches forward.\r\n  for (var x = 0; x < patches.length; x++) {\r\n    patches[x].start1 += paddingLength;\r\n    patches[x].start2 += paddingLength;\r\n  }\r\n\r\n  // Add some padding on start of first diff.\r\n  var patch = patches[0];\r\n  var diffs = patch.diffs;\r\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\r\n    // Add nullPadding equality.\r\n    diffs.unshift([DIFF_EQUAL, nullPadding]);\r\n    patch.start1 -= paddingLength;  // Should be 0.\r\n    patch.start2 -= paddingLength;  // Should be 0.\r\n    patch.length1 += paddingLength;\r\n    patch.length2 += paddingLength;\r\n  } else if (paddingLength > diffs[0][1].length) {\r\n    // Grow first equality.\r\n    var extraLength = paddingLength - diffs[0][1].length;\r\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\r\n    patch.start1 -= extraLength;\r\n    patch.start2 -= extraLength;\r\n    patch.length1 += extraLength;\r\n    patch.length2 += extraLength;\r\n  }\r\n\r\n  // Add some padding on end of last diff.\r\n  patch = patches[patches.length - 1];\r\n  diffs = patch.diffs;\r\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\r\n    // Add nullPadding equality.\r\n    diffs.push([DIFF_EQUAL, nullPadding]);\r\n    patch.length1 += paddingLength;\r\n    patch.length2 += paddingLength;\r\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\r\n    // Grow last equality.\r\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\r\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\r\n    patch.length1 += extraLength;\r\n    patch.length2 += extraLength;\r\n  }\r\n\r\n  return nullPadding;\r\n};\r\n\r\n\r\n/**\r\n * Look through the patches and break up any which are longer than the maximum\r\n * limit of the match algorithm.\r\n * Intended to be called only from within patch_apply.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n */\r\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\r\n  var patch_size = this.Match_MaxBits;\r\n  for (var x = 0; x < patches.length; x++) {\r\n    if (patches[x].length1 <= patch_size) {\r\n      continue;\r\n    }\r\n    var bigpatch = patches[x];\r\n    // Remove the big old patch.\r\n    patches.splice(x--, 1);\r\n    var start1 = bigpatch.start1;\r\n    var start2 = bigpatch.start2;\r\n    var precontext = '';\r\n    while (bigpatch.diffs.length !== 0) {\r\n      // Create one of several smaller patches.\r\n      var patch = new diff_match_patch.patch_obj();\r\n      var empty = true;\r\n      patch.start1 = start1 - precontext.length;\r\n      patch.start2 = start2 - precontext.length;\r\n      if (precontext !== '') {\r\n        patch.length1 = patch.length2 = precontext.length;\r\n        patch.diffs.push([DIFF_EQUAL, precontext]);\r\n      }\r\n      while (bigpatch.diffs.length !== 0 &&\r\n             patch.length1 < patch_size - this.Patch_Margin) {\r\n        var diff_type = bigpatch.diffs[0][0];\r\n        var diff_text = bigpatch.diffs[0][1];\r\n        if (diff_type === DIFF_INSERT) {\r\n          // Insertions are harmless.\r\n          patch.length2 += diff_text.length;\r\n          start2 += diff_text.length;\r\n          patch.diffs.push(bigpatch.diffs.shift());\r\n          empty = false;\r\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\r\n                   patch.diffs[0][0] == DIFF_EQUAL &&\r\n                   diff_text.length > 2 * patch_size) {\r\n          // This is a large deletion.  Let it pass in one chunk.\r\n          patch.length1 += diff_text.length;\r\n          start1 += diff_text.length;\r\n          empty = false;\r\n          patch.diffs.push([diff_type, diff_text]);\r\n          bigpatch.diffs.shift();\r\n        } else {\r\n          // Deletion or equality.  Only take as much as we can stomach.\r\n          diff_text = diff_text.substring(0,\r\n              patch_size - patch.length1 - this.Patch_Margin);\r\n          patch.length1 += diff_text.length;\r\n          start1 += diff_text.length;\r\n          if (diff_type === DIFF_EQUAL) {\r\n            patch.length2 += diff_text.length;\r\n            start2 += diff_text.length;\r\n          } else {\r\n            empty = false;\r\n          }\r\n          patch.diffs.push([diff_type, diff_text]);\r\n          if (diff_text == bigpatch.diffs[0][1]) {\r\n            bigpatch.diffs.shift();\r\n          } else {\r\n            bigpatch.diffs[0][1] =\r\n                bigpatch.diffs[0][1].substring(diff_text.length);\r\n          }\r\n        }\r\n      }\r\n      // Compute the head context for the next patch.\r\n      precontext = this.diff_text2(patch.diffs);\r\n      precontext =\r\n          precontext.substring(precontext.length - this.Patch_Margin);\r\n      // Append the end context for this patch.\r\n      var postcontext = this.diff_text1(bigpatch.diffs)\r\n                            .substring(0, this.Patch_Margin);\r\n      if (postcontext !== '') {\r\n        patch.length1 += postcontext.length;\r\n        patch.length2 += postcontext.length;\r\n        if (patch.diffs.length !== 0 &&\r\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\r\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\r\n        } else {\r\n          patch.diffs.push([DIFF_EQUAL, postcontext]);\r\n        }\r\n      }\r\n      if (!empty) {\r\n        patches.splice(++x, 0, patch);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Take a list of patches and return a textual representation.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n * @return {string} Text representation of patches.\r\n */\r\ndiff_match_patch.prototype.patch_toText = function(patches) {\r\n  var text = [];\r\n  for (var x = 0; x < patches.length; x++) {\r\n    text[x] = patches[x];\r\n  }\r\n  return text.join('');\r\n};\r\n\r\n\r\n/**\r\n * Parse a textual representation of patches and return a list of Patch objects.\r\n * @param {string} textline Text representation of patches.\r\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\r\n * @throws {!Error} If invalid input.\r\n */\r\ndiff_match_patch.prototype.patch_fromText = function(textline) {\r\n  var patches = [];\r\n  if (!textline) {\r\n    return patches;\r\n  }\r\n  var text = textline.split('\\n');\r\n  var textPointer = 0;\r\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\r\n  while (textPointer < text.length) {\r\n    var m = text[textPointer].match(patchHeader);\r\n    if (!m) {\r\n      throw new Error('Invalid patch string: ' + text[textPointer]);\r\n    }\r\n    var patch = new diff_match_patch.patch_obj();\r\n    patches.push(patch);\r\n    patch.start1 = parseInt(m[1], 10);\r\n    if (m[2] === '') {\r\n      patch.start1--;\r\n      patch.length1 = 1;\r\n    } else if (m[2] == '0') {\r\n      patch.length1 = 0;\r\n    } else {\r\n      patch.start1--;\r\n      patch.length1 = parseInt(m[2], 10);\r\n    }\r\n\r\n    patch.start2 = parseInt(m[3], 10);\r\n    if (m[4] === '') {\r\n      patch.start2--;\r\n      patch.length2 = 1;\r\n    } else if (m[4] == '0') {\r\n      patch.length2 = 0;\r\n    } else {\r\n      patch.start2--;\r\n      patch.length2 = parseInt(m[4], 10);\r\n    }\r\n    textPointer++;\r\n\r\n    while (textPointer < text.length) {\r\n      var sign = text[textPointer].charAt(0);\r\n      try {\r\n        var line = decodeURI(text[textPointer].substring(1));\r\n      } catch (ex) {\r\n        // Malformed URI sequence.\r\n        throw new Error('Illegal escape in patch_fromText: ' + line);\r\n      }\r\n      if (sign == '-') {\r\n        // Deletion.\r\n        patch.diffs.push([DIFF_DELETE, line]);\r\n      } else if (sign == '+') {\r\n        // Insertion.\r\n        patch.diffs.push([DIFF_INSERT, line]);\r\n      } else if (sign == ' ') {\r\n        // Minor equality.\r\n        patch.diffs.push([DIFF_EQUAL, line]);\r\n      } else if (sign == '@') {\r\n        // Start of next patch.\r\n        break;\r\n      } else if (sign === '') {\r\n        // Blank line?  Whatever.\r\n      } else {\r\n        // WTF?\r\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\r\n      }\r\n      textPointer++;\r\n    }\r\n  }\r\n  return patches;\r\n};\r\n\r\n\r\n/**\r\n * Class representing one patch operation.\r\n * @constructor\r\n */\r\ndiff_match_patch.patch_obj = function() {\r\n  /** @type {!Array.<!diff_match_patch.Diff>} */\r\n  this.diffs = [];\r\n  /** @type {?number} */\r\n  this.start1 = null;\r\n  /** @type {?number} */\r\n  this.start2 = null;\r\n  /** @type {number} */\r\n  this.length1 = 0;\r\n  /** @type {number} */\r\n  this.length2 = 0;\r\n};\r\n\r\n\r\n/**\r\n * Emmulate GNU diff's format.\r\n * Header: @@ -382,8 +481,9 @@\r\n * Indicies are printed as 1-based, not 0-based.\r\n * @return {string} The GNU diff string.\r\n */\r\ndiff_match_patch.patch_obj.prototype.toString = function() {\r\n  var coords1, coords2;\r\n  if (this.length1 === 0) {\r\n    coords1 = this.start1 + ',0';\r\n  } else if (this.length1 == 1) {\r\n    coords1 = this.start1 + 1;\r\n  } else {\r\n    coords1 = (this.start1 + 1) + ',' + this.length1;\r\n  }\r\n  if (this.length2 === 0) {\r\n    coords2 = this.start2 + ',0';\r\n  } else if (this.length2 == 1) {\r\n    coords2 = this.start2 + 1;\r\n  } else {\r\n    coords2 = (this.start2 + 1) + ',' + this.length2;\r\n  }\r\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\r\n  var op;\r\n  // Escape the body of the patch with %xx notation.\r\n  for (var x = 0; x < this.diffs.length; x++) {\r\n    switch (this.diffs[x][0]) {\r\n      case DIFF_INSERT:\r\n        op = '+';\r\n        break;\r\n      case DIFF_DELETE:\r\n        op = '-';\r\n        break;\r\n      case DIFF_EQUAL:\r\n        op = ' ';\r\n        break;\r\n    }\r\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\r\n  }\r\n  return text.join('').replace(/%20/g, ' ');\r\n};\r\n\r\n\r\n// The following export code was added by @ForbesLindesay\r\nmodule.exports = diff_match_patch;\r\nmodule.exports['diff_match_patch'] = diff_match_patch;\r\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\r\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\r\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;\n});\n\n/* global diff_match_patch */\nvar TEXT_DIFF = 2;\nvar DEFAULT_MIN_LENGTH = 60;\nvar cachedDiffPatch = null;\n\nvar getDiffMatchPatch = function getDiffMatchPatch(required) {\n  /* jshint camelcase: false */\n\n  if (!cachedDiffPatch) {\n    var instance = void 0;\n    /* eslint-disable camelcase, new-cap */\n    if (typeof diff_match_patch !== 'undefined') {\n      // already loaded, probably a browser\n      instance = typeof diff_match_patch === 'function' ? new diff_match_patch() : new diff_match_patch.diff_match_patch();\n    } else if (diffMatchPatch) {\n      try {\n        instance = diffMatchPatch && new diffMatchPatch();\n      } catch (err) {\n        instance = null;\n      }\n    }\n    /* eslint-enable camelcase, new-cap */\n    if (!instance) {\n      if (!required) {\n        return null;\n      }\n      var error = new Error('text diff_match_patch library not found');\n      // eslint-disable-next-line camelcase\n      error.diff_match_patch_not_found = true;\n      throw error;\n    }\n    cachedDiffPatch = {\n      diff: function diff(txt1, txt2) {\n        return instance.patch_toText(instance.patch_make(txt1, txt2));\n      },\n      patch: function patch(txt1, _patch) {\n        var results = instance.patch_apply(instance.patch_fromText(_patch), txt1);\n        for (var i = 0; i < results[1].length; i++) {\n          if (!results[1][i]) {\n            var _error = new Error('text patch failed');\n            _error.textPatchFailed = true;\n          }\n        }\n        return results[0];\n      }\n    };\n  }\n  return cachedDiffPatch;\n};\n\nvar diffFilter$3 = function textsDiffFilter(context) {\n  if (context.leftType !== 'string') {\n    return;\n  }\n  var minLength = context.options && context.options.textDiff && context.options.textDiff.minLength || DEFAULT_MIN_LENGTH;\n  if (context.left.length < minLength || context.right.length < minLength) {\n    context.setResult([context.left, context.right]).exit();\n    return;\n  }\n  // large text, try to use a text-diff algorithm\n  var diffMatchPatch$$1 = getDiffMatchPatch();\n  if (!diffMatchPatch$$1) {\n    // diff-match-patch library not available,\n    // fallback to regular string replace\n    context.setResult([context.left, context.right]).exit();\n    return;\n  }\n  var diff = diffMatchPatch$$1.diff;\n  context.setResult([diff(context.left, context.right), 0, TEXT_DIFF]).exit();\n};\ndiffFilter$3.filterName = 'texts';\n\nvar patchFilter$3 = function textsPatchFilter(context) {\n  if (context.nested) {\n    return;\n  }\n  if (context.delta[2] !== TEXT_DIFF) {\n    return;\n  }\n\n  // text-diff, use a text-patch algorithm\n  var patch = getDiffMatchPatch(true).patch;\n  context.setResult(patch(context.left, context.delta[0])).exit();\n};\npatchFilter$3.filterName = 'texts';\n\nvar textDeltaReverse = function textDeltaReverse(delta) {\n  var i = void 0;\n  var l = void 0;\n  var lines = void 0;\n  var line = void 0;\n  var lineTmp = void 0;\n  var header = null;\n  var headerRegex = /^@@ +-(\\d+),(\\d+) +\\+(\\d+),(\\d+) +@@$/;\n  var lineHeader = void 0;\n  lines = delta.split('\\n');\n  for (i = 0, l = lines.length; i < l; i++) {\n    line = lines[i];\n    var lineStart = line.slice(0, 1);\n    if (lineStart === '@') {\n      header = headerRegex.exec(line);\n      lineHeader = i;\n\n      // fix header\n      lines[lineHeader] = '@@ -' + header[3] + ',' + header[4] + ' +' + header[1] + ',' + header[2] + ' @@';\n    } else if (lineStart === '+') {\n      lines[i] = '-' + lines[i].slice(1);\n      if (lines[i - 1].slice(0, 1) === '+') {\n        // swap lines to keep default order (-+)\n        lineTmp = lines[i];\n        lines[i] = lines[i - 1];\n        lines[i - 1] = lineTmp;\n      }\n    } else if (lineStart === '-') {\n      lines[i] = '+' + lines[i].slice(1);\n    }\n  }\n  return lines.join('\\n');\n};\n\nvar reverseFilter$3 = function textsReverseFilter(context) {\n  if (context.nested) {\n    return;\n  }\n  if (context.delta[2] !== TEXT_DIFF) {\n    return;\n  }\n\n  // text-diff, use a text-diff algorithm\n  context.setResult([textDeltaReverse(context.delta[0]), 0, TEXT_DIFF]).exit();\n};\nreverseFilter$3.filterName = 'texts';\n\nvar DiffPatcher = function () {\n  function DiffPatcher(options) {\n    classCallCheck(this, DiffPatcher);\n\n    this.processor = new Processor(options);\n    this.processor.pipe(new Pipe('diff').append(collectChildrenDiffFilter, diffFilter, diffFilter$2, diffFilter$3, objectsDiffFilter, diffFilter$1).shouldHaveResult());\n    this.processor.pipe(new Pipe('patch').append(collectChildrenPatchFilter, collectChildrenPatchFilter$1, patchFilter, patchFilter$3, patchFilter$1, patchFilter$2).shouldHaveResult());\n    this.processor.pipe(new Pipe('reverse').append(collectChildrenReverseFilter, collectChildrenReverseFilter$1, reverseFilter, reverseFilter$3, reverseFilter$1, reverseFilter$2).shouldHaveResult());\n  }\n\n  createClass(DiffPatcher, [{\n    key: 'options',\n    value: function options() {\n      var _processor;\n\n      return (_processor = this.processor).options.apply(_processor, arguments);\n    }\n  }, {\n    key: 'diff',\n    value: function diff(left, right) {\n      return this.processor.process(new DiffContext(left, right));\n    }\n  }, {\n    key: 'patch',\n    value: function patch(left, delta) {\n      return this.processor.process(new PatchContext(left, delta));\n    }\n  }, {\n    key: 'reverse',\n    value: function reverse(delta) {\n      return this.processor.process(new ReverseContext(delta));\n    }\n  }, {\n    key: 'unpatch',\n    value: function unpatch(right, delta) {\n      return this.patch(right, this.reverse(delta));\n    }\n  }, {\n    key: 'clone',\n    value: function clone$$1(value) {\n      return clone(value);\n    }\n  }]);\n  return DiffPatcher;\n}();\n\nvar isArray$3 = typeof Array.isArray === 'function' ? Array.isArray : function (a) {\n  return a instanceof Array;\n};\n\nvar getObjectKeys = typeof Object.keys === 'function' ? function (obj) {\n  return Object.keys(obj);\n} : function (obj) {\n  var names = [];\n  for (var property in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, property)) {\n      names.push(property);\n    }\n  }\n  return names;\n};\n\nvar trimUnderscore = function trimUnderscore(str) {\n  if (str.substr(0, 1) === '_') {\n    return str.slice(1);\n  }\n  return str;\n};\n\nvar arrayKeyToSortNumber = function arrayKeyToSortNumber(key) {\n  if (key === '_t') {\n    return -1;\n  } else {\n    if (key.substr(0, 1) === '_') {\n      return parseInt(key.slice(1), 10);\n    } else {\n      return parseInt(key, 10) + 0.1;\n    }\n  }\n};\n\nvar arrayKeyComparer = function arrayKeyComparer(key1, key2) {\n  return arrayKeyToSortNumber(key1) - arrayKeyToSortNumber(key2);\n};\n\nvar BaseFormatter = function () {\n  function BaseFormatter() {\n    classCallCheck(this, BaseFormatter);\n  }\n\n  createClass(BaseFormatter, [{\n    key: 'format',\n    value: function format(delta, left) {\n      var context = {};\n      this.prepareContext(context);\n      this.recurse(context, delta, left);\n      return this.finalize(context);\n    }\n  }, {\n    key: 'prepareContext',\n    value: function prepareContext(context) {\n      context.buffer = [];\n      context.out = function () {\n        var _buffer;\n\n        (_buffer = this.buffer).push.apply(_buffer, arguments);\n      };\n    }\n  }, {\n    key: 'typeFormattterNotFound',\n    value: function typeFormattterNotFound(context, deltaType) {\n      throw new Error('cannot format delta type: ' + deltaType);\n    }\n  }, {\n    key: 'typeFormattterErrorFormatter',\n    value: function typeFormattterErrorFormatter(context, err) {\n      return err.toString();\n    }\n  }, {\n    key: 'finalize',\n    value: function finalize(_ref) {\n      var buffer = _ref.buffer;\n\n      if (isArray$3(buffer)) {\n        return buffer.join('');\n      }\n    }\n  }, {\n    key: 'recurse',\n    value: function recurse(context, delta, left, key, leftKey, movedFrom, isLast) {\n      var useMoveOriginHere = delta && movedFrom;\n      var leftValue = useMoveOriginHere ? movedFrom.value : left;\n\n      if (typeof delta === 'undefined' && typeof key === 'undefined') {\n        return undefined;\n      }\n\n      var type = this.getDeltaType(delta, movedFrom);\n      var nodeType = type === 'node' ? delta._t === 'a' ? 'array' : 'object' : '';\n\n      if (typeof key !== 'undefined') {\n        this.nodeBegin(context, key, leftKey, type, nodeType, isLast);\n      } else {\n        this.rootBegin(context, type, nodeType);\n      }\n\n      var typeFormattter = void 0;\n      try {\n        typeFormattter = this['format_' + type] || this.typeFormattterNotFound(context, type);\n        typeFormattter.call(this, context, delta, leftValue, key, leftKey, movedFrom);\n      } catch (err) {\n        this.typeFormattterErrorFormatter(context, err, delta, leftValue, key, leftKey, movedFrom);\n        if (typeof console !== 'undefined' && console.error) {\n          console.error(err.stack);\n        }\n      }\n\n      if (typeof key !== 'undefined') {\n        this.nodeEnd(context, key, leftKey, type, nodeType, isLast);\n      } else {\n        this.rootEnd(context, type, nodeType);\n      }\n    }\n  }, {\n    key: 'formatDeltaChildren',\n    value: function formatDeltaChildren(context, delta, left) {\n      var self = this;\n      this.forEachDeltaKey(delta, left, function (key, leftKey, movedFrom, isLast) {\n        self.recurse(context, delta[key], left ? left[leftKey] : undefined, key, leftKey, movedFrom, isLast);\n      });\n    }\n  }, {\n    key: 'forEachDeltaKey',\n    value: function forEachDeltaKey(delta, left, fn) {\n      var keys = getObjectKeys(delta);\n      var arrayKeys = delta._t === 'a';\n      var moveDestinations = {};\n      var name = void 0;\n      if (typeof left !== 'undefined') {\n        for (name in left) {\n          if (Object.prototype.hasOwnProperty.call(left, name)) {\n            if (typeof delta[name] === 'undefined' && (!arrayKeys || typeof delta['_' + name] === 'undefined')) {\n              keys.push(name);\n            }\n          }\n        }\n      }\n      // look for move destinations\n      for (name in delta) {\n        if (Object.prototype.hasOwnProperty.call(delta, name)) {\n          var value = delta[name];\n          if (isArray$3(value) && value[2] === 3) {\n            moveDestinations[value[1].toString()] = {\n              key: name,\n              value: left && left[parseInt(name.substr(1))]\n            };\n            if (this.includeMoveDestinations !== false) {\n              if (typeof left === 'undefined' && typeof delta[value[1]] === 'undefined') {\n                keys.push(value[1].toString());\n              }\n            }\n          }\n        }\n      }\n      if (arrayKeys) {\n        keys.sort(arrayKeyComparer);\n      } else {\n        keys.sort();\n      }\n      for (var index = 0, length = keys.length; index < length; index++) {\n        var key = keys[index];\n        if (arrayKeys && key === '_t') {\n          continue;\n        }\n        var leftKey = arrayKeys ? typeof key === 'number' ? key : parseInt(trimUnderscore(key), 10) : key;\n        var isLast = index === length - 1;\n        fn(key, leftKey, moveDestinations[leftKey], isLast);\n      }\n    }\n  }, {\n    key: 'getDeltaType',\n    value: function getDeltaType(delta, movedFrom) {\n      if (typeof delta === 'undefined') {\n        if (typeof movedFrom !== 'undefined') {\n          return 'movedestination';\n        }\n        return 'unchanged';\n      }\n      if (isArray$3(delta)) {\n        if (delta.length === 1) {\n          return 'added';\n        }\n        if (delta.length === 2) {\n          return 'modified';\n        }\n        if (delta.length === 3 && delta[2] === 0) {\n          return 'deleted';\n        }\n        if (delta.length === 3 && delta[2] === 2) {\n          return 'textdiff';\n        }\n        if (delta.length === 3 && delta[2] === 3) {\n          return 'moved';\n        }\n      } else if ((typeof delta === 'undefined' ? 'undefined' : _typeof(delta)) === 'object') {\n        return 'node';\n      }\n      return 'unknown';\n    }\n  }, {\n    key: 'parseTextDiff',\n    value: function parseTextDiff(value) {\n      var output = [];\n      var lines = value.split('\\n@@ ');\n      for (var i = 0, l = lines.length; i < l; i++) {\n        var line = lines[i];\n        var lineOutput = {\n          pieces: []\n        };\n        var location = /^(?:@@ )?[-+]?(\\d+),(\\d+)/.exec(line).slice(1);\n        lineOutput.location = {\n          line: location[0],\n          chr: location[1]\n        };\n        var pieces = line.split('\\n').slice(1);\n        for (var pieceIndex = 0, piecesLength = pieces.length; pieceIndex < piecesLength; pieceIndex++) {\n          var piece = pieces[pieceIndex];\n          if (!piece.length) {\n            continue;\n          }\n          var pieceOutput = {\n            type: 'context'\n          };\n          if (piece.substr(0, 1) === '+') {\n            pieceOutput.type = 'added';\n          } else if (piece.substr(0, 1) === '-') {\n            pieceOutput.type = 'deleted';\n          }\n          pieceOutput.text = piece.slice(1);\n          lineOutput.pieces.push(pieceOutput);\n        }\n        output.push(lineOutput);\n      }\n      return output;\n    }\n  }]);\n  return BaseFormatter;\n}();\n\n\n\nvar base = Object.freeze({\n\tdefault: BaseFormatter\n});\n\nvar HtmlFormatter = function (_BaseFormatter) {\n  inherits(HtmlFormatter, _BaseFormatter);\n\n  function HtmlFormatter() {\n    classCallCheck(this, HtmlFormatter);\n    return possibleConstructorReturn(this, (HtmlFormatter.__proto__ || Object.getPrototypeOf(HtmlFormatter)).apply(this, arguments));\n  }\n\n  createClass(HtmlFormatter, [{\n    key: 'typeFormattterErrorFormatter',\n    value: function typeFormattterErrorFormatter(context, err) {\n      context.out('<pre class=\"jsondiffpatch-error\">' + err + '</pre>');\n    }\n  }, {\n    key: 'formatValue',\n    value: function formatValue(context, value) {\n      context.out('<pre>' + htmlEscape(JSON.stringify(value, null, 2)) + '</pre>');\n    }\n  }, {\n    key: 'formatTextDiffString',\n    value: function formatTextDiffString(context, value) {\n      var lines = this.parseTextDiff(value);\n      context.out('<ul class=\"jsondiffpatch-textdiff\">');\n      for (var i = 0, l = lines.length; i < l; i++) {\n        var line = lines[i];\n        context.out('<li><div class=\"jsondiffpatch-textdiff-location\">' + ('<span class=\"jsondiffpatch-textdiff-line-number\">' + line.location.line + '</span><span class=\"jsondiffpatch-textdiff-char\">' + line.location.chr + '</span></div><div class=\"jsondiffpatch-textdiff-line\">'));\n        var pieces = line.pieces;\n        for (var pieceIndex = 0, piecesLength = pieces.length; pieceIndex < piecesLength; pieceIndex++) {\n          /* global decodeURI */\n          var piece = pieces[pieceIndex];\n          context.out('<span class=\"jsondiffpatch-textdiff-' + piece.type + '\">' + htmlEscape(decodeURI(piece.text)) + '</span>');\n        }\n        context.out('</div></li>');\n      }\n      context.out('</ul>');\n    }\n  }, {\n    key: 'rootBegin',\n    value: function rootBegin(context, type, nodeType) {\n      var nodeClass = 'jsondiffpatch-' + type + (nodeType ? ' jsondiffpatch-child-node-type-' + nodeType : '');\n      context.out('<div class=\"jsondiffpatch-delta ' + nodeClass + '\">');\n    }\n  }, {\n    key: 'rootEnd',\n    value: function rootEnd(context) {\n      context.out('</div>' + (context.hasArrows ? '<script type=\"text/javascript\">setTimeout(' + (adjustArrows.toString() + ',10);</script>') : ''));\n    }\n  }, {\n    key: 'nodeBegin',\n    value: function nodeBegin(context, key, leftKey, type, nodeType) {\n      var nodeClass = 'jsondiffpatch-' + type + (nodeType ? ' jsondiffpatch-child-node-type-' + nodeType : '');\n      context.out('<li class=\"' + nodeClass + '\" data-key=\"' + leftKey + '\">' + ('<div class=\"jsondiffpatch-property-name\">' + leftKey + '</div>'));\n    }\n  }, {\n    key: 'nodeEnd',\n    value: function nodeEnd(context) {\n      context.out('</li>');\n    }\n\n    /* jshint camelcase: false */\n    /* eslint-disable camelcase */\n\n  }, {\n    key: 'format_unchanged',\n    value: function format_unchanged(context, delta, left) {\n      if (typeof left === 'undefined') {\n        return;\n      }\n      context.out('<div class=\"jsondiffpatch-value\">');\n      this.formatValue(context, left);\n      context.out('</div>');\n    }\n  }, {\n    key: 'format_movedestination',\n    value: function format_movedestination(context, delta, left) {\n      if (typeof left === 'undefined') {\n        return;\n      }\n      context.out('<div class=\"jsondiffpatch-value\">');\n      this.formatValue(context, left);\n      context.out('</div>');\n    }\n  }, {\n    key: 'format_node',\n    value: function format_node(context, delta, left) {\n      // recurse\n      var nodeType = delta._t === 'a' ? 'array' : 'object';\n      context.out('<ul class=\"jsondiffpatch-node jsondiffpatch-node-type-' + nodeType + '\">');\n      this.formatDeltaChildren(context, delta, left);\n      context.out('</ul>');\n    }\n  }, {\n    key: 'format_added',\n    value: function format_added(context, delta) {\n      context.out('<div class=\"jsondiffpatch-value\">');\n      this.formatValue(context, delta[0]);\n      context.out('</div>');\n    }\n  }, {\n    key: 'format_modified',\n    value: function format_modified(context, delta) {\n      context.out('<div class=\"jsondiffpatch-value jsondiffpatch-left-value\">');\n      this.formatValue(context, delta[0]);\n      context.out('</div>' + '<div class=\"jsondiffpatch-value jsondiffpatch-right-value\">');\n      this.formatValue(context, delta[1]);\n      context.out('</div>');\n    }\n  }, {\n    key: 'format_deleted',\n    value: function format_deleted(context, delta) {\n      context.out('<div class=\"jsondiffpatch-value\">');\n      this.formatValue(context, delta[0]);\n      context.out('</div>');\n    }\n  }, {\n    key: 'format_moved',\n    value: function format_moved(context, delta) {\n      context.out('<div class=\"jsondiffpatch-value\">');\n      this.formatValue(context, delta[0]);\n      context.out('</div><div class=\"jsondiffpatch-moved-destination\">' + delta[1] + '</div>');\n\n      // draw an SVG arrow from here to move destination\n      context.out(\n      /* jshint multistr: true */\n      '<div class=\"jsondiffpatch-arrow\" ' + 'style=\"position: relative; left: -34px;\">\\n          <svg width=\"30\" height=\"60\" ' + 'style=\"position: absolute; display: none;\">\\n          <defs>\\n              <marker id=\"markerArrow\" markerWidth=\"8\" markerHeight=\"8\"\\n                 refx=\"2\" refy=\"4\"\\n                     orient=\"auto\" markerUnits=\"userSpaceOnUse\">\\n                  <path d=\"M1,1 L1,7 L7,4 L1,1\" style=\"fill: #339;\" />\\n              </marker>\\n          </defs>\\n          <path d=\"M30,0 Q-10,25 26,50\"\\n            style=\"stroke: #88f; stroke-width: 2px; fill: none; ' + 'stroke-opacity: 0.5; marker-end: url(#markerArrow);\"\\n          ></path>\\n          </svg>\\n      </div>');\n      context.hasArrows = true;\n    }\n  }, {\n    key: 'format_textdiff',\n    value: function format_textdiff(context, delta) {\n      context.out('<div class=\"jsondiffpatch-value\">');\n      this.formatTextDiffString(context, delta[0]);\n      context.out('</div>');\n    }\n  }]);\n  return HtmlFormatter;\n}(BaseFormatter);\n\nfunction htmlEscape(text) {\n  var html = text;\n  var replacements = [[/&/g, '&amp;'], [/</g, '&lt;'], [/>/g, '&gt;'], [/'/g, '&apos;'], [/\"/g, '&quot;']];\n  for (var i = 0; i < replacements.length; i++) {\n    html = html.replace(replacements[i][0], replacements[i][1]);\n  }\n  return html;\n}\n\nvar adjustArrows = function jsondiffpatchHtmlFormatterAdjustArrows(nodeArg) {\n  var node = nodeArg || document;\n  var getElementText = function getElementText(_ref) {\n    var textContent = _ref.textContent,\n        innerText = _ref.innerText;\n    return textContent || innerText;\n  };\n  var eachByQuery = function eachByQuery(el, query, fn) {\n    var elems = el.querySelectorAll(query);\n    for (var i = 0, l = elems.length; i < l; i++) {\n      fn(elems[i]);\n    }\n  };\n  var eachChildren = function eachChildren(_ref2, fn) {\n    var children = _ref2.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      fn(children[i], i);\n    }\n  };\n  eachByQuery(node, '.jsondiffpatch-arrow', function (_ref3) {\n    var parentNode = _ref3.parentNode,\n        children = _ref3.children,\n        style = _ref3.style;\n\n    var arrowParent = parentNode;\n    var svg = children[0];\n    var path = svg.children[1];\n    svg.style.display = 'none';\n    var destination = getElementText(arrowParent.querySelector('.jsondiffpatch-moved-destination'));\n    var container = arrowParent.parentNode;\n    var destinationElem = void 0;\n    eachChildren(container, function (child) {\n      if (child.getAttribute('data-key') === destination) {\n        destinationElem = child;\n      }\n    });\n    if (!destinationElem) {\n      return;\n    }\n    try {\n      var distance = destinationElem.offsetTop - arrowParent.offsetTop;\n      svg.setAttribute('height', Math.abs(distance) + 6);\n      style.top = -8 + (distance > 0 ? 0 : distance) + 'px';\n      var curve = distance > 0 ? 'M30,0 Q-10,' + Math.round(distance / 2) + ' 26,' + (distance - 4) : 'M30,' + -distance + ' Q-10,' + Math.round(-distance / 2) + ' 26,4';\n      path.setAttribute('d', curve);\n      svg.style.display = '';\n    } catch (err) {}\n  });\n};\n\n/* jshint camelcase: true */\n/* eslint-enable camelcase */\n\nvar showUnchanged = function showUnchanged(show, node, delay) {\n  var el = node || document.body;\n  var prefix = 'jsondiffpatch-unchanged-';\n  var classes = {\n    showing: prefix + 'showing',\n    hiding: prefix + 'hiding',\n    visible: prefix + 'visible',\n    hidden: prefix + 'hidden'\n  };\n  var list = el.classList;\n  if (!list) {\n    return;\n  }\n  if (!delay) {\n    list.remove(classes.showing);\n    list.remove(classes.hiding);\n    list.remove(classes.visible);\n    list.remove(classes.hidden);\n    if (show === false) {\n      list.add(classes.hidden);\n    }\n    return;\n  }\n  if (show === false) {\n    list.remove(classes.showing);\n    list.add(classes.visible);\n    setTimeout(function () {\n      list.add(classes.hiding);\n    }, 10);\n  } else {\n    list.remove(classes.hiding);\n    list.add(classes.showing);\n    list.remove(classes.hidden);\n  }\n  var intervalId = setInterval(function () {\n    adjustArrows(el);\n  }, 100);\n  setTimeout(function () {\n    list.remove(classes.showing);\n    list.remove(classes.hiding);\n    if (show === false) {\n      list.add(classes.hidden);\n      list.remove(classes.visible);\n    } else {\n      list.add(classes.visible);\n      list.remove(classes.hidden);\n    }\n    setTimeout(function () {\n      list.remove(classes.visible);\n      clearInterval(intervalId);\n    }, delay + 400);\n  }, delay);\n};\n\nvar hideUnchanged = function hideUnchanged(node, delay) {\n  return showUnchanged(false, node, delay);\n};\n\nvar defaultInstance = void 0;\n\nfunction format(delta, left) {\n  if (!defaultInstance) {\n    defaultInstance = new HtmlFormatter();\n  }\n  return defaultInstance.format(delta, left);\n}\n\n\n\nvar html = Object.freeze({\n\tshowUnchanged: showUnchanged,\n\thideUnchanged: hideUnchanged,\n\tdefault: HtmlFormatter,\n\tformat: format\n});\n\nvar AnnotatedFormatter = function (_BaseFormatter) {\n  inherits(AnnotatedFormatter, _BaseFormatter);\n\n  function AnnotatedFormatter() {\n    classCallCheck(this, AnnotatedFormatter);\n\n    var _this = possibleConstructorReturn(this, (AnnotatedFormatter.__proto__ || Object.getPrototypeOf(AnnotatedFormatter)).call(this));\n\n    _this.includeMoveDestinations = false;\n    return _this;\n  }\n\n  createClass(AnnotatedFormatter, [{\n    key: 'prepareContext',\n    value: function prepareContext(context) {\n      get(AnnotatedFormatter.prototype.__proto__ || Object.getPrototypeOf(AnnotatedFormatter.prototype), 'prepareContext', this).call(this, context);\n      context.indent = function (levels) {\n        this.indentLevel = (this.indentLevel || 0) + (typeof levels === 'undefined' ? 1 : levels);\n        this.indentPad = new Array(this.indentLevel + 1).join('&nbsp;&nbsp;');\n      };\n      context.row = function (json, htmlNote) {\n        context.out('<tr><td style=\"white-space: nowrap;\">' + '<pre class=\"jsondiffpatch-annotated-indent\"' + ' style=\"display: inline-block\">');\n        context.out(context.indentPad);\n        context.out('</pre><pre style=\"display: inline-block\">');\n        context.out(json);\n        context.out('</pre></td><td class=\"jsondiffpatch-delta-note\"><div>');\n        context.out(htmlNote);\n        context.out('</div></td></tr>');\n      };\n    }\n  }, {\n    key: 'typeFormattterErrorFormatter',\n    value: function typeFormattterErrorFormatter(context, err) {\n      context.row('', '<pre class=\"jsondiffpatch-error\">' + err + '</pre>');\n    }\n  }, {\n    key: 'formatTextDiffString',\n    value: function formatTextDiffString(context, value) {\n      var lines = this.parseTextDiff(value);\n      context.out('<ul class=\"jsondiffpatch-textdiff\">');\n      for (var i = 0, l = lines.length; i < l; i++) {\n        var line = lines[i];\n        context.out('<li><div class=\"jsondiffpatch-textdiff-location\">' + ('<span class=\"jsondiffpatch-textdiff-line-number\">' + line.location.line + '</span><span class=\"jsondiffpatch-textdiff-char\">' + line.location.chr + '</span></div><div class=\"jsondiffpatch-textdiff-line\">'));\n        var pieces = line.pieces;\n        for (var pieceIndex = 0, piecesLength = pieces.length; pieceIndex < piecesLength; pieceIndex++) {\n          var piece = pieces[pieceIndex];\n          context.out('<span class=\"jsondiffpatch-textdiff-' + piece.type + '\">' + piece.text + '</span>');\n        }\n        context.out('</div></li>');\n      }\n      context.out('</ul>');\n    }\n  }, {\n    key: 'rootBegin',\n    value: function rootBegin(context, type, nodeType) {\n      context.out('<table class=\"jsondiffpatch-annotated-delta\">');\n      if (type === 'node') {\n        context.row('{');\n        context.indent();\n      }\n      if (nodeType === 'array') {\n        context.row('\"_t\": \"a\",', 'Array delta (member names indicate array indices)');\n      }\n    }\n  }, {\n    key: 'rootEnd',\n    value: function rootEnd(context, type) {\n      if (type === 'node') {\n        context.indent(-1);\n        context.row('}');\n      }\n      context.out('</table>');\n    }\n  }, {\n    key: 'nodeBegin',\n    value: function nodeBegin(context, key, leftKey, type, nodeType) {\n      context.row('&quot;' + key + '&quot;: {');\n      if (type === 'node') {\n        context.indent();\n      }\n      if (nodeType === 'array') {\n        context.row('\"_t\": \"a\",', 'Array delta (member names indicate array indices)');\n      }\n    }\n  }, {\n    key: 'nodeEnd',\n    value: function nodeEnd(context, key, leftKey, type, nodeType, isLast) {\n      if (type === 'node') {\n        context.indent(-1);\n      }\n      context.row('}' + (isLast ? '' : ','));\n    }\n\n    /* jshint camelcase: false */\n\n    /* eslint-disable camelcase */\n\n  }, {\n    key: 'format_unchanged',\n    value: function format_unchanged() {}\n  }, {\n    key: 'format_movedestination',\n    value: function format_movedestination() {}\n  }, {\n    key: 'format_node',\n    value: function format_node(context, delta, left) {\n      // recurse\n      this.formatDeltaChildren(context, delta, left);\n    }\n  }]);\n  return AnnotatedFormatter;\n}(BaseFormatter);\n\n/* eslint-enable camelcase */\n\nvar wrapPropertyName = function wrapPropertyName(name) {\n  return '<pre style=\"display:inline-block\">&quot;' + name + '&quot;</pre>';\n};\n\nvar deltaAnnotations = {\n  added: function added(delta, left, key, leftKey) {\n    var formatLegend = ' <pre>([newValue])</pre>';\n    if (typeof leftKey === 'undefined') {\n      return 'new value' + formatLegend;\n    }\n    if (typeof leftKey === 'number') {\n      return 'insert at index ' + leftKey + formatLegend;\n    }\n    return 'add property ' + wrapPropertyName(leftKey) + formatLegend;\n  },\n  modified: function modified(delta, left, key, leftKey) {\n    var formatLegend = ' <pre>([previousValue, newValue])</pre>';\n    if (typeof leftKey === 'undefined') {\n      return 'modify value' + formatLegend;\n    }\n    if (typeof leftKey === 'number') {\n      return 'modify at index ' + leftKey + formatLegend;\n    }\n    return 'modify property ' + wrapPropertyName(leftKey) + formatLegend;\n  },\n  deleted: function deleted(delta, left, key, leftKey) {\n    var formatLegend = ' <pre>([previousValue, 0, 0])</pre>';\n    if (typeof leftKey === 'undefined') {\n      return 'delete value' + formatLegend;\n    }\n    if (typeof leftKey === 'number') {\n      return 'remove index ' + leftKey + formatLegend;\n    }\n    return 'delete property ' + wrapPropertyName(leftKey) + formatLegend;\n  },\n  moved: function moved(delta, left, key, leftKey) {\n    return 'move from <span title=\"(position to remove at original state)\">' + ('index ' + leftKey + '</span> to <span title=\"(position to insert at final') + (' state)\">index ' + delta[1] + '</span>');\n  },\n  textdiff: function textdiff(delta, left, key, leftKey) {\n    var location = typeof leftKey === 'undefined' ? '' : typeof leftKey === 'number' ? ' at index ' + leftKey : ' at property ' + wrapPropertyName(leftKey);\n    return 'text diff' + location + ', format is <a href=\"https://code.google.com/' + 'p/google-diff-match-patch/wiki/Unidiff\">a variation of Unidiff</a>';\n  }\n};\n\nvar formatAnyChange = function formatAnyChange(context, delta) {\n  var deltaType = this.getDeltaType(delta);\n  var annotator = deltaAnnotations[deltaType];\n  var htmlNote = annotator && annotator.apply(annotator, Array.prototype.slice.call(arguments, 1));\n  var json = JSON.stringify(delta, null, 2);\n  if (deltaType === 'textdiff') {\n    // split text diffs lines\n    json = json.split('\\\\n').join('\\\\n\"+\\n   \"');\n  }\n  context.indent();\n  context.row(json, htmlNote);\n  context.indent(-1);\n};\n\n/* eslint-disable camelcase */\nAnnotatedFormatter.prototype.format_added = formatAnyChange;\nAnnotatedFormatter.prototype.format_modified = formatAnyChange;\nAnnotatedFormatter.prototype.format_deleted = formatAnyChange;\nAnnotatedFormatter.prototype.format_moved = formatAnyChange;\nAnnotatedFormatter.prototype.format_textdiff = formatAnyChange;\nvar defaultInstance$1 = void 0;\n\nfunction format$1(delta, left) {\n  if (!defaultInstance$1) {\n    defaultInstance$1 = new AnnotatedFormatter();\n  }\n  return defaultInstance$1.format(delta, left);\n}\n\n\n\nvar annotated = Object.freeze({\n\tdefault: AnnotatedFormatter,\n\tformat: format$1\n});\n\nvar OPERATIONS = {\n  add: 'add',\n  remove: 'remove',\n  replace: 'replace',\n  move: 'move'\n};\n\nvar JSONFormatter = function (_BaseFormatter) {\n  inherits(JSONFormatter, _BaseFormatter);\n\n  function JSONFormatter() {\n    classCallCheck(this, JSONFormatter);\n\n    var _this = possibleConstructorReturn(this, (JSONFormatter.__proto__ || Object.getPrototypeOf(JSONFormatter)).call(this));\n\n    _this.includeMoveDestinations = true;\n    return _this;\n  }\n\n  createClass(JSONFormatter, [{\n    key: 'prepareContext',\n    value: function prepareContext(context) {\n      get(JSONFormatter.prototype.__proto__ || Object.getPrototypeOf(JSONFormatter.prototype), 'prepareContext', this).call(this, context);\n      context.result = [];\n      context.path = [];\n      context.pushCurrentOp = function (obj) {\n        var op = obj.op,\n            value = obj.value;\n\n        var val = {\n          op: op,\n          path: this.currentPath()\n        };\n        if (typeof value !== 'undefined') {\n          val.value = value;\n        }\n        this.result.push(val);\n      };\n\n      context.pushMoveOp = function (to) {\n        var from = this.currentPath();\n        this.result.push({\n          op: OPERATIONS.move,\n          from: from,\n          path: this.toPath(to)\n        });\n      };\n\n      context.currentPath = function () {\n        return '/' + this.path.join('/');\n      };\n\n      context.toPath = function (toPath) {\n        var to = this.path.slice();\n        to[to.length - 1] = toPath;\n        return '/' + to.join('/');\n      };\n    }\n  }, {\n    key: 'typeFormattterErrorFormatter',\n    value: function typeFormattterErrorFormatter(context, err) {\n      context.out('[ERROR] ' + err);\n    }\n  }, {\n    key: 'rootBegin',\n    value: function rootBegin() {}\n  }, {\n    key: 'rootEnd',\n    value: function rootEnd() {}\n  }, {\n    key: 'nodeBegin',\n    value: function nodeBegin(_ref, key, leftKey) {\n      var path = _ref.path;\n\n      path.push(leftKey);\n    }\n  }, {\n    key: 'nodeEnd',\n    value: function nodeEnd(_ref2) {\n      var path = _ref2.path;\n\n      path.pop();\n    }\n\n    /* jshint camelcase: false */\n    /* eslint-disable camelcase */\n\n  }, {\n    key: 'format_unchanged',\n    value: function format_unchanged() {}\n  }, {\n    key: 'format_movedestination',\n    value: function format_movedestination() {}\n  }, {\n    key: 'format_node',\n    value: function format_node(context, delta, left) {\n      this.formatDeltaChildren(context, delta, left);\n    }\n  }, {\n    key: 'format_added',\n    value: function format_added(context, delta) {\n      context.pushCurrentOp({ op: OPERATIONS.add, value: delta[0] });\n    }\n  }, {\n    key: 'format_modified',\n    value: function format_modified(context, delta) {\n      context.pushCurrentOp({ op: OPERATIONS.replace, value: delta[1] });\n    }\n  }, {\n    key: 'format_deleted',\n    value: function format_deleted(context) {\n      context.pushCurrentOp({ op: OPERATIONS.remove });\n    }\n  }, {\n    key: 'format_moved',\n    value: function format_moved(context, delta) {\n      var to = delta[1];\n      context.pushMoveOp(to);\n    }\n  }, {\n    key: 'format_textdiff',\n    value: function format_textdiff() {\n      throw new Error('Not implemented');\n    }\n  }, {\n    key: 'format',\n    value: function format(delta, left) {\n      var context = {};\n      this.prepareContext(context);\n      this.recurse(context, delta, left);\n      return context.result;\n    }\n  }]);\n  return JSONFormatter;\n}(BaseFormatter);\n\nvar last = function last(arr) {\n  return arr[arr.length - 1];\n};\n\nvar sortBy = function sortBy(arr, pred) {\n  arr.sort(pred);\n  return arr;\n};\n\nvar compareByIndexDesc = function compareByIndexDesc(indexA, indexB) {\n  var lastA = parseInt(indexA, 10);\n  var lastB = parseInt(indexB, 10);\n  if (!(isNaN(lastA) || isNaN(lastB))) {\n    return lastB - lastA;\n  } else {\n    return 0;\n  }\n};\n\nvar opsByDescendingOrder = function opsByDescendingOrder(removeOps) {\n  return sortBy(removeOps, function (a, b) {\n    var splitA = a.path.split('/');\n    var splitB = b.path.split('/');\n    if (splitA.length !== splitB.length) {\n      return splitA.length - splitB.length;\n    } else {\n      return compareByIndexDesc(last(splitA), last(splitB));\n    }\n  });\n};\n\nvar partitionOps = function partitionOps(arr, fns) {\n  var initArr = Array(fns.length + 1).fill().map(function () {\n    return [];\n  });\n  return arr.map(function (item) {\n    var position = fns.map(function (fn) {\n      return fn(item);\n    }).indexOf(true);\n    if (position < 0) {\n      position = fns.length;\n    }\n    return { item: item, position: position };\n  }).reduce(function (acc, item) {\n    acc[item.position].push(item.item);\n    return acc;\n  }, initArr);\n};\nvar isMoveOp = function isMoveOp(_ref3) {\n  var op = _ref3.op;\n  return op === 'move';\n};\nvar isRemoveOp = function isRemoveOp(_ref4) {\n  var op = _ref4.op;\n  return op === 'remove';\n};\n\nvar reorderOps = function reorderOps(diff) {\n  var _partitionOps = partitionOps(diff, [isMoveOp, isRemoveOp]),\n      _partitionOps2 = slicedToArray(_partitionOps, 3),\n      moveOps = _partitionOps2[0],\n      removedOps = _partitionOps2[1],\n      restOps = _partitionOps2[2];\n\n  var removeOpsReverse = opsByDescendingOrder(removedOps);\n  return [].concat(toConsumableArray(removeOpsReverse), toConsumableArray(moveOps), toConsumableArray(restOps));\n};\n\nvar defaultInstance$2 = void 0;\n\nvar format$2 = function format(delta, left) {\n  if (!defaultInstance$2) {\n    defaultInstance$2 = new JSONFormatter();\n  }\n  return reorderOps(defaultInstance$2.format(delta, left));\n};\n\nvar log = function log(delta, left) {\n  console.log(format$2(delta, left));\n};\n\n\n\nvar jsonpatch = Object.freeze({\n\tdefault: JSONFormatter,\n\tpartitionOps: partitionOps,\n\tformat: format$2,\n\tlog: log\n});\n\nfunction chalkColor(name) {\n  return chalk && chalk[name] || function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return args;\n  };\n}\n\nvar colors = {\n  added: chalkColor('green'),\n  deleted: chalkColor('red'),\n  movedestination: chalkColor('gray'),\n  moved: chalkColor('yellow'),\n  unchanged: chalkColor('gray'),\n  error: chalkColor('white.bgRed'),\n  textDiffLine: chalkColor('gray')\n};\n\nvar ConsoleFormatter = function (_BaseFormatter) {\n  inherits(ConsoleFormatter, _BaseFormatter);\n\n  function ConsoleFormatter() {\n    classCallCheck(this, ConsoleFormatter);\n\n    var _this = possibleConstructorReturn(this, (ConsoleFormatter.__proto__ || Object.getPrototypeOf(ConsoleFormatter)).call(this));\n\n    _this.includeMoveDestinations = false;\n    return _this;\n  }\n\n  createClass(ConsoleFormatter, [{\n    key: 'prepareContext',\n    value: function prepareContext(context) {\n      get(ConsoleFormatter.prototype.__proto__ || Object.getPrototypeOf(ConsoleFormatter.prototype), 'prepareContext', this).call(this, context);\n      context.indent = function (levels) {\n        this.indentLevel = (this.indentLevel || 0) + (typeof levels === 'undefined' ? 1 : levels);\n        this.indentPad = new Array(this.indentLevel + 1).join('  ');\n        this.outLine();\n      };\n      context.outLine = function () {\n        this.buffer.push('\\n' + (this.indentPad || ''));\n      };\n      context.out = function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        for (var i = 0, l = args.length; i < l; i++) {\n          var lines = args[i].split('\\n');\n          var text = lines.join('\\n' + (this.indentPad || ''));\n          if (this.color && this.color[0]) {\n            text = this.color[0](text);\n          }\n          this.buffer.push(text);\n        }\n      };\n      context.pushColor = function (color) {\n        this.color = this.color || [];\n        this.color.unshift(color);\n      };\n      context.popColor = function () {\n        this.color = this.color || [];\n        this.color.shift();\n      };\n    }\n  }, {\n    key: 'typeFormattterErrorFormatter',\n    value: function typeFormattterErrorFormatter(context, err) {\n      context.pushColor(colors.error);\n      context.out('[ERROR]' + err);\n      context.popColor();\n    }\n  }, {\n    key: 'formatValue',\n    value: function formatValue(context, value) {\n      context.out(JSON.stringify(value, null, 2));\n    }\n  }, {\n    key: 'formatTextDiffString',\n    value: function formatTextDiffString(context, value) {\n      var lines = this.parseTextDiff(value);\n      context.indent();\n      for (var i = 0, l = lines.length; i < l; i++) {\n        var line = lines[i];\n        context.pushColor(colors.textDiffLine);\n        context.out(line.location.line + ',' + line.location.chr + ' ');\n        context.popColor();\n        var pieces = line.pieces;\n        for (var pieceIndex = 0, piecesLength = pieces.length; pieceIndex < piecesLength; pieceIndex++) {\n          var piece = pieces[pieceIndex];\n          context.pushColor(colors[piece.type]);\n          context.out(piece.text);\n          context.popColor();\n        }\n        if (i < l - 1) {\n          context.outLine();\n        }\n      }\n      context.indent(-1);\n    }\n  }, {\n    key: 'rootBegin',\n    value: function rootBegin(context, type, nodeType) {\n      context.pushColor(colors[type]);\n      if (type === 'node') {\n        context.out(nodeType === 'array' ? '[' : '{');\n        context.indent();\n      }\n    }\n  }, {\n    key: 'rootEnd',\n    value: function rootEnd(context, type, nodeType) {\n      if (type === 'node') {\n        context.indent(-1);\n        context.out(nodeType === 'array' ? ']' : '}');\n      }\n      context.popColor();\n    }\n  }, {\n    key: 'nodeBegin',\n    value: function nodeBegin(context, key, leftKey, type, nodeType) {\n      context.pushColor(colors[type]);\n      context.out(leftKey + ': ');\n      if (type === 'node') {\n        context.out(nodeType === 'array' ? '[' : '{');\n        context.indent();\n      }\n    }\n  }, {\n    key: 'nodeEnd',\n    value: function nodeEnd(context, key, leftKey, type, nodeType, isLast) {\n      if (type === 'node') {\n        context.indent(-1);\n        context.out(nodeType === 'array' ? ']' : '}' + (isLast ? '' : ','));\n      }\n      if (!isLast) {\n        context.outLine();\n      }\n      context.popColor();\n    }\n\n    /* jshint camelcase: false */\n    /* eslint-disable camelcase */\n\n  }, {\n    key: 'format_unchanged',\n    value: function format_unchanged(context, delta, left) {\n      if (typeof left === 'undefined') {\n        return;\n      }\n      this.formatValue(context, left);\n    }\n  }, {\n    key: 'format_movedestination',\n    value: function format_movedestination(context, delta, left) {\n      if (typeof left === 'undefined') {\n        return;\n      }\n      this.formatValue(context, left);\n    }\n  }, {\n    key: 'format_node',\n    value: function format_node(context, delta, left) {\n      // recurse\n      this.formatDeltaChildren(context, delta, left);\n    }\n  }, {\n    key: 'format_added',\n    value: function format_added(context, delta) {\n      this.formatValue(context, delta[0]);\n    }\n  }, {\n    key: 'format_modified',\n    value: function format_modified(context, delta) {\n      context.pushColor(colors.deleted);\n      this.formatValue(context, delta[0]);\n      context.popColor();\n      context.out(' => ');\n      context.pushColor(colors.added);\n      this.formatValue(context, delta[1]);\n      context.popColor();\n    }\n  }, {\n    key: 'format_deleted',\n    value: function format_deleted(context, delta) {\n      this.formatValue(context, delta[0]);\n    }\n  }, {\n    key: 'format_moved',\n    value: function format_moved(context, delta) {\n      context.out('==> ' + delta[1]);\n    }\n  }, {\n    key: 'format_textdiff',\n    value: function format_textdiff(context, delta) {\n      this.formatTextDiffString(context, delta[0]);\n    }\n  }]);\n  return ConsoleFormatter;\n}(BaseFormatter);\n\nvar defaultInstance$3 = void 0;\n\nvar format$3 = function format(delta, left) {\n  if (!defaultInstance$3) {\n    defaultInstance$3 = new ConsoleFormatter();\n  }\n  return defaultInstance$3.format(delta, left);\n};\n\nfunction log$1(delta, left) {\n  console.log(format$3(delta, left));\n}\n\n\n\nvar console$1 = Object.freeze({\n\tdefault: ConsoleFormatter,\n\tformat: format$3,\n\tlog: log$1\n});\n\n\n\nvar index = Object.freeze({\n\tbase: base,\n\thtml: html,\n\tannotated: annotated,\n\tjsonpatch: jsonpatch,\n\tconsole: console$1\n});\n\n// use as 2nd parameter for JSON.parse to revive Date instances\nfunction dateReviver(key, value) {\n  var parts = void 0;\n  if (typeof value === 'string') {\n    // eslint-disable-next-line max-len\n    parts = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d*))?(Z|([+-])(\\d{2}):(\\d{2}))$/.exec(value);\n    if (parts) {\n      return new Date(Date.UTC(+parts[1], +parts[2] - 1, +parts[3], +parts[4], +parts[5], +parts[6], +(parts[7] || 0)));\n    }\n  }\n  return value;\n}\n\nfunction create(options) {\n  return new DiffPatcher(options);\n}\n\nvar defaultInstance$4 = void 0;\n\nfunction diff() {\n  if (!defaultInstance$4) {\n    defaultInstance$4 = new DiffPatcher();\n  }\n  return defaultInstance$4.diff.apply(defaultInstance$4, arguments);\n}\n\nfunction patch() {\n  if (!defaultInstance$4) {\n    defaultInstance$4 = new DiffPatcher();\n  }\n  return defaultInstance$4.patch.apply(defaultInstance$4, arguments);\n}\n\nfunction unpatch() {\n  if (!defaultInstance$4) {\n    defaultInstance$4 = new DiffPatcher();\n  }\n  return defaultInstance$4.unpatch.apply(defaultInstance$4, arguments);\n}\n\nfunction reverse() {\n  if (!defaultInstance$4) {\n    defaultInstance$4 = new DiffPatcher();\n  }\n  return defaultInstance$4.reverse.apply(defaultInstance$4, arguments);\n}\n\nfunction clone$1() {\n  if (!defaultInstance$4) {\n    defaultInstance$4 = new DiffPatcher();\n  }\n  return defaultInstance$4.clone.apply(defaultInstance$4, arguments);\n}\n\nexports.DiffPatcher = DiffPatcher;\nexports.formatters = index;\nexports.console = console$1;\nexports.create = create;\nexports.dateReviver = dateReviver;\nexports.diff = diff;\nexports.patch = patch;\nexports.unpatch = unpatch;\nexports.reverse = reverse;\nexports.clone = clone$1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","const left2 = {\n  data: {\n    linkedMedia: [],\n    intro: { show: false },\n    outro: {},\n    customData: {\n      background: {\n        sizes: { width: 719.969, height: 478.766 },\n        datatype: \"media\",\n        id: \"5d28c0265d3adf007dc1dbc9\",\n        url: \"https://cdn.filestackcontent.com/F2ROjlyhT36whdYaZewW\",\n        name: \"hvR96AGa4Ak.jpg\",\n        provider: \"unsplash\",\n        type: \"image/jpeg\",\n        a11y: {},\n        linkedMedia: [\"5d28c0265d3adf007dc1dbc9\"],\n        imageSize: { width: 4256, height: 2832 },\n        poster: {},\n        realDuration: false,\n        thumbnail: null\n      }\n    },\n    items: [\n      {\n        label: \"asdasd1\",\n        description: \"<p>asd</p>\",\n        linkedMedia: [],\n        uuid: 1934,\n        x: 5.2780050252163635,\n        y: 9.190293379229102,\n        uploadedMedia: {\n          x: [],\n          y: [],\n          label: [],\n          description: [],\n          feedbackCorrect: [],\n          feedbackHint: [],\n          feedbackIncorrect: []\n        }\n      }\n    ]\n  },\n  settings: [\n    {\n      defaultValue: \"One at a time\",\n      title: \"Popup Style\",\n      type: \"radio\",\n      information:\n        'Choose \"Concurrent\" to allow multiple popups to be open at once, or limit them to be open one at a time.',\n      values: [{ label: \"One at a time\" }, { label: \"Concurrent\" }]\n    },\n    {\n      defaultValue: \"Ordered\",\n      title: \"Hotspot Marker Style\",\n      type: \"radio\",\n      information:\n        \"Hotspot markers can be represented by a term label, an icon, or in alphanumeric order.\",\n      values: [\n        { label: \"Label\" },\n        {\n          label: \"Icon\",\n          dropdown: {\n            value: \"info\",\n            type: \"icon\",\n            content: \"far fa-info\",\n            values: [\n              { value: \"star\", type: \"icon\", content: \"far fa-star\" },\n              {\n                value: \"locations\",\n                type: \"icon\",\n                content: \"far fa-map-marker-alt\"\n              },\n              { value: \"info\", type: \"icon\", content: \"far fa-info\" },\n              { value: \"question\", type: \"icon\", content: \"far fa-question\" },\n              {\n                value: \"hand-point-up\",\n                type: \"icon\",\n                content: \"far fa-hand-point-up\"\n              },\n              { value: \"lightbulb\", type: \"icon\", content: \"far fa-lightbulb\" },\n              { value: \"camera\", type: \"icon\", content: \"far fa-camera\" },\n              { value: \"search\", type: \"icon\", content: \"far fa-search\" }\n            ]\n          }\n        },\n        {\n          label: \"Ordered\",\n          dropdown: {\n            value: \"numeral\",\n            type: \"text\",\n            content: \"1, 2, 3\",\n            values: [\n              { value: \"numeral\", type: \"text\", content: \"1, 2, 3\" },\n              {\n                value: \"alphabetical-upercase\",\n                type: \"text\",\n                content: \"A, B, C\"\n              },\n              {\n                value: \"alphabetical-lowercase\",\n                type: \"text\",\n                content: \"a, b, c\"\n              },\n              { value: \"roman-upercase\", type: \"text\", content: \"I, II, III\" },\n              { value: \"roman-lowercase\", type: \"text\", content: \"i, ii, iii\" }\n            ]\n          }\n        }\n      ]\n    },\n    {\n      type: \"switch\",\n      hideTitle: true,\n      defaultValue: false,\n      title: \"Invisible Hotspots\",\n      information:\n        \"Invisible hotspots are useful if your background image includes visual hotspot targets that should not be covered by a hotspot marker. Otherwise, making hotspots invisible causes your users to have to hunt for them.\"\n    }\n  ],\n  poster: {}\n};\n\nconst right2 = {\n  data: {\n    linkedMedia: [],\n    intro: { show: false },\n    outro: {},\n    customData: {\n      background: {\n        sizes: { width: 719.969, height: 972.922 },\n        datatype: \"media\",\n        id: \"5d2661ec7e615e0081368451\",\n        url: \"https://cdn.filestackcontent.com/EfhTOPh6TCcH6N7eNABH\",\n        name: \"WfoJE8gktAI.jpg\",\n        provider: \"unsplash\",\n        type: \"image/jpeg\",\n        a11y: {},\n        linkedMedia: [\"5d2661ec7e615e0081368451\"],\n        imageSize: { width: 3694, height: 4992 },\n        poster: {},\n        realDuration: false,\n        thumbnail: null\n      }\n    },\n    items: [\n      {\n        label: \"peepito 2\",\n        description: \"<p>asdsad</p>\",\n        linkedMedia: [],\n        uuid: 6987,\n        x: 2,\n        y: 2,\n        uploadedMedia: {\n          x: [],\n          y: [],\n          label: [],\n          description: [],\n          feedbackCorrect: [],\n          feedbackHint: [],\n          feedbackIncorrect: []\n        }\n      },\n      {\n        label: \"asdasd1\",\n        description: \"<p>asd</p>\",\n        linkedMedia: [],\n        uuid: 1934,\n        x: 5.2780050252163635,\n        y: 9.190293379229102,\n        uploadedMedia: {\n          x: [],\n          y: [],\n          label: [],\n          description: [],\n          feedbackCorrect: [],\n          feedbackHint: [],\n          feedbackIncorrect: []\n        }\n      }\n    ]\n  },\n  settings: [\n    {\n      defaultValue: \"One at a time\",\n      title: \"Popup Style\",\n      type: \"radio\",\n      information:\n        'Choose \"Concurrent\" to allow multiple popups to be open at once, or limit them to be open one at a time.',\n      values: [{ label: \"One at a time\" }, { label: \"Concurrent\" }]\n    },\n    {\n      defaultValue: \"Icon\",\n      title: \"Hotspot Marker Style\",\n      type: \"radio\",\n      information:\n        \"Hotspot markers can be represented by a term label, an icon, or in alphanumeric order.\",\n      values: [\n        { label: \"Label\" },\n        {\n          label: \"Icon\",\n          dropdown: {\n            value: \"info\",\n            type: \"icon\",\n            content: \"far fa-info\",\n            values: [\n              { value: \"star\", type: \"icon\", content: \"far fa-star\" },\n              {\n                value: \"locations\",\n                type: \"icon\",\n                content: \"far fa-map-marker-alt\"\n              },\n              { value: \"info\", type: \"icon\", content: \"far fa-info\" },\n              { value: \"question\", type: \"icon\", content: \"far fa-question\" },\n              {\n                value: \"hand-point-up\",\n                type: \"icon\",\n                content: \"far fa-hand-point-up\"\n              },\n              { value: \"lightbulb\", type: \"icon\", content: \"far fa-lightbulb\" },\n              { value: \"camera\", type: \"icon\", content: \"far fa-camera\" },\n              { value: \"search\", type: \"icon\", content: \"far fa-search\" }\n            ]\n          }\n        },\n        {\n          label: \"Ordered\",\n          dropdown: {\n            value: \"numeral\",\n            type: \"text\",\n            content: \"1, 2, 3\",\n            values: [\n              { value: \"numeral\", type: \"text\", content: \"1, 2, 3\" },\n              {\n                value: \"alphabetical-upercase\",\n                type: \"text\",\n                content: \"A, B, C\"\n              },\n              {\n                value: \"alphabetical-lowercase\",\n                type: \"text\",\n                content: \"a, b, c\"\n              },\n              { value: \"roman-upercase\", type: \"text\", content: \"I, II, III\" },\n              { value: \"roman-lowercase\", type: \"text\", content: \"i, ii, iii\" }\n            ]\n          }\n        }\n      ]\n    },\n    {\n      type: \"switch\",\n      hideTitle: true,\n      defaultValue: true,\n      title: \"Invisible Hotspots\",\n      information:\n        \"Invisible hotspots are useful if your background image includes visual hotspot targets that should not be covered by a hotspot marker. Otherwise, making hotspots invisible causes your users to have to hunt for them.\"\n    }\n  ],\n  poster: {}\n};\n\nexport { left2, right2 };\n","import \"./styles.css\";\n//import { left, right } from \"./jsons\";\nimport { left, right } from \"./json-ht\";\nimport formatter from \"./formatter.js\";\nimport textFormatter from \"./text-formatter.js\";\nimport jsonFormatter from \"./console.js\";\nimport pepeFormatter from \"./console copy.js\";\nlet jsondiffpatch = require(\"jsondiffpatch\");\n\ndocument.getElementById(\"app\").innerHTML = `\n<p><b>David Torroija</b> changes at Jul 24 21:05 hs (GMT -5)</p>\t\n<div>\n  <ul id=\"list\">\n  </ul>\n</div> \n`;\nwindow.json = left;\nconst delta = jsondiffpatch\n  .create({\n    arrays: {\n      // default true, detect items moved inside the array (otherwise they will be registered as remove+add)\n      detectMove: false,\n      // default false, the value of items moved is not included in deltas\n      includeValueOnMove: false\n    },\n    propertyFilter: function(name, context) {\n      /*\n       this optional function can be specified to ignore object properties (eg. volatile data)\n        name: property name, present in either context.left or context.right objects\n        context: the diff context (has context.left and context.right objects)\n      */\n      return ![\"linkedMedia\", \"imageSize\", \"sizes\"].includes(name);\n    }\n  })\n  .diff(left.data, right.data);\n  import { left2, right2} from \"./jsons\";\n\n  const delta2 = jsondiffpatch\n  .create({\n    arrays: {\n      // default true, detect items moved inside the array (otherwise they will be registered as remove+add)\n      detectMove: false,\n      // default false, the value of items moved is not included in deltas\n      includeValueOnMove: false\n    },\n    propertyFilter: function(name, context) {\n      /*\n       this optional function can be specified to ignore object properties (eg. volatile data)\n        name: property name, present in either context.left or context.right objects\n        context: the diff context (has context.left and context.right objects)\n      */\n      return ![\"linkedMedia\", \"imageSize\", \"sizes\"].includes(name);\n    }\n  })\n  .diff(left2, right2);\nwindow.f = formatter;\n\n//console.log(\"diffpatch\", delta, new formatter().format(delta));\n//console.log(\"text\", delta, new textFormatter().format(delta));\n//console.log(\"otro\", delta, jsondiffpatch.formatters.console.format(delta));\n//console.log(\"xxx\", delta, new jsonFormatter().format(delta));\nconsole.log(\"xxx12\", delta, new pepeFormatter().format(delta2));\n//console.log(\"xxx12\", delta, eval(new jsonFormatter().format(delta)));\n//console.log(\"a\", eval(new jsonFormatter().format(delta)));\nconsole.log(\"a2\", new jsonFormatter().format(delta));\nconst resultArr = new textFormatter(delta).format(delta);\nconst select = document.getElementById(\"list\");\n\nfor (var i = 0; i < resultArr.length; i++) {\n  var li = document.createElement(\"li\");\n  var span = document.createElement(\"span\");\n  span.appendChild(document.createTextNode(i));\n  li.appendChild(span);\n  var text = document.createTextNode(resultArr[i]);\n  li.appendChild(text);\n  select.insertBefore(li, select.childNodes[i]);\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}